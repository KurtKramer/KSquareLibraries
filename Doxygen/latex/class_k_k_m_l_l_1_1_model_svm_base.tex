\hypertarget{class_k_k_m_l_l_1_1_model_svm_base}{}\section{K\+K\+M\+LL\+:\+:Model\+Svm\+Base Class Reference}
\label{class_k_k_m_l_l_1_1_model_svm_base}\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}


{\ttfamily \#include $<$Model\+Svm\+Base.\+h$>$}

Inheritance diagram for K\+K\+M\+LL\+:\+:Model\+Svm\+Base\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_k_k_m_l_l_1_1_model_svm_base}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_m_l_l_1_1_model_svm_base}{Model\+Svm\+Base} $\ast$ \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_aa84f0e9baebb7df8a61acf1cf41a4461}{Model\+Svm\+Base\+Ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a6629fe8fe9c0b597f18f61b44d123166}{Model\+Svm\+Base} ()
\item 
\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ad902e194d8bd45ee3aa336b109556e5a}{Model\+Svm\+Base} (\hyperlink{namespace_k_k_m_l_l_a82812d1feb85a6cff72d059bc67bb90e}{Factory\+F\+V\+Producer\+Ptr} \+\_\+factory\+F\+V\+Producer)
\item 
\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a1235d57dd5bfeaae45a02eab8e6e7356}{Model\+Svm\+Base} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+name, const \hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{Model\+Param\+Svm\+Base} \&\+\_\+param, \hyperlink{namespace_k_k_m_l_l_a82812d1feb85a6cff72d059bc67bb90e}{Factory\+F\+V\+Producer\+Ptr} \+\_\+factory\+F\+V\+Producer)
\item 
\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a74e8ba00cbd25cfb4f3477991488ce0b}{Model\+Svm\+Base} (const \hyperlink{class_k_k_m_l_l_1_1_model_svm_base}{Model\+Svm\+Base} \&\+\_\+model)
\item 
virtual \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a3f4de50c1c6def5e0fddab7f7a7ebeaf}{$\sim$\+Model\+Svm\+Base} ()
\begin{DoxyCompactList}\small\item\em Frees any memory allocated by, and owned by the \hyperlink{class_k_k_m_l_l_1_1_model_svm_base}{Model\+Svm\+Base}. \end{DoxyCompactList}\item 
virtual \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ae3132e60f8abe1ec9dc5f24a138002a4}{Description} () const 
\item 
virtual \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_aa84f0e9baebb7df8a61acf1cf41a4461}{Model\+Svm\+Base\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_af90f87dfb7e95ca4f50ac7d6375c24c9}{Duplicate} () const 
\item 
virtual \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab56ab55eaf75a53ccb876ba98079c628}{Memory\+Consumed\+Estimated} () const 
\item 
virtual \hyperlink{class_k_k_m_l_l_1_1_model_aeda4060e088c67446ca993eefcecea06}{Model\+Types} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a9b7d0d490d949e499884b4cbf94f8651}{Model\+Type} () const 
\item 
virtual \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a67e562216aae06c044ce1d16a0b37a5f}{Num\+Of\+Support\+Vectors} () const 
\item 
\hyperlink{namespace_k_k_m_l_l_a33c6027f2904ad96488db149ac30500c}{Model\+Param\+Svm\+Base\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_abd2354aeb663b020ca8b67c05f7dce6f}{Param} ()
\item 
virtual \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a0f6f2bb16427e3136a2c67c0a26d439f}{Predict} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} image, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_afcd7990b5ca16cb75a89a65bb8006229}{Predict} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} known\+Class, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \&pred\+Class1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \&pred\+Class2, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&pred\+Class1\+Votes, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&pred\+Class2\+Votes, double \&prob\+Of\+Known\+Class, double \&pred\+Class1\+Prob, double \&pred\+Class2\+Prob, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&num\+Of\+Winners, bool \&known\+Class\+One\+Of\+The\+Winners, double \&break\+Tie, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
virtual \hyperlink{namespace_k_k_m_l_l_a60f96a524ddb189eff2b4391cf0b651c}{Class\+Prob\+List\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ac89efbfc18a12c050e7ef7620f667374}{Probabilities\+By\+Class} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab455a1aee8a6e0fc57af3504b556de50}{Probabilities\+By\+Class} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, const \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+ml\+Classes, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$\+\_\+votes, double $\ast$\+\_\+probabilities, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a5e5b9d88b430b62c8f1a7d2b4db3991f}{Probabilities\+By\+Class} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} \+\_\+example, const \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+ml\+Classes, double $\ast$\+\_\+probabilities, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\begin{DoxyCompactList}\small\item\em Derives predicted probabilities by class. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_acbd2bc1b2c0208aecbf74514d38431a7}{Read\+X\+ML} (\hyperlink{class_k_k_b_1_1_xml_stream}{Xml\+Stream} \&s, \hyperlink{namespace_k_k_b_a5f1b0b1667d79fec26deeff10c43df23}{Xml\+Tag\+Const\+Ptr} tag, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&cancel\+Flag, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\begin{DoxyCompactList}\small\item\em To be implemented by derived classes; the parent classes fields will be updated by the derived class calling Read\+X\+M\+L\+Model\+Token. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a60b424c785d7d4af1c9664cbc5c3fa8b}{Retrieve\+Cross\+Prob\+Table} (\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\hyperlink{class_k_k_m_l_l_1_1_model_a764e7680f07814c3c5313dc4e4de60a1}{classes}, double $\ast$$\ast$cross\+Prob\+Table, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a05f43d6e02a04d6a00079f7d85459eff}{Train\+Model} (\hyperlink{namespace_k_k_m_l_l_acf2ba92a3cf03e2b19674b24ff488ef6}{Feature\+Vector\+List\+Ptr} \+\_\+train\+Examples, bool \+\_\+already\+Normalized, bool \+\_\+take\+Ownership, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\begin{DoxyCompactList}\small\item\em Performs operations such as Feature\+Encoding, and Normalization. The actual training of models occurs in the specific derived implementation of \textquotesingle{}\hyperlink{class_k_k_m_l_l_1_1_model}{Model}\textquotesingle{}. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_aec3cf8dd16805af8483fbf7b836fcaf9}{Write\+X\+ML} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&var\+Name, ostream \&o) const 
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespace_k_k_m_l_l_a33c6027f2904ad96488db149ac30500c}{Model\+Param\+Svm\+Base\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}
\item 
\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model} $\ast$ \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svm\+Model}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 22 of file Model\+Svm\+Base.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Model\+Svm\+Base\+Ptr@{Model\+Svm\+Base\+Ptr}}
\index{Model\+Svm\+Base\+Ptr@{Model\+Svm\+Base\+Ptr}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Model\+Svm\+Base\+Ptr}{ModelSvmBasePtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Model\+Svm\+Base}$\ast$ {\bf K\+K\+M\+L\+L\+::\+Model\+Svm\+Base\+::\+Model\+Svm\+Base\+Ptr}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_aa84f0e9baebb7df8a61acf1cf41a4461}{}\label{class_k_k_m_l_l_1_1_model_svm_base_aa84f0e9baebb7df8a61acf1cf41a4461}


Definition at line 26 of file Model\+Svm\+Base.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Model\+Svm\+Base@{Model\+Svm\+Base}}
\index{Model\+Svm\+Base@{Model\+Svm\+Base}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Model\+Svm\+Base()}{ModelSvmBase()}}]{\setlength{\rightskip}{0pt plus 5cm}Model\+Svm\+Base\+::\+Model\+Svm\+Base (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a6629fe8fe9c0b597f18f61b44d123166}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a6629fe8fe9c0b597f18f61b44d123166}


Definition at line 35 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::\+Model(), param, and svm\+Model.


\begin{DoxyCode}
35                            :
36   \hyperlink{class_k_k_m_l_l_1_1_model_ae3b375de5f6df4faf74a95d64748e048}{Model} (),
37   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}     (NULL),
38   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}  (NULL)
39 \{
40 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Model\+Svm\+Base@{Model\+Svm\+Base}}
\index{Model\+Svm\+Base@{Model\+Svm\+Base}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Model\+Svm\+Base(\+Factory\+F\+V\+Producer\+Ptr \+\_\+factory\+F\+V\+Producer)}{ModelSvmBase(FactoryFVProducerPtr _factoryFVProducer)}}]{\setlength{\rightskip}{0pt plus 5cm}Model\+Svm\+Base\+::\+Model\+Svm\+Base (
\begin{DoxyParamCaption}
\item[{{\bf Factory\+F\+V\+Producer\+Ptr}}]{\+\_\+factory\+F\+V\+Producer}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_ad902e194d8bd45ee3aa336b109556e5a}{}\label{class_k_k_m_l_l_1_1_model_svm_base_ad902e194d8bd45ee3aa336b109556e5a}


Definition at line 43 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::\+Model(), param, and svm\+Model.


\begin{DoxyCode}
43                                                                    :
44   \hyperlink{class_k_k_m_l_l_1_1_model_ae3b375de5f6df4faf74a95d64748e048}{Model} (\_factoryFVProducer),
45   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}     (NULL),
46   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}  (NULL)
47 \{
48 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Model\+Svm\+Base@{Model\+Svm\+Base}}
\index{Model\+Svm\+Base@{Model\+Svm\+Base}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Model\+Svm\+Base(const K\+K\+Str \&\+\_\+name, const Model\+Param\+Svm\+Base \&\+\_\+param, Factory\+F\+V\+Producer\+Ptr \+\_\+factory\+F\+V\+Producer)}{ModelSvmBase(const KKStr &_name, const ModelParamSvmBase &_param, FactoryFVProducerPtr _factoryFVProducer)}}]{\setlength{\rightskip}{0pt plus 5cm}Model\+Svm\+Base\+::\+Model\+Svm\+Base (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+name, }
\item[{const {\bf Model\+Param\+Svm\+Base} \&}]{\+\_\+param, }
\item[{{\bf Factory\+F\+V\+Producer\+Ptr}}]{\+\_\+factory\+F\+V\+Producer}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a1235d57dd5bfeaae45a02eab8e6e7356}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a1235d57dd5bfeaae45a02eab8e6e7356}


Definition at line 52 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::\+Model(), param, K\+K\+M\+L\+L\+::\+Model\+::param, and svm\+Model.



Referenced by K\+K\+M\+L\+L\+::\+Model\+::\+Create\+A\+Model().


\begin{DoxyCode}
55                             :
56   \hyperlink{class_k_k_m_l_l_1_1_model_ae3b375de5f6df4faf74a95d64748e048}{Model} (\_name, \_param, \_factoryFVProducer),
57   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}     (NULL),
58   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}  (NULL)
59 \{
60   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param} = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{ModelParamSvmBasePtr}\textcolor{keyword}{>} (
      \hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param});
61 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Model\+Svm\+Base@{Model\+Svm\+Base}}
\index{Model\+Svm\+Base@{Model\+Svm\+Base}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Model\+Svm\+Base(const Model\+Svm\+Base \&\+\_\+model)}{ModelSvmBase(const ModelSvmBase &_model)}}]{\setlength{\rightskip}{0pt plus 5cm}Model\+Svm\+Base\+::\+Model\+Svm\+Base (
\begin{DoxyParamCaption}
\item[{const {\bf Model\+Svm\+Base} \&}]{\+\_\+model}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a74e8ba00cbd25cfb4f3477991488ce0b}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a74e8ba00cbd25cfb4f3477991488ce0b}


Definition at line 66 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::file\+Desc, K\+K\+M\+L\+L\+::\+Model\+::\+Model(), param, K\+K\+M\+L\+L\+::\+Model\+::param, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::\+Svm\+\_\+\+Model(), and svm\+Model.



Referenced by Duplicate().


\begin{DoxyCode}
66                                                        :
67   \hyperlink{class_k_k_m_l_l_1_1_model_ae3b375de5f6df4faf74a95d64748e048}{Model} (\_model),
68   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}     (NULL),
69   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}  (NULL)
70 \{
71   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param} = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{ModelParamSvmBasePtr}\textcolor{keyword}{>} (
      \hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param});
72   \textcolor{keywordflow}{if}  (\_model.\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
73   \{
74     \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} = \textcolor{keyword}{new} \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{SVM289\_MFS::Svm\_Model} (*\_model.
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}, \hyperlink{class_k_k_m_l_l_1_1_model_a65c48cd3601efe64e1431beba55e24f4}{fileDesc});
75   \}
76 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!````~Model\+Svm\+Base@{$\sim$\+Model\+Svm\+Base}}
\index{````~Model\+Svm\+Base@{$\sim$\+Model\+Svm\+Base}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{$\sim$\+Model\+Svm\+Base()}{~ModelSvmBase()}}]{\setlength{\rightskip}{0pt plus 5cm}Model\+Svm\+Base\+::$\sim$\+Model\+Svm\+Base (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a3f4de50c1c6def5e0fddab7f7a7ebeaf}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a3f4de50c1c6def5e0fddab7f7a7ebeaf}


Frees any memory allocated by, and owned by the \hyperlink{class_k_k_m_l_l_1_1_model_svm_base}{Model\+Svm\+Base}. 



Definition at line 85 of file Model\+Svm\+Base.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+destroy\+\_\+model(), and svm\+Model.


\begin{DoxyCode}
86 \{
87   \textcolor{comment}{// The base class owns param,  so we do not delete it.}
88   \textcolor{comment}{// delete  param;}
89   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
90   \{
91     \hyperlink{namespace_s_v_m233_ae4315496ae1099c8ec84268ccf7b5d14}{svm\_destroy\_model} (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel});   \textcolor{comment}{// 'svm\_destroy\_model'  will also delete 
       'svmModel'.}
92     \textcolor{keyword}{delete}  \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel};
93     \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} = NULL;
94   \}
95 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Description@{Description}}
\index{Description@{Description}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Description() const }{Description() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf K\+K\+Str} Model\+Svm\+Base\+::\+Description (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_ae3132e60f8abe1ec9dc5f24a138002a4}{}\label{class_k_k_m_l_l_1_1_model_svm_base_ae3132e60f8abe1ec9dc5f24a138002a4}
Return short user readable description of model. 

Reimplemented from \hyperlink{class_k_k_m_l_l_1_1_model_a99f1cf513a3447ddc200fb8beb870c36}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 121 of file Model\+Svm\+Base.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+Model\+::\+Name(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::operator+(), param, and K\+K\+M\+L\+L\+::\+Model\+Param\+Svm\+Base\+::\+Svm\+Param().


\begin{DoxyCode}
122 \{
123   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  result = \textcolor{stringliteral}{"SvmBase("} + \hyperlink{class_k_k_m_l_l_1_1_model_afe3e1b7d4066a438266320ec6efd43de}{Name} () + \textcolor{stringliteral}{")"};
124 
125   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param})
126   \{
127     \textcolor{keyword}{const} \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{SVM289\_MFS::svm\_parameter}&  svmParam = \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}->
      \hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base_a5d2a9e1e1ef64f6f764fdd80ac7e9640}{SvmParam} ();
128     
129     \textcolor{comment}{//result << " " << MachineTypeToStr     (svmParam.MachineType ())}
130     \textcolor{comment}{//       << " " << SelectionMethodToStr (svmParam.SelectionMethod ());}
131   \}
132   \textcolor{keywordflow}{return}  result;
133 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Duplicate@{Duplicate}}
\index{Duplicate@{Duplicate}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Duplicate() const }{Duplicate() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Model\+Svm\+Base\+Ptr} Model\+Svm\+Base\+::\+Duplicate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_af90f87dfb7e95ca4f50ac7d6375c24c9}{}\label{class_k_k_m_l_l_1_1_model_svm_base_af90f87dfb7e95ca4f50ac7d6375c24c9}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_ab45f8caa5e4ad12250c1f737c8b79278}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 113 of file Model\+Svm\+Base.\+cpp.



References Model\+Svm\+Base().


\begin{DoxyCode}
114 \{
115   \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a6629fe8fe9c0b597f18f61b44d123166}{ModelSvmBase} (*\textcolor{keyword}{this});
116 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Memory\+Consumed\+Estimated@{Memory\+Consumed\+Estimated}}
\index{Memory\+Consumed\+Estimated@{Memory\+Consumed\+Estimated}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Memory\+Consumed\+Estimated() const }{MemoryConsumedEstimated() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Model\+Svm\+Base\+::\+Memory\+Consumed\+Estimated (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_ab56ab55eaf75a53ccb876ba98079c628}{}\label{class_k_k_m_l_l_1_1_model_svm_base_ab56ab55eaf75a53ccb876ba98079c628}


Reimplemented from \hyperlink{class_k_k_m_l_l_1_1_model_a8d8d22b5f8101e0749644583f818c86b}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 99 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::\+Memory\+Consumed\+Estimated(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::\+Memory\+Consumed\+Estimated(), and svm\+Model.


\begin{DoxyCode}
100 \{
101   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  memoryConsumedEstimated = \hyperlink{class_k_k_m_l_l_1_1_model_a8d8d22b5f8101e0749644583f818c86b}{Model::MemoryConsumedEstimated} ()
       + 
102                                  \textcolor{keyword}{sizeof} (\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{SVM289\_MFS::Svm\_Model}*)   + 
103                                  \textcolor{keyword}{sizeof} (\hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{ModelParamSvmBasePtr});
104 
105   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
106     memoryConsumedEstimated += \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a126416e9c696cc6b2f63cabbb84abb98}{MemoryConsumedEstimated} ();
107   \textcolor{keywordflow}{return}  memoryConsumedEstimated;
108 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Model\+Type@{Model\+Type}}
\index{Model\+Type@{Model\+Type}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Model\+Type() const }{ModelType() const }}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Model\+Types} K\+K\+M\+L\+L\+::\+Model\+Svm\+Base\+::\+Model\+Type (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a9b7d0d490d949e499884b4cbf94f8651}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a9b7d0d490d949e499884b4cbf94f8651}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_af2e8e6fa4163bc16d07a3a1fa20ea3f9}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 48 of file Model\+Svm\+Base.\+h.



References K\+K\+M\+L\+L\+::\+Model\+::\+Svm\+Base.


\begin{DoxyCode}
48 \{\textcolor{keywordflow}{return} \hyperlink{class_k_k_m_l_l_1_1_model_aeda4060e088c67446ca993eefcecea06ac59ef2743d310cad5d7bbb7b53773bb4}{ModelTypes::SvmBase};\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Num\+Of\+Support\+Vectors@{Num\+Of\+Support\+Vectors}}
\index{Num\+Of\+Support\+Vectors@{Num\+Of\+Support\+Vectors}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Num\+Of\+Support\+Vectors() const }{NumOfSupportVectors() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Model\+Svm\+Base\+::\+Num\+Of\+Support\+Vectors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a67e562216aae06c044ce1d16a0b37a5f}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a67e562216aae06c044ce1d16a0b37a5f}


Definition at line 608 of file Model\+Svm\+Base.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::num\+S\+Vs, and svm\+Model.


\begin{DoxyCode}
609 \{
610   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfSupportVectors = 0;
611   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
612     \textcolor{keywordflow}{return}  0;
613 
614   \textcolor{keywordflow}{return}  \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a9d1cb317006096158440daf45c809f0c}{numSVs};
615 \}  \textcolor{comment}{/* NumOfSupportVectors */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Param@{Param}}
\index{Param@{Param}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Param()}{Param()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Model\+Param\+Svm\+Base\+Ptr} Model\+Svm\+Base\+::\+Param (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_abd2354aeb663b020ca8b67c05f7dce6f}{}\label{class_k_k_m_l_l_1_1_model_svm_base_abd2354aeb663b020ca8b67c05f7dce6f}


Definition at line 137 of file Model\+Svm\+Base.\+cpp.



References param.


\begin{DoxyCode}
138 \{
139   \textcolor{keywordflow}{return} \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param};
140 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Predict@{Predict}}
\index{Predict@{Predict}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Predict(\+Feature\+Vector\+Ptr image, Run\+Log \&log)}{Predict(FeatureVectorPtr image, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+L\+Class\+Ptr} Model\+Svm\+Base\+::\+Predict (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{image, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a0f6f2bb16427e3136a2c67c0a26d439f}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a0f6f2bb16427e3136a2c67c0a26d439f}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_a58ced625000ae9bffffb339e3c73d259}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 252 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::classes\+Index, K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+Model\+::\+Prep\+Example\+For\+Prediction(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+predict(), and svm\+Model.


\begin{DoxyCode}
255 \{
256   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
257   \{
258     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \textcolor{stringliteral}{"ModelSvmBase::Predict   ***ERROR***      (svmModel ==
       NULL)"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
259     \textcolor{keywordflow}{return} NULL;
260   \}
261 
262   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex})
263   \{
264     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \textcolor{stringliteral}{"ModelSvmBase::Predict   ***ERROR***      (classesIndex
       == NULL)"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
265     \textcolor{keywordflow}{return} NULL;
266   \}
267 
268   \textcolor{keywordtype}{bool}  newExampleCreated = \textcolor{keyword}{false};
269   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  encodedExample = \hyperlink{class_k_k_m_l_l_1_1_model_a31b972adfb64769b3ae966debec824fd}{PrepExampleForPrediction} (
      example, newExampleCreated);
270   \textcolor{keywordtype}{double}  y = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})\hyperlink{namespace_s_v_m289___m_f_s_a136a98397b8b552cb5ddcc8691cb7dd1}{SVM289\_MFS::svm\_predict}  (
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}, *encodedExample);
271   \textcolor{keywordflow}{if}  (newExampleCreated)
272   \{
273     \textcolor{keyword}{delete} encodedExample;
274     encodedExample = NULL;
275   \}
276 
277   \hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16}  label = (\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})y;
278 
279   \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  ic = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_af8d2827c2ea25d27a74edc1715aadca5}{GetMLClass} (label);
280   \textcolor{keywordflow}{if}  (!ic)
281     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \textcolor{stringliteral}{"ModelSvmBase::Predict   ***ERROR***      Label["} << y <
      < \textcolor{stringliteral}{"] Returned from the SVM was not in the ClassAssignments list."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
282 
283   \textcolor{keywordflow}{return}  ic;
284 \}  \textcolor{comment}{/* Predict */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Predict@{Predict}}
\index{Predict@{Predict}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Predict(\+Feature\+Vector\+Ptr example, M\+L\+Class\+Ptr known\+Class, M\+L\+Class\+Ptr \&pred\+Class1, M\+L\+Class\+Ptr \&pred\+Class2, kkint32 \&pred\+Class1\+Votes, kkint32 \&pred\+Class2\+Votes, double \&prob\+Of\+Known\+Class, double \&pred\+Class1\+Prob, double \&pred\+Class2\+Prob, kkint32 \&num\+Of\+Winners, bool \&known\+Class\+One\+Of\+The\+Winners, double \&break\+Tie, Run\+Log \&log)}{Predict(FeatureVectorPtr example, MLClassPtr knownClass, MLClassPtr &predClass1, MLClassPtr &predClass2, kkint32 &predClass1Votes, kkint32 &predClass2Votes, double &probOfKnownClass, double &predClass1Prob, double &predClass2Prob, kkint32 &numOfWinners, bool &knownClassOneOfTheWinners, double &breakTie, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Predict (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf M\+L\+Class\+Ptr}}]{known\+Class, }
\item[{{\bf M\+L\+Class\+Ptr} \&}]{pred\+Class1, }
\item[{{\bf M\+L\+Class\+Ptr} \&}]{pred\+Class2, }
\item[{{\bf kkint32} \&}]{pred\+Class1\+Votes, }
\item[{{\bf kkint32} \&}]{pred\+Class2\+Votes, }
\item[{double \&}]{prob\+Of\+Known\+Class, }
\item[{double \&}]{pred\+Class1\+Prob, }
\item[{double \&}]{pred\+Class2\+Prob, }
\item[{{\bf kkint32} \&}]{num\+Of\+Winners, }
\item[{bool \&}]{known\+Class\+One\+Of\+The\+Winners, }
\item[{double \&}]{break\+Tie, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_afcd7990b5ca16cb75a89a65bb8006229}{}\label{class_k_k_m_l_l_1_1_model_svm_base_afcd7990b5ca16cb75a89a65bb8006229}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_a631de950cab4c8cbcbc1bbdb252964d7}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 289 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::classes\+Index, K\+K\+M\+L\+L\+::\+Model\+::class\+Probs, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+Class\+Index(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+M\+L\+Class(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+M\+L\+L\+::\+Model\+::num\+Of\+Classes, K\+K\+M\+L\+L\+::\+Model\+::\+Prep\+Example\+For\+Prediction(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+predict\+\_\+probability(), svm\+Model, and K\+K\+M\+L\+L\+::\+Model\+::votes.


\begin{DoxyCode}
303 \{
304   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
305   \{
306     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::Predict   ***ERROR***      (svmModel == NULL)"};
307     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
308     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
309   \}
310 
311   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex})
312   \{
313     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::Predict   ***ERROR***      (classesIndex == NULL)"};
314     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
315     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
316   \}
317 
318   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  knownClassIdx = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_a9fadd1a6477ef0decfe0ff6b5db9daed}{GetClassIndex} (knownClass);
319 
320   \textcolor{keywordtype}{bool}  newExampleCreated = \textcolor{keyword}{false};
321   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  encodedExample = \hyperlink{class_k_k_m_l_l_1_1_model_a31b972adfb64769b3ae966debec824fd}{PrepExampleForPrediction} (
      example, newExampleCreated);
322 
323   \textcolor{keywordtype}{double}  y = \hyperlink{namespace_s_v_m289___m_f_s_ac0623d29bd02989f751e50d1cb3c8855}{SVM289\_MFS::svm\_predict\_probability} (
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel},  *encodedExample, \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}, \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes});
324 
325   \textcolor{keywordflow}{if}  (newExampleCreated)
326   \{
327     \textcolor{keyword}{delete} encodedExample;
328     encodedExample = NULL;
329   \}
330 
331   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maxIndex1 = 0;
332   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maxIndex2 = 0;
333 
334   \textcolor{keywordtype}{double}  maxProb1 = -1.0;
335   \textcolor{keywordtype}{double}  maxProb2 = -1.0;
336 
337   numOfWinners = 0;
338   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  winnerNumVotes = 0;
339 
340   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} idx = 0;  idx < \hyperlink{class_k_k_m_l_l_1_1_model_ad41340e916a5ccdae7ed38d9546a8445}{numOfClasses};  ++idx)
341   \{
342     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}[idx] > maxProb1)
343     \{
344       maxProb2  = maxProb1;
345       maxIndex2 = maxIndex1;
346       maxProb1  = \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}[idx];
347       maxIndex1 = idx;
348     \}
349     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}[idx] > maxProb2)
350     \{
351       maxProb2 = \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}[idx];
352       maxIndex2 = idx;
353     \}
354 
355     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}[idx] > winnerNumVotes)
356     \{
357       \textcolor{comment}{// We have a new winner.}
358       knownClassOneOfTheWinners = \textcolor{keyword}{false};
359       numOfWinners = 1;
360       winnerNumVotes = \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}[idx];
361       \textcolor{keywordflow}{if}  (knownClassIdx == idx) 
362         knownClassOneOfTheWinners = \textcolor{keyword}{true};
363     \}
364     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}[idx] == winnerNumVotes)
365     \{
366       numOfWinners++;
367       \textcolor{keywordflow}{if}  (knownClassIdx == idx) 
368         knownClassOneOfTheWinners = \textcolor{keyword}{true};
369     \}
370   \}
371 
372   predClass1 = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_af8d2827c2ea25d27a74edc1715aadca5}{GetMLClass} (maxIndex1);
373   predClass2 = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_af8d2827c2ea25d27a74edc1715aadca5}{GetMLClass} (maxIndex2);
374   predClass1Votes = \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}[maxIndex1];
375   predClass2Votes = \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}[maxIndex2];
376   predClass1Prob = maxProb1;
377   predClass2Prob = maxProb2;
378 
379   breakTie = predClass1Prob - predClass2Prob;
380 
381   \textcolor{keywordflow}{if}  ((knownClassIdx < 0)  ||  (knownClassIdx >= numOfClasses))
382   \{
383     probOfKnownClass = 0.0;
384     knownClassOneOfTheWinners = \textcolor{keyword}{false};
385   \}
386   \textcolor{keywordflow}{else}
387   \{
388     probOfKnownClass = (float)\hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}[knownClassIdx];
389   \}
390 
391   \textcolor{keywordflow}{return};
392 \}  \textcolor{comment}{/* Predict */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Probabilities\+By\+Class@{Probabilities\+By\+Class}}
\index{Probabilities\+By\+Class@{Probabilities\+By\+Class}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Probabilities\+By\+Class(\+Feature\+Vector\+Ptr example, Run\+Log \&log)}{ProbabilitiesByClass(FeatureVectorPtr example, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Class\+Prob\+List\+Ptr} Model\+Svm\+Base\+::\+Probabilities\+By\+Class (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_ac89efbfc18a12c050e7ef7620f667374}{}\label{class_k_k_m_l_l_1_1_model_svm_base_ac89efbfc18a12c050e7ef7620f667374}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_a8d5638034838f63a5091978166d99d04}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 398 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::classes\+Index, K\+K\+M\+L\+L\+::\+Class\+Prob\+::\+Class\+Prob(), K\+K\+M\+L\+L\+::\+Class\+Prob\+List\+::\+Class\+Prob\+List(), K\+K\+M\+L\+L\+::\+Model\+::class\+Probs, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+M\+L\+Class(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+M\+L\+L\+::\+Model\+::num\+Of\+Classes, K\+K\+M\+L\+L\+::\+Model\+::\+Prep\+Example\+For\+Prediction(), K\+K\+M\+L\+L\+::\+Class\+Prob\+List\+::\+Push\+On\+Back(), K\+K\+M\+L\+L\+::\+Class\+Prob\+List\+::\+Sort\+By\+Votes(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+predict\+\_\+probability(), svm\+Model, and K\+K\+M\+L\+L\+::\+Model\+::votes.


\begin{DoxyCode}
401 \{
402   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
403   \{
404     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::ProbabilitiesByClass   ***ERROR***      (svmModel == NULL)"};
405     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
406     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
407   \}
408 
409   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex})
410   \{
411     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::ProbabilitiesByClass   ***ERROR***      (classesIndex == NULL)"};
412     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
413     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
414   \}
415 
416   \textcolor{keywordtype}{bool}  newExampleCreated = \textcolor{keyword}{false};
417   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  encodedExample = \hyperlink{class_k_k_m_l_l_1_1_model_a31b972adfb64769b3ae966debec824fd}{PrepExampleForPrediction} (
      example, newExampleCreated);
418 
419   \textcolor{keywordtype}{double}  y = \hyperlink{namespace_s_v_m289___m_f_s_ac0623d29bd02989f751e50d1cb3c8855}{SVM289\_MFS::svm\_predict\_probability} (
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel},  *encodedExample, \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}, \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes});
420 
421   \textcolor{keywordflow}{if}  (newExampleCreated)
422   \{
423     \textcolor{keyword}{delete} encodedExample;
424     encodedExample = NULL;
425   \}
426 
427   \hyperlink{class_k_k_m_l_l_1_1_class_prob_list}{ClassProbListPtr}  results = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_class_prob_list}{ClassProbList} ();
428   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} idx = 0;
429   \textcolor{keywordflow}{for}  (idx = 0;  idx < \hyperlink{class_k_k_m_l_l_1_1_model_ad41340e916a5ccdae7ed38d9546a8445}{numOfClasses};  idx++)
430   \{
431     \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  ic = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_af8d2827c2ea25d27a74edc1715aadca5}{GetMLClass} (idx);
432     results->\hyperlink{class_k_k_m_l_l_1_1_class_prob_list_a9fd88e9e49fd9b46142f1557d74e56ed}{PushOnBack} (\textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_class_prob}{ClassProb} (ic, \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}[idx], (\textcolor{keywordtype}{float})
      \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}[idx]));
433   \}
434 
435   results->\hyperlink{class_k_k_m_l_l_1_1_class_prob_list_ab6eaf7cd82af0befd522fc9b57c9f8b2}{SortByVotes} (\textcolor{keyword}{true});
436 
437   \textcolor{keywordflow}{return}  results;
438 \}  \textcolor{comment}{/* ProbabilitiesByClass */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Probabilities\+By\+Class@{Probabilities\+By\+Class}}
\index{Probabilities\+By\+Class@{Probabilities\+By\+Class}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Probabilities\+By\+Class(\+Feature\+Vector\+Ptr example, const M\+L\+Class\+List \&\+\_\+ml\+Classes, kkint32 $\ast$\+\_\+votes, double $\ast$\+\_\+probabilities, Run\+Log \&\+\_\+log)}{ProbabilitiesByClass(FeatureVectorPtr example, const MLClassList &_mlClasses, kkint32 *_votes, double *_probabilities, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Probabilities\+By\+Class (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{const {\bf M\+L\+Class\+List} \&}]{\+\_\+ml\+Classes, }
\item[{{\bf kkint32} $\ast$}]{\+\_\+votes, }
\item[{double $\ast$}]{\+\_\+probabilities, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_ab455a1aee8a6e0fc57af3504b556de50}{}\label{class_k_k_m_l_l_1_1_model_svm_base_ab455a1aee8a6e0fc57af3504b556de50}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_ab0633c9d78133a4dafe1cf8f86a9f255}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 443 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::classes\+Index, K\+K\+M\+L\+L\+::\+Model\+::class\+Probs, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+Class\+Index(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+::\+Name(), K\+K\+M\+L\+L\+::\+Model\+::num\+Of\+Classes, K\+K\+M\+L\+L\+::\+Model\+::\+Prep\+Example\+For\+Prediction(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+predict\+\_\+probability(), svm\+Model, and K\+K\+M\+L\+L\+::\+Model\+::votes.


\begin{DoxyCode}
449 \{
450   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
451   \{
452     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::ProbabilitiesByClass   ***ERROR***      (svmModel == NULL)"};
453     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
454     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
455   \}
456 
457   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex})
458   \{
459     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::ProbabilitiesByClass   ***ERROR***      (classesIndex == NULL)"};
460     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
461     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
462   \}
463 
464   \textcolor{keywordtype}{bool}  newExampleCreated = \textcolor{keyword}{false};
465   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  encodedExample = \hyperlink{class_k_k_m_l_l_1_1_model_a31b972adfb64769b3ae966debec824fd}{PrepExampleForPrediction} (
      example, newExampleCreated);
466 
467   \textcolor{keywordtype}{double}  y = \hyperlink{namespace_s_v_m289___m_f_s_ac0623d29bd02989f751e50d1cb3c8855}{SVM289\_MFS::svm\_predict\_probability} (
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel},  *encodedExample, \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}, \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes});
468 
469   \textcolor{keywordflow}{if}  (newExampleCreated)
470   \{
471     \textcolor{keyword}{delete} encodedExample;
472     encodedExample = NULL;
473   \}
474 
475   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  idx;
476   \textcolor{keywordflow}{for}  (idx = 0;  idx < \_mlClasses.size ();  idx++)
477   \{
478     \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  ic = \_mlClasses.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (idx);
479     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} classIndex = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_a9fadd1a6477ef0decfe0ff6b5db9daed}{GetClassIndex} (ic);
480     \textcolor{keywordflow}{if}  ((classIndex < 0)  ||  (classIndex >= (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})\hyperlink{class_k_k_m_l_l_1_1_model_ad41340e916a5ccdae7ed38d9546a8445}{numOfClasses}))
481     \{
482       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::Predict  ***ERROR***   "};
483       errMsg << \textcolor{stringliteral}{"Class["} << ic->Name () << \textcolor{stringliteral}{"] was asked for but is not defined in this instance of
       'ModelSvmBase'."};
484       \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
485       \_votes         [idx] = 0;
486       \_probabilities [idx] = 0.0f;
487     \}
488     \textcolor{keywordflow}{else}
489     \{
490       \_votes         [idx] = \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes}      [classIndex];
491       \_probabilities [idx] = \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs} [classIndex];
492     \}
493   \}
494 
495   \textcolor{keywordflow}{return};
496 \}  \textcolor{comment}{/* ProbabilitiesByClass */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Probabilities\+By\+Class@{Probabilities\+By\+Class}}
\index{Probabilities\+By\+Class@{Probabilities\+By\+Class}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Probabilities\+By\+Class(\+Feature\+Vector\+Ptr \+\_\+example, const M\+L\+Class\+List \&\+\_\+ml\+Classes, double $\ast$\+\_\+probabilities, Run\+Log \&\+\_\+log)}{ProbabilitiesByClass(FeatureVectorPtr _example, const MLClassList &_mlClasses, double *_probabilities, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Probabilities\+By\+Class (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{\+\_\+example, }
\item[{const {\bf M\+L\+Class\+List} \&}]{\+\_\+ml\+Classes, }
\item[{double $\ast$}]{\+\_\+probabilities, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a5e5b9d88b430b62c8f1a7d2b4db3991f}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a5e5b9d88b430b62c8f1a7d2b4db3991f}


Derives predicted probabilities by class. 

Will get the probabilities assigned to each class by the classifier. The \textquotesingle{}\+\_\+ml\+Classes\textquotesingle{} parameter dictates the order of the classes. That is the probabilities for any given index in \textquotesingle{}\+\_\+probabilities\textquotesingle{} will be for the class specified in the same index in \textquotesingle{}\+\_\+ml\+Classes\textquotesingle{}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+example} & \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{Feature\+Vector} object to calculate predicted probabilities for. \\
\hline
\mbox{\tt in}  & {\em \+\_\+ml\+Classes} & List image classes that caller is aware of. This should be the same list that was used when constructing this \hyperlink{class_k_k_m_l_l_1_1_model}{Model} object. The list must be the same but not necessarily in the same order as when \hyperlink{class_k_k_m_l_l_1_1_model}{Model} was 1st constructed. \\
\hline
\mbox{\tt out}  & {\em \+\_\+probabilities} & An array that must be as big as the number of classes as in ml\+Classes. The probability of class in ml\+Classes\mbox{[}x\mbox{]} will be returned in probabilities\mbox{[}x\mbox{]}. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_k_k_m_l_l_1_1_model_a7d67e85653e0bf4e60f20e5127fa97a2}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 502 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::classes\+Index, K\+K\+M\+L\+L\+::\+Model\+::class\+Probs, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+Class\+Index(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+::\+Name(), K\+K\+M\+L\+L\+::\+Model\+::num\+Of\+Classes, K\+K\+M\+L\+L\+::\+Model\+::\+Prep\+Example\+For\+Prediction(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+predict\+\_\+probability(), svm\+Model, and K\+K\+M\+L\+L\+::\+Model\+::votes.


\begin{DoxyCode}
507 \{
508   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
509   \{
510     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::ProbabilitiesByClass   ***ERROR***      (svmModel == NULL)"};
511     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
512     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
513   \}
514 
515   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex})
516   \{
517     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::ProbabilitiesByClass   ***ERROR***      (classesIndex == NULL)"};
518     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
519     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
520   \}
521 
522   \textcolor{keywordtype}{bool}  newExampleCreated = \textcolor{keyword}{false};
523   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  encodedExample = \hyperlink{class_k_k_m_l_l_1_1_model_a31b972adfb64769b3ae966debec824fd}{PrepExampleForPrediction} (
      \_example, newExampleCreated);
524 
525   \textcolor{keywordtype}{double}  y = \hyperlink{namespace_s_v_m289___m_f_s_ac0623d29bd02989f751e50d1cb3c8855}{SVM289\_MFS::svm\_predict\_probability} (
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel},  *encodedExample, \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs}, \hyperlink{class_k_k_m_l_l_1_1_model_a7d13e2ff97ace39ec4423fd4bfa9ecf2}{votes});
526 
527   \textcolor{keywordflow}{if}  (newExampleCreated)
528   \{
529     \textcolor{keyword}{delete} encodedExample;
530     encodedExample = NULL;
531   \}
532 
533   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  idx;
534   \textcolor{keywordflow}{for}  (idx = 0;  idx < \_mlClasses.size ();  idx++)
535   \{
536     \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  ic = \_mlClasses.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (idx);
537     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} classIndex = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_a9fadd1a6477ef0decfe0ff6b5db9daed}{GetClassIndex} (ic);
538     \textcolor{keywordflow}{if}  ((classIndex < 0)  ||  (classIndex >= (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})\hyperlink{class_k_k_m_l_l_1_1_model_ad41340e916a5ccdae7ed38d9546a8445}{numOfClasses}))
539     \{
540       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::Predict  ***ERROR***   "};
541       errMsg << \textcolor{stringliteral}{"Class["} << ic->Name () << \textcolor{stringliteral}{"] was asked for but is not defined in this instance of
       'ModelSvmBase'."};
542       \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
543       \_probabilities [idx] = 0.0f;
544     \}
545     \textcolor{keywordflow}{else}
546     \{
547       \_probabilities [idx] = \hyperlink{class_k_k_m_l_l_1_1_model_a9d51bc464ab7049659aeea120bf9db26}{classProbs} [classIndex];
548     \}
549   \}
550 
551   \textcolor{keywordflow}{return};
552 \}  \textcolor{comment}{/* ProbabilitiesByClass */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Read\+X\+ML@{Read\+X\+ML}}
\index{Read\+X\+ML@{Read\+X\+ML}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Read\+X\+M\+L(\+Xml\+Stream \&s, Xml\+Tag\+Const\+Ptr tag, Vol\+Const\+Bool \&cancel\+Flag, Run\+Log \&log)}{ReadXML(XmlStream &s, XmlTagConstPtr tag, VolConstBool &cancelFlag, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Read\+X\+ML (
\begin{DoxyParamCaption}
\item[{{\bf Xml\+Stream} \&}]{s, }
\item[{{\bf Xml\+Tag\+Const\+Ptr}}]{tag, }
\item[{{\bf Vol\+Const\+Bool} \&}]{cancel\+Flag, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_acbd2bc1b2c0208aecbf74514d38431a7}{}\label{class_k_k_m_l_l_1_1_model_svm_base_acbd2bc1b2c0208aecbf74514d38431a7}


To be implemented by derived classes; the parent classes fields will be updated by the derived class calling Read\+X\+M\+L\+Model\+Token. 



Implements \hyperlink{class_k_k_m_l_l_1_1_model_ab7f1d1441936048db8cec7e9ec987f34}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 648 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::\+Add\+Error\+Msg(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+Xml\+Stream\+::\+Get\+Next\+Token(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+Model\+Param\+::\+Model\+Param\+Type\+Str(), param, K\+K\+M\+L\+L\+::\+Model\+::param, K\+K\+M\+L\+L\+::\+Model\+::\+Read\+X\+M\+L\+Model\+Post(), K\+K\+M\+L\+L\+::\+Model\+::\+Read\+X\+M\+L\+Model\+Token(), and svm\+Model.


\begin{DoxyCode}
653 \{
654   \textcolor{keyword}{delete}  \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel};
655   \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} = NULL;
656   \hyperlink{class_k_k_b_1_1_xml_token}{XmlTokenPtr}  t = s.\hyperlink{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{GetNextToken} (cancelFlag, log);
657   \textcolor{keywordflow}{while}  (t)
658   \{
659     t = \hyperlink{class_k_k_m_l_l_1_1_model_a9feaeb8870d1f137b74586bb434b09d2}{ReadXMLModelToken} (t, log);  \textcolor{comment}{// 1st see if the base class has this data field.}
660     \textcolor{keywordflow}{if}  (t)
661     \{
662       \textcolor{keywordflow}{if}  ((t->\hyperlink{class_k_k_b_1_1_xml_token_a28b39cfdfa2ed63048a812b1cb52263c}{VarName} ().\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"SvmModel"}))  &&  (\textcolor{keyword}{typeid}(*t) == \textcolor{keyword}{typeid}(
      \hyperlink{namespace_s_v_m289___m_f_s_a4d0f861b3add61d2800b4dfbc4150186}{XmlElementSvm\_Model})))
663       \{
664         \textcolor{keyword}{delete}  \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel};
665         \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSvm\_ModelPtr}\textcolor{keyword}{>} (t)->TakeOwnership ()
      ;
666       \}
667       \textcolor{keywordflow}{else}
668       \{
669         \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg (128);
670         errMsg << \textcolor{stringliteral}{"ModelSvmBase::ReadXML  ***ERROR***  Unexpected Token;  Section:"} << t->
      \hyperlink{class_k_k_b_1_1_xml_token_a20aa05209eeafb58c1c595c15f07d504}{SectionName} () << \textcolor{stringliteral}{"  VarName: "} << t->\hyperlink{class_k_k_b_1_1_xml_token_a28b39cfdfa2ed63048a812b1cb52263c}{VarName} ();
671         \hyperlink{class_k_k_m_l_l_1_1_model_adb50e734c8b33aff714bc2071b4800bb}{AddErrorMsg} (errMsg, 0);
672         log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
673       \}
674     \}
675 
676     \textcolor{keyword}{delete}  t;
677     t = s.\hyperlink{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{GetNextToken} (cancelFlag, log);
678   \}
679   \textcolor{keyword}{delete}  t;
680   t = NULL;
681 
682   \textcolor{keywordflow}{if}  (!cancelFlag)
683   \{
684     \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param})
685       \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param} = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{ModelParamSvmBasePtr}\textcolor{keyword}{>} (
      \hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param});
686 
687     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param} == NULL)
688     \{
689       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg (128);
690       errMsg << \textcolor{stringliteral}{"ModelSvmBase::ReadXML  ***ERROR***  Base class 'Model' does not have 'param' defined."};
691       \hyperlink{class_k_k_m_l_l_1_1_model_adb50e734c8b33aff714bc2071b4800bb}{AddErrorMsg} (errMsg, 0);
692       log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
693     \}
694 
695     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (\textcolor{keyword}{typeid} (*\hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param}) != \textcolor{keyword}{typeid}(\hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{ModelParamSvmBase}))
696     \{ 
697       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg (128);
698       errMsg << \textcolor{stringliteral}{"ModelSvmBase::ReadXML  ***ERROR***  Base class 'Model' param parameter is of the wrong
       type;  found: "} << \hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param}->\hyperlink{class_k_k_m_l_l_1_1_model_param_a44132ad062b9b73b1e53959a282dfaea}{ModelParamTypeStr} ();
699       \hyperlink{class_k_k_m_l_l_1_1_model_adb50e734c8b33aff714bc2071b4800bb}{AddErrorMsg} (errMsg, 0);
700       log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
701     \}
702 
703     \textcolor{keywordflow}{else}
704     \{
705       \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param} = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base}{ModelParamSvmBasePtr}\textcolor{keyword}{>} (
      \hyperlink{class_k_k_m_l_l_1_1_model_a46bd4d1b3ab8d3d9847c1b00b7c0b66f}{Model::param});
706     \} 
707 
708     \hyperlink{class_k_k_m_l_l_1_1_model_a8e5709f57258442f969f8c5164d4b755}{ReadXMLModelPost} (log);
709   \}
710 \}  \textcolor{comment}{/* ReadXML */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Retrieve\+Cross\+Prob\+Table@{Retrieve\+Cross\+Prob\+Table}}
\index{Retrieve\+Cross\+Prob\+Table@{Retrieve\+Cross\+Prob\+Table}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Retrieve\+Cross\+Prob\+Table(\+M\+L\+Class\+List \&classes, double $\ast$$\ast$cross\+Prob\+Table, Run\+Log \&log)}{RetrieveCrossProbTable(MLClassList &classes, double **crossProbTable, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Retrieve\+Cross\+Prob\+Table (
\begin{DoxyParamCaption}
\item[{{\bf M\+L\+Class\+List} \&}]{classes, }
\item[{double $\ast$$\ast$}]{cross\+Prob\+Table, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a60b424c785d7d4af1c9664cbc5c3fa8b}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a60b424c785d7d4af1c9664cbc5c3fa8b}

\begin{DoxyParams}{Parameters}
{\em cross\+Prob\+Table} & two dimension matrix that needs to be classes.\+Queue\+Size () squared. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_k_k_m_l_l_1_1_model_a9e809d2562e49ab6842344442be94362}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 557 of file Model\+Svm\+Base.\+cpp.



References K\+K\+M\+L\+L\+::\+Model\+::classes\+Index, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Get\+Class\+Index(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+::\+Name(), K\+K\+M\+L\+L\+::\+Model\+::num\+Of\+Classes, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::\+Pairwise\+Prob(), and svm\+Model.


\begin{DoxyCode}
561 \{
562   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  idx1, idx2;
563   \hyperlink{namespace_k_k_b_a791ebe73f89917067a7aab9dbd817e45}{VectorInt}  pairWiseIndexes (\_classes.size (), 0);
564   \textcolor{keywordflow}{for}  (idx1 = 0;  idx1 < \_classes.size ();  idx1++)
565   \{
566     \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  ic = \_classes.IdxToPtr (idx1);
567     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} pairWiseIndex = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_a9fadd1a6477ef0decfe0ff6b5db9daed}{GetClassIndex} (ic);
568     \textcolor{keywordflow}{if}  ((pairWiseIndex < 0)  ||  (pairWiseIndex >= (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})\hyperlink{class_k_k_m_l_l_1_1_model_ad41340e916a5ccdae7ed38d9546a8445}{numOfClasses}))
569     \{
570       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::RetrieveCrossProbTable  ***ERROR***   "};
571       errMsg << \textcolor{stringliteral}{"Class["} << ic->Name () << \textcolor{stringliteral}{"] was asked for but is not defined in this instance of
       'ModelSvmBase'."};
572       \_log.Level (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
573       pairWiseIndexes[idx1] = 0;
574     \}
575     \textcolor{keywordflow}{else}
576     \{
577       pairWiseIndexes[idx1] = pairWiseIndex;
578     \}
579 
580     \textcolor{keywordflow}{for}  (idx2 = 0;  idx2 < \_classes.size ();  idx2++)
581       \_crossProbTable[idx1][idx2] = 0.0;
582   \}
583 
584   \textcolor{keywordtype}{double}** pairWiseProb = \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a0e4118b531080a8e860b76d4eadcfd80}{PairwiseProb} ();
585   \textcolor{keywordflow}{if}  (!pairWiseProb)
586     \textcolor{keywordflow}{return};
587 
588   \textcolor{keywordflow}{for}  (idx1 = 0;  idx1 < (\_classes.size () - 1);  idx1++)
589   \{
590     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} pairWiseIndex1 = pairWiseIndexes [idx1];
591     \textcolor{keywordflow}{if}  ((pairWiseIndex1 >= 0)  &&  (pairWiseIndex1 < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})numOfClasses))
592     \{
593       \textcolor{keywordflow}{for}  (idx2 = idx1 + 1;  idx2 < \_classes.size ();  idx2++)
594       \{
595         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} pairWiseIndex2 = pairWiseIndexes [idx2];
596         \textcolor{keywordflow}{if}  ((pairWiseIndex2 >= 0)  &&  (pairWiseIndex2 < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})numOfClasses))
597         \{
598           \_crossProbTable[idx1][idx2] = pairWiseProb[pairWiseIndex1][pairWiseIndex2];
599           \_crossProbTable[idx2][idx1] = pairWiseProb[pairWiseIndex2][pairWiseIndex1];
600         \}
601       \}
602     \}
603   \}
604 \}  \textcolor{comment}{/* RetrieveCrossProbTable */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Train\+Model@{Train\+Model}}
\index{Train\+Model@{Train\+Model}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Train\+Model(\+Feature\+Vector\+List\+Ptr \+\_\+train\+Examples, bool \+\_\+already\+Normalized, bool \+\_\+take\+Ownership, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, Run\+Log \&\+\_\+log)}{TrainModel(FeatureVectorListPtr _trainExamples, bool _alreadyNormalized, bool _takeOwnership, VolConstBool &_cancelFlag, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Train\+Model (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+List\+Ptr}}]{\+\_\+train\+Examples, }
\item[{bool}]{\+\_\+already\+Normalized, }
\item[{bool}]{\+\_\+take\+Ownership, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a05f43d6e02a04d6a00079f7d85459eff}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a05f43d6e02a04d6a00079f7d85459eff}


Performs operations such as Feature\+Encoding, and Normalization. The actual training of models occurs in the specific derived implementation of \textquotesingle{}\hyperlink{class_k_k_m_l_l_1_1_model}{Model}\textquotesingle{}. 

Performs operations such as Feature\+Encoding, and Normalization; the actual training of models occurs in the specific implementation of \textquotesingle{}\hyperlink{class_k_k_m_l_l_1_1_model}{Model}\textquotesingle{}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+train\+Examples} & Training data that classifier will be built from. If the examples need to be normalized or encoded and we are not taking ownership then a duplicate list of examples will be created that this method and class will be free to modify. \\
\hline
\mbox{\tt in}  & {\em \+\_\+already\+Normalized} & Indicates if contents of \textquotesingle{}\+\_\+train\+Examples\textquotesingle{} are normalized already; if not they will be normalized. \\
\hline
\mbox{\tt in}  & {\em \+\_\+take\+Ownership} & This instance of \hyperlink{class_k_k_m_l_l_1_1_model}{Model} will take ownership of \textquotesingle{}\+\_\+examples\textquotesingle{} and is free to modify its contents. \\
\hline
\end{DoxyParams}

\begin{DoxyParams}{Parameters}
{\em \+\_\+take\+Ownership} & \hyperlink{class_k_k_m_l_l_1_1_model}{Model} will take ownership of these examples \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_k_k_m_l_l_1_1_model_a1341c2cdd41a271e4b84ebf25838d389}{K\+K\+M\+L\+L\+::\+Model}.



Definition at line 144 of file Model\+Svm\+Base.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::operator+(), param, K\+K\+M\+L\+L\+::\+Model\+::root\+File\+Name, K\+K\+M\+L\+L\+::\+Model\+Param\+::\+Selected\+Features(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+destroy\+\_\+model(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::svm\+\_\+problem(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train(), svm\+Model, K\+K\+M\+L\+L\+::\+Model\+Param\+Svm\+Base\+::\+Svm\+Param(), K\+K\+M\+L\+L\+::\+Model\+::train\+Examples, K\+K\+M\+L\+L\+::\+Model\+::\+Training\+Time\+End(), K\+K\+M\+L\+L\+::\+Model\+::\+Training\+Time\+Start(), K\+K\+M\+L\+L\+::\+Model\+::\+Train\+Model(), and K\+K\+M\+L\+L\+::\+Model\+::valid\+Model.


\begin{DoxyCode}
150 \{
151   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (10) << \textcolor{stringliteral}{"ModelSvmBase::TrainModel["} << \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}->\hyperlink{class_k_k_m_l_l_1_1_model_param_a43bf01844918b2c932d65c65f6eae283}{FileName} () << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
152 
153   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param} == NULL)
154   \{
155     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
156     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel   (param == NULL)"};
157     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
158     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
159   \}
160 
161   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
162   \{
163     \hyperlink{namespace_s_v_m233_ae4315496ae1099c8ec84268ccf7b5d14}{svm\_destroy\_model} (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel});
164     \textcolor{keyword}{delete}  \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel};
165     \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} = NULL;
166   \}
167 
168   \textcolor{keywordflow}{try} 
169   \{
170     \hyperlink{class_k_k_m_l_l_1_1_model_a1341c2cdd41a271e4b84ebf25838d389}{Model::TrainModel} (\_trainExamples, \_alreadyNormalized, \_takeOwnership, \_cancelFlag, 
      \_log);
171   \}
172   \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException}&  e)
173   \{
174     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
175     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel  ***ERROR*** Exception occurred calling
       'Model::TrainModel'."};
176     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << e.\hyperlink{class_k_k_b_1_1_k_k_exception_a9d565e887e90968c5e306c1ea94c6894}{ToString} () << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
177     \textcolor{keywordflow}{throw}  \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg, e);
178   \}
179   \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} exception& e2)
180   \{
181     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
182     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel  ***ERROR*** Exception occurred calling
       'Model::TrainModel'."};
183     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << e2.what () << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
184     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg, e2);
185   \}
186   \textcolor{keywordflow}{catch} (...)
187   \{
188     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
189     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel  ***ERROR*** Exception occurred calling
       'Model::TrainModel'."};
190     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
191     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
192   \}
193     
194 
195   \textcolor{comment}{// 'Model::TrainModel'  Will have performed any Feature Encoding that needed to be done.  }
196   \textcolor{comment}{// Also the data structures 'classes', 'encoder', and 'fileDesc' will have been built.}
197   \textcolor{comment}{// 'classes' will already be sorted in name order.}
198   \textcolor{comment}{// The Prediction variables 'probabilities', 'votes', and 'crossClassProbTable' will}
199   \textcolor{comment}{// have been built.}
200 
201 
202   \textcolor{comment}{// Build the Label array that libSVM expects.}
203   \textcolor{keywordtype}{float}*  y = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[\hyperlink{class_k_k_m_l_l_1_1_model_a49f61d35489e1782cd31858fd0082f8e}{trainExamples}->\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ()];
204   \{
205     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} labelIndex = 0;  labelIndex < \hyperlink{class_k_k_m_l_l_1_1_model_a49f61d35489e1782cd31858fd0082f8e}{trainExamples}->
      \hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();  labelIndex++)
206     \{
207       \hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16}  label = \hyperlink{class_k_k_m_l_l_1_1_model_adbb9475e16bb2c3eef52170485e3018e}{classesIndex}->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_index_list_a9fadd1a6477ef0decfe0ff6b5db9daed}{GetClassIndex} (
      \hyperlink{class_k_k_m_l_l_1_1_model_a49f61d35489e1782cd31858fd0082f8e}{trainExamples}->\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (labelIndex)->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a3c8fe002c6e868f8c00059c004fb32fd}{MLClass} ());
208       \textcolor{keywordflow}{if}  (label < 0)
209       \{
210         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \textcolor{stringliteral}{" ModelSvmBase::TrainModel   ***ERROR***   Label computed to
       -1; should not be able to happen."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
211       \}
212       y[labelIndex] = (float)label;
213     \}
214   \}
215 
216   \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{SVM289\_MFS::svm\_problem}  prob (*\hyperlink{class_k_k_m_l_l_1_1_model_a49f61d35489e1782cd31858fd0082f8e}{trainExamples}, y, *(
      \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}->\hyperlink{class_k_k_m_l_l_1_1_model_param_a99ae86303829d99bd252ccf4c4e672f8}{SelectedFeatures} ()));
217   \textcolor{keyword}{delete}[]  y;  y = NULL;
218 
219   \textcolor{keywordflow}{try}
220   \{
221     \hyperlink{class_k_k_m_l_l_1_1_model_a8afe69ddf54a60b75ae540bcf9d4c901}{TrainingTimeStart} ();
222     \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} = \hyperlink{namespace_s_v_m289___m_f_s_a43df769c212177853bd5e2c8daed723b}{SVM289\_MFS::svm\_train} (prob, \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{param}->
      \hyperlink{class_k_k_m_l_l_1_1_model_param_svm_base_a5d2a9e1e1ef64f6f764fdd80ac7e9640}{SvmParam} (), \_log);
223     \hyperlink{class_k_k_m_l_l_1_1_model_a95ac8514000249fe8968b0b4e00a9342}{TrainingTimeEnd} ();
224   \}
225   \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception&  e)
226   \{
227     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
228     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel   ***ERROR*** Exception occurred in
       'SVM289\_MFS::svm\_train' building training model["} + \hyperlink{class_k_k_m_l_l_1_1_model_a242173cd17f4a84ce1ee47fc7fabd9a2}{rootFileName} + \textcolor{stringliteral}{"]."};
229     errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \textcolor{stringliteral}{"        Exception["} << e.what () << \textcolor{stringliteral}{"]"};
230     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
231     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
232   \}
233   \textcolor{keywordflow}{catch} (...)
234   \{
235     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
236     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel   ***ERROR*** Exception occurred in
       'SVM289\_MFS::svm\_train' building training model["} + \hyperlink{class_k_k_m_l_l_1_1_model_a242173cd17f4a84ce1ee47fc7fabd9a2}{rootFileName} + \textcolor{stringliteral}{"]."};
237     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
238     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
239   \}
240 
241   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel} == NULL)
242   \{
243     \hyperlink{class_k_k_m_l_l_1_1_model_af881a051b703412686fa3b4a62b6d68a}{validModel} = \textcolor{keyword}{false};
244     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ModelSvmBase::TrainModel   ***ERROR*** Building 'LibSVM' training model["} + 
      \hyperlink{class_k_k_m_l_l_1_1_model_a242173cd17f4a84ce1ee47fc7fabd9a2}{rootFileName} + \textcolor{stringliteral}{"]."};
245     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
246     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
247   \}
248 \}  \textcolor{comment}{/* TrainModel */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!Write\+X\+ML@{Write\+X\+ML}}
\index{Write\+X\+ML@{Write\+X\+ML}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{Write\+X\+M\+L(const K\+K\+Str \&var\+Name, ostream \&o) const }{WriteXML(const KKStr &varName, ostream &o) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Model\+Svm\+Base\+::\+Write\+X\+ML (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{var\+Name, }
\item[{ostream \&}]{o}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_aec3cf8dd16805af8483fbf7b836fcaf9}{}\label{class_k_k_m_l_l_1_1_model_svm_base_aec3cf8dd16805af8483fbf7b836fcaf9}


Definition at line 621 of file Model\+Svm\+Base.\+cpp.



References K\+K\+B\+::\+Xml\+Tag\+::\+Add\+Atribute(), K\+K\+B\+::\+K\+K\+Str\+::\+Empty(), svm\+Model, K\+K\+B\+::\+Xml\+Tag\+::tag\+End, K\+K\+B\+::\+Xml\+Tag\+::tag\+Start, K\+K\+M\+L\+L\+::\+Model\+::\+Write\+Model\+X\+M\+L\+Fields(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::\+Write\+X\+M\+L(), K\+K\+B\+::\+Xml\+Tag\+::\+Write\+X\+M\+L(), and K\+K\+B\+::\+Xml\+Tag\+::\+Xml\+Tag().


\begin{DoxyCode}
624 \{
625   \hyperlink{class_k_k_b_1_1_xml_tag}{XmlTag}  startTag (\textcolor{stringliteral}{"ModelSvmBase"},  XmlTag::TagTypes::tagStart);
626   \textcolor{keywordflow}{if}  (!varName.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ())
627     startTag.AddAtribute (\textcolor{stringliteral}{"VarName"}, varName);
628   startTag.WriteXML (o);
629 
630   \hyperlink{class_k_k_m_l_l_1_1_model_a560829876c8ca002f00592e428a780a2}{WriteModelXMLFields} (o);  \textcolor{comment}{// Write the PArent class fields 1st.}
631 
632   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel})
633     \hyperlink{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{svmModel}->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_ac0547f02f0aa730420892f4a7897d636}{WriteXML} (\textcolor{stringliteral}{"SvmModel"}, o);
634 
635   \textcolor{comment}{//  Turns out the base class "Model" owns this data field and will also be writing it}
636   \textcolor{comment}{// out so no point in re-reading again.}
637   \textcolor{comment}{//if  (param)  param->WriteXML ("Param", o);}
638 
639   \hyperlink{class_k_k_b_1_1_xml_tag}{XmlTag}  endTag (\textcolor{stringliteral}{"ModelSvmBase"}, XmlTag::TagTypes::tagEnd);
640   endTag.WriteXML (o);
641   o << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
642 \}  \textcolor{comment}{/* WriteXML */}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!param@{param}}
\index{param@{param}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{param}{param}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Model\+Param\+Svm\+Base\+Ptr} K\+K\+M\+L\+L\+::\+Model\+Svm\+Base\+::param\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}{}\label{class_k_k_m_l_l_1_1_model_svm_base_ab51783a9e9c03832590cb43294b3899f}
We will N\+OT own this instance. It will point to same instance defined in parent class \hyperlink{class_k_k_m_l_l_1_1_model}{Model}. 

Definition at line 144 of file Model\+Svm\+Base.\+h.



Referenced by Description(), Model\+Svm\+Base(), Param(), Read\+X\+M\+L(), and Train\+Model().

\index{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}!svm\+Model@{svm\+Model}}
\index{svm\+Model@{svm\+Model}!K\+K\+M\+L\+L\+::\+Model\+Svm\+Base@{K\+K\+M\+L\+L\+::\+Model\+Svm\+Base}}
\subsubsection[{\texorpdfstring{svm\+Model}{svmModel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model}$\ast$ K\+K\+M\+L\+L\+::\+Model\+Svm\+Base\+::svm\+Model\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}{}\label{class_k_k_m_l_l_1_1_model_svm_base_a8f6ed793dfaa080ddea8e1776d2ee755}


Definition at line 143 of file Model\+Svm\+Base.\+h.



Referenced by Memory\+Consumed\+Estimated(), Model\+Svm\+Base(), Num\+Of\+Support\+Vectors(), Predict(), Probabilities\+By\+Class(), Read\+X\+M\+L(), Retrieve\+Cross\+Prob\+Table(), Train\+Model(), Write\+X\+M\+L(), and $\sim$\+Model\+Svm\+Base().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_model_svm_base_8h}{Model\+Svm\+Base.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_model_svm_base_8cpp}{Model\+Svm\+Base.\+cpp}\end{DoxyCompactItemize}
