\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45}{}\section{K\+K\+M\+LL\+:\+:Feature\+File\+I\+O\+C45 Class Reference}
\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45}\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}


Supports the reading and writing of feature data from C45 formated feature files.  




{\ttfamily \#include $<$Feature\+File\+I\+O\+C45.\+h$>$}

Inheritance diagram for K\+K\+M\+LL\+:\+:Feature\+File\+I\+O\+C45\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_k_k_m_l_l_1_1_feature_file_i_o_c45}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45}{Feature\+File\+I\+O\+C45} $\ast$ \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ae0cc1ea15fc10f1a030fcbbf10a08af8}{Feature\+File\+I\+O\+C45\+Ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ad1763dd3f92404588d80d21b8fff83c8}{Feature\+File\+I\+O\+C45} ()
\item 
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a890a0a2b3f62a0d0de6d4b85a2873f6f}{$\sim$\+Feature\+File\+I\+O\+C45} ()
\item 
virtual \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a17aa8ed6fcf2e293af5e018fc12a75d0}{Get\+File\+Desc} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, istream \&\+\_\+in, \hyperlink{namespace_k_k_m_l_l_af091cde3f4a4315658b41a5e7583fc26}{M\+L\+Class\+List\+Ptr} \+\_\+class\+List, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&\+\_\+est\+Size, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
virtual \hyperlink{namespace_k_k_m_l_l_acf2ba92a3cf03e2b19674b24ff488ef6}{Feature\+Vector\+List\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a5223da28157b11024119c1edd93143c2}{Load\+Feature\+File} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+ml\+Classes, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+max\+Count, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, bool \&\+\_\+changes\+Made, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\begin{DoxyCompactList}\small\item\em Loads the contents of a feature data file and returns a Image\+Features\+List container object. \end{DoxyCompactList}\item 
virtual \hyperlink{namespace_k_k_m_l_l_acf2ba92a3cf03e2b19674b24ff488ef6}{Feature\+Vector\+List\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a50c64295fe00ad20996b39665e5f1305}{Load\+File} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, const \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \+\_\+file\+Desc, \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+classes, istream \&\+\_\+in, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+max\+Count, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+changes\+Made, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ab2fdc4e67aad229afa7aed75999eeb5b}{Save\+File} (\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{Feature\+Vector\+List} \&\+\_\+data, const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, \hyperlink{namespace_k_k_m_l_l_ad276a9ed309552a63300bce930bdfebd}{Feature\+Num\+List\+Const} \&\+\_\+sel\+Features, ostream \&\+\_\+out, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} \&\+\_\+num\+Examples\+Written, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ae0cc1ea15fc10f1a030fcbbf10a08af8}{Feature\+File\+I\+O\+C45\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a68cdc1cc37b82e88460fa86401f01b51}{Driver} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Supports the reading and writing of feature data from C45 formated feature files. 


\begin{DoxyCode}
FeatureFileIODC45   Sub-classed from \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a820170380cfca6a036a29d2c51b8441a}{FeatureFileIO}.  Supports the reading and writing of    *
the C45 file format.  For each data \textcolor{keyword}{set} there will be two files.  \textcolor{stringliteral}{'Names'}  and  \textcolor{stringliteral}{'Data'}      *
http:\textcolor{comment}{//www.cs.washington.edu/dm/vfml/appendixes/c45.htm  for description                    *}
\end{DoxyCode}
 \begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o}{Feature\+File\+IO} 
\end{DoxySeeAlso}


Definition at line 21 of file Feature\+File\+I\+O\+C45.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Feature\+File\+I\+O\+C45\+Ptr@{Feature\+File\+I\+O\+C45\+Ptr}}
\index{Feature\+File\+I\+O\+C45\+Ptr@{Feature\+File\+I\+O\+C45\+Ptr}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Feature\+File\+I\+O\+C45\+Ptr}{FeatureFileIOC45Ptr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Feature\+File\+I\+O\+C45}$\ast$ {\bf K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45\+::\+Feature\+File\+I\+O\+C45\+Ptr}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ae0cc1ea15fc10f1a030fcbbf10a08af8}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ae0cc1ea15fc10f1a030fcbbf10a08af8}


Definition at line 28 of file Feature\+File\+I\+O\+C45.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Feature\+File\+I\+O\+C45@{Feature\+File\+I\+O\+C45}}
\index{Feature\+File\+I\+O\+C45@{Feature\+File\+I\+O\+C45}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Feature\+File\+I\+O\+C45()}{FeatureFileIOC45()}}]{\setlength{\rightskip}{0pt plus 5cm}Feature\+File\+I\+O\+C45\+::\+Feature\+File\+I\+O\+C45 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ad1763dd3f92404588d80d21b8fff83c8}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ad1763dd3f92404588d80d21b8fff83c8}


Definition at line 33 of file Feature\+File\+I\+O\+C45.\+cpp.



References K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Feature\+File\+I\+O().


\begin{DoxyCode}
33                                    :
34   \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a820170380cfca6a036a29d2c51b8441a}{FeatureFileIO} (\textcolor{stringliteral}{"C45"}, \textcolor{keyword}{true}, \textcolor{keyword}{true})
35 \{
36 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!````~Feature\+File\+I\+O\+C45@{$\sim$\+Feature\+File\+I\+O\+C45}}
\index{````~Feature\+File\+I\+O\+C45@{$\sim$\+Feature\+File\+I\+O\+C45}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{$\sim$\+Feature\+File\+I\+O\+C45()}{~FeatureFileIOC45()}}]{\setlength{\rightskip}{0pt plus 5cm}Feature\+File\+I\+O\+C45\+::$\sim$\+Feature\+File\+I\+O\+C45 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a890a0a2b3f62a0d0de6d4b85a2873f6f}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a890a0a2b3f62a0d0de6d4b85a2873f6f}


Definition at line 40 of file Feature\+File\+I\+O\+C45.\+cpp.


\begin{DoxyCode}
41 \{
42 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Driver@{Driver}}
\index{Driver@{Driver}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Driver()}{Driver()}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Feature\+File\+I\+O\+C45\+Ptr} K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45\+::\+Driver (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a68cdc1cc37b82e88460fa86401f01b51}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a68cdc1cc37b82e88460fa86401f01b51}


Definition at line 30 of file Feature\+File\+I\+O\+C45.\+h.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+Factory\+::\+Default\+Feature\+File\+I\+O().


\begin{DoxyCode}
30 \{\textcolor{keywordflow}{return} &driver;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Get\+File\+Desc@{Get\+File\+Desc}}
\index{Get\+File\+Desc@{Get\+File\+Desc}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Get\+File\+Desc(const K\+K\+Str \&\+\_\+file\+Name, istream \&\+\_\+in, M\+L\+Class\+List\+Ptr \+\_\+class\+List, kkint32 \&\+\_\+est\+Size, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&log)}{GetFileDesc(const KKStr &_fileName, istream &_in, MLClassListPtr _classList, kkint32 &_estSize, KKStr &_errorMessage, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf File\+Desc\+Ptr} Feature\+File\+I\+O\+C45\+::\+Get\+File\+Desc (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{istream \&}]{\+\_\+in, }
\item[{{\bf M\+L\+Class\+List\+Ptr}}]{\+\_\+class\+List, }
\item[{{\bf kkint32} \&}]{\+\_\+est\+Size, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a17aa8ed6fcf2e293af5e018fc12a75d0}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a17aa8ed6fcf2e293af5e018fc12a75d0}


Definition at line 396 of file Feature\+File\+I\+O\+C45.\+cpp.



References K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Add\+Classes(), K\+K\+B\+::\+K\+K\+Str\+::\+Chop\+Last\+Char(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+K\+K\+Str\+::\+Empty(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+File\+Desc(), K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Get\+Line(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Get\+M\+L\+Class\+Ptr(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+B\+::\+K\+K\+Str\+::\+Last\+Char(), K\+K\+B\+::\+K\+K\+Str\+::\+Len(), K\+K\+B\+::\+K\+K\+Str\+::operator=(), K\+K\+B\+::\+K\+K\+Str\+::operator\mbox{[}$\,$\mbox{]}(), K\+K\+B\+::\+K\+K\+Str\+::\+Split(), and K\+K\+B\+::\+K\+K\+Str\+::\+Sub\+Str\+Part().


\begin{DoxyCode}
403 \{
404   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  namesFileName;
405 
406  
407   \textcolor{keywordtype}{bool}  classLineRead = \textcolor{keyword}{false};
408 
409   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  ln (1024);
410   \textcolor{keywordtype}{bool}  eof = \textcolor{keyword}{false};
411   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lineNum = 0;
412   \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);  lineNum++;
413 
414   \textcolor{keywordflow}{while}  ((!eof)  &&  (!classLineRead))
415   \{
416     C45StripComments (ln);
417 
418     \textcolor{keywordflow}{if}  (!ln.Empty ())
419     \{
420       \textcolor{comment}{// We have our very first line,  this should consist }
421       \textcolor{comment}{// of all the class names.}
422 
423       \textcolor{comment}{// Eliminate any trailing period.}
424       \textcolor{keywordflow}{if}  (ln.LastChar () == \textcolor{charliteral}{'.'})
425         ln.ChopLastChar ();
426 
427       \hyperlink{class_k_k_b_1_1_vector_k_k_str}{VectorKKStr}  classNames = ln.Split (\textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)r\(\backslash\)t,"});
428       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  idx = 0;  idx < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})classNames.size ();   idx++)
429       \{
430         \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  className = classNames[idx];
431         C45StrPreProcessName (className);
432         \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  mlClass = \_classes->GetMLClassPtr (className);
433       \}
434 
435       classLineRead = \textcolor{keyword}{true};
436     \}
437     \textcolor{keywordflow}{else}
438     \{
439       \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);  lineNum++;
440     \}
441   \}
442 
443   \textcolor{keywordflow}{if}  (!classLineRead)
444   \{
445     \_log.Level (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
446                    << \textcolor{stringliteral}{"FeatureFileIOC45::GetFileDesc  *** ERROR ***    No class line in Names File."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
447                    << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
448     \_errorMessage = \textcolor{stringliteral}{"No class line in Names File."};
449     \textcolor{keywordflow}{return}  NULL;
450   \}
451 
452 
453   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr}  fileDesc = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDesc} ();
454   fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_abeb0ede4c660ec82b0107924acfd9a45}{AddClasses} (*\_classes);
455 
456   \textcolor{comment}{// Can now load in attribute data}
457   \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);  lineNum++;
458   \textcolor{keywordflow}{while}  (!eof)
459   \{
460     C45StripComments (ln);
461 
462     \textcolor{comment}{// "ln"  may consist of more than one attribute descriptor separated by periods.}
463     \textcolor{keywordflow}{while}  (!ln.Empty ())
464     \{
465       \textcolor{keywordtype}{bool}  validStr = \textcolor{keyword}{true};
466 
467       \textcolor{comment}{// Locate a period followed by white space, if not followed by }
468       \textcolor{comment}{// white space, will be part of a name.}
469       \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  dotPos = 0;
470       \textcolor{keywordflow}{while}  (dotPos < ln.Len ())
471       \{
472         \textcolor{keywordflow}{if}  (ln[dotPos] == \textcolor{charliteral}{'.'})
473         \{
474           \textcolor{keywordflow}{if}  (dotPos >= (ln.Len () - 1))
475             \textcolor{keywordflow}{break};
476 
477           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (strchr (\textcolor{stringliteral}{" \(\backslash\)t\(\backslash\)r\(\backslash\)n"}, ln[dotPos + 1]))
478             \textcolor{keywordflow}{break};
479         \}
480 
481         dotPos++;
482       \}
483 
484       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  attrStr;
485 
486       \textcolor{keywordflow}{if}  (dotPos >= ln.Len ())
487       \{
488         attrStr = ln;
489         ln = \textcolor{stringliteral}{""};
490       \}
491       \textcolor{keywordflow}{else}
492       \{
493         attrStr = ln.\hyperlink{class_k_k_b_1_1_k_k_str_a5f20b2ddfc9f07c8ef99592810332ddb}{SubStrPart} (0, dotPos - 1);
494         ln = ln.\hyperlink{class_k_k_b_1_1_k_k_str_a5f20b2ddfc9f07c8ef99592810332ddb}{SubStrPart} (dotPos + 1);
495       \}
496 
497       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  origAttrStr (attrStr);
498       ProcessC45AttrStr (fileDesc, attrStr, validStr, \_log);
499       \textcolor{keywordflow}{if}  (!validStr)
500       \{
501         \_log.Level (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
502                         << \textcolor{stringliteral}{"FeatureFileIOC45::GetFileDesc  ***ERROR***    Invalid AttributeStr["} << 
      origAttrStr  << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
503                         << \textcolor{stringliteral}{"                                              LineNum["}              << lineNum
            << \textcolor{stringliteral}{"]"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
504                         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
505         \_errorMessage = \textcolor{stringliteral}{"No class line in Names File."};
506         \_errorMessage << \textcolor{stringliteral}{"Invalid AttributeStr["} << origAttrStr << \textcolor{stringliteral}{"],  LineNum["} << lineNum << \textcolor{stringliteral}{"]"};
507 
508         \textcolor{comment}{// Can not delete an instance of a 'FileDesc' class once it has been created.}
509         \textcolor{comment}{// delete  fileDesc;  fileDesc = NULL;}
510         \textcolor{keywordflow}{return}  NULL;
511       \}
512     \}
513 
514     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);  lineNum++;
515   \}
516 
517   \textcolor{keywordflow}{return}  fileDesc;
518 \}  \textcolor{comment}{/* GetFileDesc */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Load\+Feature\+File@{Load\+Feature\+File}}
\index{Load\+Feature\+File@{Load\+Feature\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Load\+Feature\+File(const K\+K\+Str \&\+\_\+file\+Name, M\+L\+Class\+List \&\+\_\+ml\+Classes, kkint32 \+\_\+max\+Count, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, bool \&\+\_\+changes\+Made, Run\+Log \&\+\_\+log)}{LoadFeatureFile(const KKStr &_fileName, MLClassList &_mlClasses, kkint32 _maxCount, VolConstBool &_cancelFlag, bool &_successful, bool &_changesMade, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Vector\+List\+Ptr} Feature\+File\+I\+O\+C45\+::\+Load\+Feature\+File (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{{\bf M\+L\+Class\+List} \&}]{\+\_\+ml\+Classes, }
\item[{{\bf kkint32}}]{\+\_\+max\+Count, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+successful, }
\item[{bool \&}]{\+\_\+changes\+Made, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a5223da28157b11024119c1edd93143c2}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a5223da28157b11024119c1edd93143c2}


Loads the contents of a feature data file and returns a Image\+Features\+List container object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+file\+Name} & Feature file that is being synchronized. \\
\hline
\mbox{\tt in,out}  & {\em \+\_\+ml\+Classes} & All classes encountered during the loading of the feature file will be added to this list. \\
\hline
\mbox{\tt in}  & {\em \+\_\+max\+Count} & Maximum number of examples to load, -\/1 = load all \\
\hline
\mbox{\tt in}  & {\em \+\_\+cancel\+Flag} & If this flag turns true the load will terminate and return to caller. \\
\hline
\mbox{\tt out}  & {\em \+\_\+successful} & False will be returned if load failed. \\
\hline
\mbox{\tt out}  & {\em \+\_\+changes\+Made} & If the routine had loaded the feature data determined that it needed to make changes this flag will be set \textquotesingle{}true\textquotesingle{}. \\
\hline
\mbox{\tt in}  & {\em \+\_\+log} & Where to send diagnostic messages to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Image\+Features\+List container object; this object will own all the examples loaded. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em \+\_\+cancel\+Flag} & will be monitored, if set to True Load will terminate. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a75a8d10d3981811ab10357f6a95c9bc1}{K\+K\+M\+L\+L\+::\+Feature\+File\+IO}.



Definition at line 47 of file Feature\+File\+I\+O\+C45.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Get\+Existing\+File\+Desc(), K\+K\+B\+::\+K\+K\+Str\+::\+Locate\+Last\+Occurrence(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::\+K\+K\+Str\+::operator=(), K\+K\+B\+::\+K\+K\+Str\+::operator==(), K\+K\+B\+::os\+File\+Exists(), K\+K\+B\+::\+K\+K\+Str\+::\+Sub\+Str\+Part(), and K\+K\+B\+::\+K\+K\+Str\+::\+Upper().


\begin{DoxyCode}
55 \{
56   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (10) << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFeatureFile  File["} << \_fileName << \textcolor{stringliteral}{"]  FileFormat["} << 
      \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a98951a8ef9ae5fe5fca831afb57dc1c7}{DriverName} () << \textcolor{stringliteral}{"]"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
57   
58   \textcolor{keywordflow}{if}  (\_maxCount < 0)
59     \_maxCount = \hyperlink{_k_k_base_types_8h_ab1240c5d3fea865121ed4684f8e968f6}{int32\_max};
60 
61 
62   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  namesFileName;
63   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  dataFileName;
64 
65   \{
66     \textcolor{comment}{// First determine the name of the names and data file.}
67     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} lastDotPos = \_fileName.\hyperlink{class_k_k_b_1_1_k_k_str_a595b364acd17c015b5f66d9f7996bfab}{LocateLastOccurrence} (\textcolor{charliteral}{'.'});
68     \textcolor{keywordflow}{if}  (lastDotPos < 0)
69     \{
70       namesFileName = \_fileName + \textcolor{stringliteral}{".names"};
71       dataFileName  = \_fileName;
72       \textcolor{keywordflow}{if}  (!\hyperlink{namespace_k_k_b_aba5c7fcb492dea01f2115c492ff65d83}{osFileExists} (dataFileName))
73         dataFileName  = \_fileName + \textcolor{stringliteral}{".data"};
74     \}
75     \textcolor{keywordflow}{else}
76     \{
77       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} leadingPart = \_fileName.\hyperlink{class_k_k_b_1_1_k_k_str_a5f20b2ddfc9f07c8ef99592810332ddb}{SubStrPart} (0, lastDotPos - 1);
78       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} extension   = \_fileName.\hyperlink{class_k_k_b_1_1_k_k_str_a5f20b2ddfc9f07c8ef99592810332ddb}{SubStrPart} (lastDotPos + 1);
79       extension.\hyperlink{class_k_k_b_1_1_k_k_str_a66ea0feabc94da88591b56a683695bd9}{Upper} ();
80       \textcolor{keywordflow}{if}  (extension == \textcolor{stringliteral}{"NAMES"})
81       \{
82         \textcolor{comment}{// The file name was already the names file, can use as is}
83         namesFileName = \_fileName;
84         dataFileName  = leadingPart;
85         \textcolor{keywordflow}{if}  (!\hyperlink{namespace_k_k_b_aba5c7fcb492dea01f2115c492ff65d83}{osFileExists} (dataFileName))
86         \{
87           dataFileName  = leadingPart + \textcolor{stringliteral}{".data"};
88           \textcolor{keywordflow}{if}  (!\hyperlink{namespace_k_k_b_aba5c7fcb492dea01f2115c492ff65d83}{osFileExists} (dataFileName))
89             dataFileName  = leadingPart + \textcolor{stringliteral}{".test"};
90         \}
91       \}
92 
93       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((extension == \textcolor{stringliteral}{"DATA"}) ||  (extension == \textcolor{stringliteral}{"TEST"}))
94       \{
95         dataFileName  = \_fileName;
96         namesFileName = leadingPart + \textcolor{stringliteral}{".names"};
97         \textcolor{keywordflow}{if}  (!\hyperlink{namespace_k_k_b_aba5c7fcb492dea01f2115c492ff65d83}{osFileExists} (namesFileName))
98         \{
99           namesFileName = leadingPart + \textcolor{stringliteral}{".names"};
100           \textcolor{keywordflow}{if}  (!\hyperlink{namespace_k_k_b_aba5c7fcb492dea01f2115c492ff65d83}{osFileExists} (namesFileName))
101           \{
102             namesFileName = \_fileName + \textcolor{stringliteral}{".names"};
103             \textcolor{keywordflow}{if}  (!\hyperlink{namespace_k_k_b_aba5c7fcb492dea01f2115c492ff65d83}{osFileExists} (namesFileName))
104               namesFileName = leadingPart + \textcolor{stringliteral}{".names"};
105           \}
106         \}
107       \}
108 
109       \textcolor{keywordflow}{else}
110       \{
111         dataFileName  = \_fileName;
112         namesFileName = \_fileName + \textcolor{stringliteral}{".names"};
113       \}
114     \}
115   \}
116 
117   \_changesMade = \textcolor{keyword}{false};
118 
119   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  estimatedNumOfDataItems = -1;
120   
121   \_successful = \textcolor{keyword}{true};
122 
123   ifstream  namesFile (namesFileName.\hyperlink{class_k_k_b_1_1_k_k_str_ad574e6c0fe7f6ce1ba3ab0a8ce2fbd52}{Str} (), ios\_base::in);
124   \textcolor{keywordflow}{if}  (!namesFile.is\_open ())
125   \{
126     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFeatureFile   ***ERROR***      Error Opening File["} << 
      dataFileName << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
127     \_successful = \textcolor{keyword}{false};
128     \textcolor{keywordflow}{return}  NULL;
129   \}
130 
131   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errorMessage;
132   
133   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr} fileDesc = \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a17aa8ed6fcf2e293af5e018fc12a75d0}{GetFileDesc} (namesFileName, namesFile, &\_mlClasses, 
      estimatedNumOfDataItems, errorMessage, \_log);
134   \textcolor{keywordflow}{if}  (fileDesc == NULL)
135   \{
136     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl 
137                    << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFeatureFile    ***ERROR***     Loading Feature File["} << 
      namesFileName << \textcolor{stringliteral}{"]"} << endl
138                    << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
139     \_successful = \textcolor{keyword}{false};
140     \textcolor{keywordflow}{return} NULL;
141   \}
142 
143   namesFile.close ();
144   fileDesc = \hyperlink{class_k_k_m_l_l_1_1_file_desc_ab64013b479502d2761a9f11570a565bc}{FileDesc::GetExistingFileDesc} (fileDesc);
145 
146 
147 
148   ifstream  dataFile (dataFileName.\hyperlink{class_k_k_b_1_1_k_k_str_ad574e6c0fe7f6ce1ba3ab0a8ce2fbd52}{Str} (), ios\_base::in);
149   \textcolor{keywordflow}{if}  (!dataFile.is\_open ())
150   \{
151     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFeatureFile   ***ERROR***      Error Opening File["} << 
      dataFileName << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
152     \_successful = \textcolor{keyword}{false};
153     \textcolor{keywordflow}{return}  NULL;
154   \}
155 
156 
157   \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorListPtr}  examples = \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a50c64295fe00ad20996b39665e5f1305}{LoadFile} (dataFileName, fileDesc, \_mlClasses
      , dataFile, \_maxCount, \_cancelFlag, \_changesMade, errorMessage, \_log);
158   \textcolor{keywordflow}{if}  (examples == NULL)
159   \{
160     \_successful = \textcolor{keyword}{false};
161   \}
162   \textcolor{keywordflow}{else}
163   \{
164     \_successful = \textcolor{keyword}{true};
165   \}
166 
167   dataFile.close ();
168 
169   \textcolor{keywordflow}{return}  examples;
170 \}  \textcolor{comment}{/* LoadFeatureFile */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Load\+File@{Load\+File}}
\index{Load\+File@{Load\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Load\+File(const K\+K\+Str \&\+\_\+file\+Name, const File\+Desc\+Ptr \+\_\+file\+Desc, M\+L\+Class\+List \&\+\_\+classes, istream \&\+\_\+in, kkint32 \+\_\+max\+Count, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+changes\+Made, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{LoadFile(const KKStr &_fileName, const FileDescPtr _fileDesc, MLClassList &_classes, istream &_in, kkint32 _maxCount, VolConstBool &_cancelFlag, bool &_changesMade, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Vector\+List\+Ptr} Feature\+File\+I\+O\+C45\+::\+Load\+File (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{const {\bf File\+Desc\+Ptr}}]{\+\_\+file\+Desc, }
\item[{{\bf M\+L\+Class\+List} \&}]{\+\_\+classes, }
\item[{istream \&}]{\+\_\+in, }
\item[{{\bf kkint32}}]{\+\_\+max\+Count, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+changes\+Made, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a50c64295fe00ad20996b39665e5f1305}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_a50c64295fe00ad20996b39665e5f1305}


Definition at line 725 of file Feature\+File\+I\+O\+C45.\+cpp.



References K\+K\+M\+L\+L\+::\+Attribute\+::\+Add\+A\+Nominal\+Value(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Add\+Feature\+Data(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Create\+A\+Attribute\+Table(), K\+K\+B\+::\+K\+K\+Str\+::\+Empty(), K\+K\+B\+::\+K\+K\+Str\+::\+Equal\+Ignore\+Case(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Example\+File\+Name(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Feature\+Vector(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Feature\+Vector\+List(), K\+K\+M\+L\+L\+::\+Attribute\+::\+Get\+Nominal\+Code(), K\+K\+M\+L\+L\+::\+Ignore, K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Look\+Up\+M\+L\+Class\+By\+Name(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Look\+Up\+Un\+Known\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Missing\+Data(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+Attribute\+::\+Name(), K\+K\+M\+L\+L\+::\+Nominal, K\+K\+M\+L\+L\+::\+Numeric, K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Num\+Of\+Fields(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::\+K\+K\+Str\+::operator=(), K\+K\+B\+::\+K\+K\+Str\+::operator==(), K\+K\+B\+::os\+Get\+Root\+Name(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Push\+On\+Back(), K\+K\+B\+::\+Str\+Format\+Int(), K\+K\+M\+L\+L\+::\+Symbolic, K\+K\+B\+::\+K\+K\+Str\+::\+To\+Float(), and K\+K\+M\+L\+L\+::\+Attribute\+::\+Type().


\begin{DoxyCode}
735 \{
736   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (10) << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFile   FileName["} << \_fileName << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
737 
738   \textcolor{keywordtype}{bool}  eof = \textcolor{keyword}{false};
739   \textcolor{keywordtype}{bool}  eol = \textcolor{keyword}{false};
740 
741   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfFeatures = \_fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a07abdfb77949dee565c555c7651581c2}{NumOfFields} ();
742 
743   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} fileRootName = \hyperlink{namespace_k_k_b_af5b668ed9902d7f93b62529664a739f0}{osGetRootName} (\_fileName);
744 
745   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lineCount = 0;
746 
747   \textcolor{keyword}{const}
748     \hyperlink{class_k_k_m_l_l_1_1_attribute}{AttributePtr}*  attributeTable = \_fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_ab06cc9c9bd6ef17e487d5760ab4ff5f7}{CreateAAttributeTable} ();  \textcolor{comment}{
      // Caller will be responsible for deleting}
749 
750   \textcolor{keywordtype}{bool}  lineIsValid = \textcolor{keyword}{true};
751 
752   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  imageFileName = \textcolor{stringliteral}{""};
753 
754   \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorListPtr}  examples = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorList} (\_fileDesc, \textcolor{keyword}{
      true});
755 
756   \textcolor{keywordflow}{while}  (!eof)
757   \{
758     lineIsValid = \textcolor{keyword}{true};
759     imageFileName = \textcolor{stringliteral}{""};
760     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  field = C45ReadNextToken (\_in, \textcolor{stringliteral}{","}, eof, eol);
761     \textcolor{keywordflow}{if}  (eof)
762       \textcolor{keywordflow}{break};
763 
764     \textcolor{keywordflow}{if}  (eol)
765     \{
766       \textcolor{comment}{// We have a blank line}
767       \textcolor{keywordflow}{continue};
768     \}
769 
770     \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  example = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVector} (numOfFeatures);
771     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  fieldNum = 0;
772 
773     \textcolor{comment}{// Process all fields for this row  'numOfFeatures'}
774 
775     \textcolor{keywordflow}{for}  (fieldNum = 0;  fieldNum < numOfFeatures;  fieldNum++)
776     \{
777       \textcolor{keywordflow}{if}  (eol  ||  eof)
778       \{
779         \_errorMessage << \textcolor{stringliteral}{"Not all Features were accounted for on Line["} << lineCount << \textcolor{stringliteral}{"]."};
780         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl
781                         << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFile    "} << \_errorMessage << endl
782                         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
783         \textcolor{keyword}{delete}  examples;  examples = NULL;
784         \textcolor{keyword}{delete}  example;   example  = NULL;
785         \textcolor{keywordflow}{return} NULL;
786       \}
787 
788       \textcolor{keywordflow}{switch}  (attributeTable[fieldNum]->Type ())
789       \{
790       \textcolor{keywordflow}{case} \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555abafd038fc7f319e48f3115d92bf5bdbef9}{AttributeType::Ignore}:  
791         example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_abf364e3348c041cd7be6f14d6c4567cf}{AddFeatureData} (fieldNum, field.\hyperlink{class_k_k_b_1_1_k_k_str_a09b54184fdc585259d265db3deb28e79}{ToFloat} ());
792         \textcolor{keywordflow}{break};
793               
794       \textcolor{keywordflow}{case} \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555aba87322391cc6e8948ce9fd5d6cb84fced}{AttributeType::Numeric}: 
795         example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_abf364e3348c041cd7be6f14d6c4567cf}{AddFeatureData} (fieldNum, field.\hyperlink{class_k_k_b_1_1_k_k_str_a09b54184fdc585259d265db3deb28e79}{ToFloat} ());
796         \textcolor{keywordflow}{break};
797 
798       \textcolor{keywordflow}{case} \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555aba8c28d7c312116b8a46e2f466cb33d5b4}{AttributeType::Nominal}: 
799       \{
800         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  code = -1;  \textcolor{comment}{// Initialize to value for missing data.}
801         \textcolor{keywordflow}{if}  (field == \textcolor{stringliteral}{"?"})
802         \{
803           \textcolor{comment}{// Will flag this entry as having missing data.}
804           example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a6576552806c4833d80013d8e759f76bf}{MissingData} (\textcolor{keyword}{true});
805         \}
806         \textcolor{keywordflow}{else}
807         \{
808           \textcolor{comment}{// This is not a missing data.}
809           code = attributeTable[fieldNum]->\hyperlink{class_k_k_m_l_l_1_1_attribute_adc5bad6931d6c3f4aea6e1ad5c42b1f1}{GetNominalCode} (field);
810           \textcolor{keywordflow}{if}  (code < 0)
811           \{
812             \_errorMessage << \textcolor{stringliteral}{"Invalid NominalValue["} << field << \textcolor{stringliteral}{"]  on line["} << lineCount << \textcolor{stringliteral}{"]."};
813             \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl
814                             << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFile    "} << \_errorMessage << endl
815                             << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
816             \textcolor{keyword}{delete}  examples;  examples = NULL;
817             \textcolor{keyword}{delete}  example;   example  = NULL;
818             \textcolor{keywordflow}{return} NULL;
819           \}
820         \}
821 
822         example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_abf364e3348c041cd7be6f14d6c4567cf}{AddFeatureData} (fieldNum, (\textcolor{keywordtype}{float})code);
823         \textcolor{keywordflow}{break};
824       \}
825         
826 
827       \textcolor{keywordflow}{case} \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555abaaddee1396a3e20ceea8071ed6da54866}{AttributeType::Symbolic}: 
828       \{
829         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  code = -1;  \textcolor{comment}{// Initialize to value for missing data.}
830         \textcolor{keywordflow}{if}  (field == \textcolor{stringliteral}{"?"})
831         \{
832           \textcolor{comment}{// Will flag this entry as having missing data.}
833           example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a6576552806c4833d80013d8e759f76bf}{MissingData} (\textcolor{keyword}{true});
834         \}
835         \textcolor{keywordflow}{else}
836         \{
837           \textcolor{comment}{// This is not a missing data.}
838 
839           \textcolor{keywordflow}{if}  (attributeTable[fieldNum]->Name ().EqualIgnoreCase (\textcolor{stringliteral}{"ExampleFileName"}))
840             imageFileName = field;
841 
842           code = attributeTable[fieldNum]->\hyperlink{class_k_k_m_l_l_1_1_attribute_adc5bad6931d6c3f4aea6e1ad5c42b1f1}{GetNominalCode} (field);
843           \textcolor{keywordflow}{if}  (code < 0)
844           \{
845             \textcolor{keywordtype}{bool}  alreadyExists = \textcolor{keyword}{false};
846             attributeTable[fieldNum]->\hyperlink{class_k_k_m_l_l_1_1_attribute_aca915581709a40bd7021a482d566fa48}{AddANominalValue} (field, alreadyExists);
847             code = attributeTable[fieldNum]->\hyperlink{class_k_k_m_l_l_1_1_attribute_adc5bad6931d6c3f4aea6e1ad5c42b1f1}{GetNominalCode} (field);
848           \}
849         \}
850 
851         example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_abf364e3348c041cd7be6f14d6c4567cf}{AddFeatureData} (fieldNum, (\textcolor{keywordtype}{float})code);
852         \textcolor{keywordflow}{break};
853       \}
854 
855       \textcolor{keywordflow}{default}:
856         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl
857                         << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFile    *** Undefined Field Type ***"} << endl
858                         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
859         \textcolor{keywordflow}{break};
860 
861       \}  \textcolor{comment}{/* End of switch */}
862 
863       field = C45ReadNextToken (\_in, \textcolor{stringliteral}{" ,"}, eof, eol);
864     \}
865 
866     \textcolor{comment}{// 'field' should have the class name in it}
867     \textcolor{keywordflow}{if}  ((field.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ())  ||  eol)
868     \{
869       \_errorMessage << \textcolor{stringliteral}{"Line["} << lineCount << \textcolor{stringliteral}{"]  Missing ClassName."};
870       \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl 
871                       << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFile    "} << \_errorMessage << endl
872                       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
873       
874       \textcolor{keyword}{delete}  examples;  examples = NULL;
875       \textcolor{keyword}{delete}  example;   example  = NULL;
876       \textcolor{keywordflow}{return}  NULL;
877     \}
878     
879     \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr} mlClass = NULL;
880 
881     \textcolor{keywordflow}{if}  (field == \textcolor{stringliteral}{"?"})
882     \{
883       \textcolor{comment}{// The class is unknown}
884       mlClass = \_fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_af14b8f9f30c5f9114af2de14a7f8a5b2}{LookUpUnKnownMLClass} ();
885     \}
886     \textcolor{keywordflow}{else}
887     \{
888       mlClass = \_fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a69d8dc46e426180993f75ca3b0abcc96}{LookUpMLClassByName} (field);
889       \textcolor{keywordflow}{if}  (!mlClass)
890       \{
891         lineIsValid = \textcolor{keyword}{false};
892         \_errorMessage << \textcolor{stringliteral}{"Line["} << lineCount << \textcolor{stringliteral}{"]  Invalid Class["} << field << \textcolor{stringliteral}{"]"};
893         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl
894                         << \textcolor{stringliteral}{"FeatureFileIOC45::LoadFile  "} << \_errorMessage << endl
895                         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
896         \textcolor{keyword}{delete}  examples;  examples = NULL;
897         \textcolor{keyword}{delete}  example;   example  = NULL;
898         \textcolor{keywordflow}{return}  NULL;
899       \}
900     \}
901 
902     example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a3c8fe002c6e868f8c00059c004fb32fd}{MLClass} (mlClass);
903 
904     \textcolor{keywordflow}{if}  (imageFileName.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ())
905       imageFileName = fileRootName + \textcolor{stringliteral}{"\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (lineCount, \textcolor{stringliteral}{"ZZZZZ0"});
906 
907     example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_ab47c89ab1e9396664fdc0dc34b6e1ab5}{ExampleFileName} (imageFileName);
908 
909 
910     \textcolor{keywordflow}{if}  (lineIsValid)
911       examples->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (example);
912 
913     lineCount++;
914 
915     \textcolor{keywordflow}{if}  (!eof)
916     \{
917       \textcolor{comment}{// Consume the rest of the characters in the line so that the next pass starts at}
918       \textcolor{comment}{// the beginning of the next line.}
919       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  ch = \_in.peek ();
920       \textcolor{keywordflow}{while}  ((ch != \textcolor{charliteral}{'\(\backslash\)n'})  &&  (ch != \textcolor{charliteral}{'\(\backslash\)r'})  &&  (!\_in.eof ()))
921       \{
922         \_in.get ();
923         ch = \_in.peek ();
924       \}
925       \textcolor{keywordflow}{if}  (!\_in.eof ())
926       \{
927         \_in.get ();
928         \textcolor{keywordflow}{if}  ((ch == \textcolor{charliteral}{'\(\backslash\)n'})  &&  (\_in.peek () == \textcolor{charliteral}{'\(\backslash\)r'}))
929            \_in.get ();
930 
931         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((ch == \textcolor{charliteral}{'\(\backslash\)r'})  &&  (\_in.peek () == \textcolor{charliteral}{'\(\backslash\)n'}))
932            \_in.get ();
933       \}
934     \}
935 
936     \textcolor{keywordflow}{if}  ((lineCount % 1000) == 0)
937       cout  << \textcolor{stringliteral}{"Records Loaded "} << lineCount << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
938 
939     \textcolor{keywordflow}{if}  ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})examples->size () > \_maxCount)
940       \textcolor{keywordflow}{break};
941   \}
942 
943 
944   \textcolor{keyword}{delete}  [] attributeTable;
945   \textcolor{keywordflow}{return}  examples;
946 \}  \textcolor{comment}{/* LoadFile */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}!Save\+File@{Save\+File}}
\index{Save\+File@{Save\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+C45}}
\subsubsection[{\texorpdfstring{Save\+File(\+Feature\+Vector\+List \&\+\_\+data, const K\+K\+Str \&\+\_\+file\+Name, Feature\+Num\+List\+Const \&\+\_\+sel\+Features, ostream \&\+\_\+out, kkuint32 \&\+\_\+num\+Examples\+Written, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{SaveFile(FeatureVectorList &_data, const KKStr &_fileName, FeatureNumListConst &_selFeatures, ostream &_out, kkuint32 &_numExamplesWritten, VolConstBool &_cancelFlag, bool &_successful, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Feature\+File\+I\+O\+C45\+::\+Save\+File (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+List} \&}]{\+\_\+data, }
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{{\bf Feature\+Num\+List\+Const} \&}]{\+\_\+sel\+Features, }
\item[{ostream \&}]{\+\_\+out, }
\item[{{\bf kkuint32} \&}]{\+\_\+num\+Examples\+Written, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+successful, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ab2fdc4e67aad229afa7aed75999eeb5b}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_c45_ab2fdc4e67aad229afa7aed75999eeb5b}


Definition at line 1020 of file Feature\+File\+I\+O\+C45.\+cpp.



References K\+K\+M\+L\+L\+::\+Attribute\+::\+Cardinality(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Class\+Name(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Create\+A\+Attribute\+Table(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Extract\+List\+Of\+Classes(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Feature\+Data(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+File\+Desc(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Get\+Class\+Statistics(), K\+K\+M\+L\+L\+::\+Attribute\+::\+Get\+Nominal\+Value(), K\+K\+M\+L\+L\+::\+Ignore, K\+K\+M\+L\+L\+::\+Nominal, K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::\+Num\+Of\+Features(), K\+K\+B\+::operator$<$$<$(), K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::operator\mbox{[}$\,$\mbox{]}(), K\+K\+M\+L\+L\+::\+Symbolic, and K\+K\+M\+L\+L\+::\+Attribute\+::\+Type().


\begin{DoxyCode}
1030 \{
1031   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  namesFileName;
1032   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  dataFileName;
1033 
1034   \_numExamplesWritten = 0;
1035   
1036   C45ConstructFileNameForWritting (\_fileName, namesFileName, dataFileName);
1037 
1038   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr} fileDesc = \_data.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_a736923be9c4ac7553a5aa87dd24efd16}{FileDesc} ();
1039 
1040   \textcolor{keyword}{const} \hyperlink{class_k_k_m_l_l_1_1_attribute}{AttributePtr}*  attrTable = fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_ab06cc9c9bd6ef17e487d5760ab4ff5f7}{CreateAAttributeTable} ();
1041 
1042   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
1043   \{
1044     \textcolor{comment}{// Write out names file}
1045     ofstream  nf (namesFileName.\hyperlink{class_k_k_b_1_1_k_k_str_ad574e6c0fe7f6ce1ba3ab0a8ce2fbd52}{Str} ());
1046     \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{MLClassListPtr}  classes = \_data.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_af4bffa9713e7632b9e0e33f931528164}{ExtractListOfClasses} ();
1047     \textcolor{keywordflow}{for}  (x = 0;  x < classes->QueueSize ();  x++)
1048     \{
1049       \textcolor{keywordflow}{if}  (x > 0)
1050         nf << \textcolor{stringliteral}{", "};
1051       nf << C45AdjName (classes->IdxToPtr (x)->Name ());
1052     \}
1053     nf << \textcolor{stringliteral}{"."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1054 
1055     \textcolor{keywordflow}{for}  (x = 0;  x < \_selFeatures.NumOfFeatures ();  x++)
1056     \{
1057       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  featureNum = \_selFeatures[x];
1058       \hyperlink{class_k_k_m_l_l_1_1_attribute}{AttributePtr} attr = attrTable[featureNum];
1059       nf << C45AdjName (attr->\hyperlink{class_k_k_m_l_l_1_1_attribute_a3cd12e05138dfbda83c6802dc984e394}{Name} ()) << \textcolor{stringliteral}{": "};
1060       \textcolor{keywordflow}{if}  (attr->\hyperlink{class_k_k_m_l_l_1_1_attribute_ae867c1b4e264fb7be26941730364116d}{Type} () == \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555aba8c28d7c312116b8a46e2f466cb33d5b4}{AttributeType::Nominal})
1061       \{
1062         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} y;
1063         \textcolor{keywordflow}{for}  (y = 0;  y < attr->\hyperlink{class_k_k_m_l_l_1_1_attribute_a7a7e8d04e3a93b47f6c2d1f99f0e42c6}{Cardinality} ();  y++)
1064         \{
1065           \textcolor{keywordflow}{if}  (y > 0)  nf << \textcolor{stringliteral}{", "};
1066           nf << C45AdjName (attr->\hyperlink{class_k_k_m_l_l_1_1_attribute_ad9342fb254fb972f63825f8d5be25311}{GetNominalValue} (y));
1067         \}
1068       \}
1069 
1070       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (attr->\hyperlink{class_k_k_m_l_l_1_1_attribute_ae867c1b4e264fb7be26941730364116d}{Type} () == \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555abaaddee1396a3e20ceea8071ed6da54866}{AttributeType::Symbolic})
1071       \{
1072         nf << \textcolor{stringliteral}{"Symbolic"};
1073       \}
1074 
1075       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (attr->\hyperlink{class_k_k_m_l_l_1_1_attribute_ae867c1b4e264fb7be26941730364116d}{Type} () == \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555abafd038fc7f319e48f3115d92bf5bdbef9}{AttributeType::Ignore})
1076       \{
1077         nf << \textcolor{stringliteral}{"ignore"};
1078       \}
1079 
1080       \textcolor{keywordflow}{else}
1081       \{
1082         nf << \textcolor{stringliteral}{"continuous"};
1083       \}
1084 
1085       nf << \textcolor{stringliteral}{"."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1086     \}
1087 
1088     nf << \textcolor{stringliteral}{"ExampleFileName"} << \textcolor{stringliteral}{": "} << \textcolor{stringliteral}{"Symbolic"} << \textcolor{stringliteral}{"."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1089 
1090     nf.close ();
1091   \}
1092 
1093   \{
1094     \textcolor{comment}{// Write out class statistics as comments at top of file.}
1095     \hyperlink{class_k_k_m_l_l_1_1_class_statistic_list}{ClassStatisticListPtr}  stats = \_data.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_a25d68202689dd6400dcf9a3b18fd5ad9}{GetClassStatistics} ();
1096     \hyperlink{class_k_k_b_1_1_k_k_queue_aa3c2796a726eea468b94132a9fbf2cfe}{ClassStatisticList::iterator}  idx;
1097 
1098     \_out << \textcolor{stringliteral}{"|  FileName         ["} << \_fileName                     << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1099     \_out << \textcolor{stringliteral}{"|  DateWritten      ["} << \hyperlink{namespace_k_k_b_af54c205cde0465bcb2c74f3881a96413}{osGetLocalDateTime} ()         << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1100     \_out << \textcolor{stringliteral}{"|  SelectedFeatures ["} << \_selFeatures.ToString ()      << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1101     \_out << \textcolor{stringliteral}{"|  TotalRecords     ["} << \_data.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ()            << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1102     \_out << \textcolor{stringliteral}{"|  NumAttributes    ["} << \_selFeatures.NumOfFeatures () << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1103     \_out << \textcolor{stringliteral}{"|"}                                                             << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1104     \_out << \textcolor{stringliteral}{"|  Class Statistics"}                                           << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1105     \_out << \textcolor{stringliteral}{"|  Name"} << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{"Count"}                                    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1106 
1107     \textcolor{keywordflow}{for}  (idx = stats->begin ();  idx != stats->end ();  idx++)
1108     \{
1109       \hyperlink{class_k_k_m_l_l_1_1_class_statistic}{ClassStatisticPtr} stat = *idx;
1110       \_out << \textcolor{stringliteral}{"|  "} << stat->\hyperlink{class_k_k_m_l_l_1_1_class_statistic_a7cf87217e07220c5269dbd9f6299bb43}{Name} () << \textcolor{stringliteral}{"\(\backslash\)t"} << stat->\hyperlink{class_k_k_m_l_l_1_1_class_statistic_ace228f15b538c012781b4f6800c837c5}{Count} () << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1111     \}
1112     \_out << \textcolor{stringliteral}{"|"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1113 
1114     \textcolor{keyword}{delete}  stats;
1115   \}
1116 
1117   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  origPrecision = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})\_out.precision ();
1118   \_out.precision (9);
1119 
1120   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}   example = NULL;
1121 
1122   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} idx;
1123   \textcolor{keywordflow}{for}  (idx = 0;  (idx < \_data.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ())  &&  (!\_cancelFlag);  idx++)
1124   \{
1125     example = \_data.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (idx);
1126 
1127     \textcolor{keywordflow}{for}  (x = 0; x < \_selFeatures.NumOfFeatures (); x++)
1128     \{
1129       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  featureNum = \_selFeatures[x];
1130 
1131       \textcolor{keywordflow}{if}  ((attrTable[featureNum]->Type () == \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555aba8c28d7c312116b8a46e2f466cb33d5b4}{AttributeType::Nominal})  ||
1132            (attrTable[featureNum]->\hyperlink{class_k_k_m_l_l_1_1_attribute_ae867c1b4e264fb7be26941730364116d}{Type} () == \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555abaaddee1396a3e20ceea8071ed6da54866}{AttributeType::Symbolic})
1133           )
1134       \{
1135         \textcolor{keywordflow}{if}  (example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_af055b7c725a4d80a31cd2f6606cc37b6}{FeatureData} (featureNum) == -1.0)
1136         \{
1137           \textcolor{comment}{// Missing Data}
1138           \_out << \textcolor{stringliteral}{"?"};
1139         \}
1140         \textcolor{keywordflow}{else}
1141         \{
1142           \_out << C45AdjName (attrTable[featureNum]->GetNominalValue ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(example->
      \hyperlink{class_k_k_m_l_l_1_1_feature_vector_af055b7c725a4d80a31cd2f6606cc37b6}{FeatureData} (featureNum))));
1143         \}
1144       \}
1145       \textcolor{keywordflow}{else}
1146       \{
1147         \_out << example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_af055b7c725a4d80a31cd2f6606cc37b6}{FeatureData} (featureNum);
1148       \}
1149       \_out << \textcolor{stringliteral}{","};
1150     \}
1151     \_out << example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_ab47c89ab1e9396664fdc0dc34b6e1ab5}{ExampleFileName} () << \textcolor{stringliteral}{","};
1152     \_out << example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a7c410c4ab70f5f2fdc8fca66ea8000ba}{ClassName} ();
1153     \_out << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1154     \_numExamplesWritten++;
1155   \}
1156 
1157   \_out.precision (origPrecision);
1158 
1159   \textcolor{keywordflow}{if}  (!\_cancelFlag)
1160     \_successful = \textcolor{keyword}{true};
1161 
1162   \textcolor{keyword}{delete}  attrTable;
1163   \textcolor{keywordflow}{return};
1164 \}  \textcolor{comment}{/* SaveFile */}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_feature_file_i_o_c45_8h}{Feature\+File\+I\+O\+C45.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_feature_file_i_o_c45_8cpp}{Feature\+File\+I\+O\+C45.\+cpp}\end{DoxyCompactItemize}
