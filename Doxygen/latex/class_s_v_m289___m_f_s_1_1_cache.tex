\hypertarget{class_s_v_m289___m_f_s_1_1_cache}{}\section{S\+V\+M289\+\_\+\+M\+FS\+:\+:Cache Class Reference}
\label{class_s_v_m289___m_f_s_1_1_cache}\index{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_s_v_m289___m_f_s_1_1_cache_a6b9536a21eebe0ad7ef902d91ba64a60}{Cache} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} size)
\item 
\hyperlink{class_s_v_m289___m_f_s_1_1_cache_a4af4dec60bcb1e0166f85ff00b06bdf2}{$\sim$\+Cache} ()
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m289___m_f_s_1_1_cache_a95c3d5d6c3dcbeccc839e075a18632c8}{get\+\_\+data} (const \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} index, \hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} $\ast$$\ast$data, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} len)
\item 
void \hyperlink{class_s_v_m289___m_f_s_1_1_cache_acd8f8f78ff0ca175f2fba2da2998b2ba}{swap\+\_\+index} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 633 of file svm2.\+cpp.



\subsection{Constructor \& Destructor Documentation}
\index{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}!Cache@{Cache}}
\index{Cache@{Cache}!S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}}
\subsubsection[{\texorpdfstring{Cache(kkint32 l, kkint32 size)}{Cache(kkint32 l, kkint32 size)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache\+::\+Cache (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{l, }
\item[{{\bf kkint32}}]{size}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m289___m_f_s_1_1_cache_a6b9536a21eebe0ad7ef902d91ba64a60}{}\label{class_s_v_m289___m_f_s_1_1_cache_a6b9536a21eebe0ad7ef902d91ba64a60}


Definition at line 676 of file svm2.\+cpp.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+C\+\_\+\+Q\+::\+S\+V\+C\+\_\+\+Q(), and S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+R\+\_\+\+Q\+::\+S\+V\+R\+\_\+\+Q().


\begin{DoxyCode}
678                           :
679       l    (l\_),
680       size (size\_)
681 \{
682   head = \textcolor{keyword}{new} head\_t[l];
683   size /= \textcolor{keyword}{sizeof} (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat});
684   size -= l * \textcolor{keyword}{sizeof} (head\_t) / \textcolor{keyword}{sizeof} (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat});
685   size = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (size, 2 * (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}) l);  \textcolor{comment}{// cache must be large enough for two columns}
686   lru\_head.next = lru\_head.prev = &lru\_head;
687 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}!````~Cache@{$\sim$\+Cache}}
\index{````~Cache@{$\sim$\+Cache}!S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}}
\subsubsection[{\texorpdfstring{$\sim$\+Cache()}{~Cache()}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache\+::$\sim$\+Cache (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m289___m_f_s_1_1_cache_a4af4dec60bcb1e0166f85ff00b06bdf2}{}\label{class_s_v_m289___m_f_s_1_1_cache_a4af4dec60bcb1e0166f85ff00b06bdf2}


Definition at line 691 of file svm2.\+cpp.


\begin{DoxyCode}
692 \{
693   \textcolor{keywordflow}{for}  (head\_t* h = lru\_head.next;  h != &lru\_head;  h = h->next)
694   \{\textcolor{keyword}{delete} (h->data);  h->data = NULL;\}
695   \textcolor{keyword}{delete} head;  head = NULL;
696 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}!get\+\_\+data@{get\+\_\+data}}
\index{get\+\_\+data@{get\+\_\+data}!S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}}
\subsubsection[{\texorpdfstring{get\+\_\+data(const kkint32 index, Qfloat $\ast$$\ast$data, kkint32 len)}{get_data(const kkint32 index, Qfloat **data, kkint32 len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Cache\+::get\+\_\+data (
\begin{DoxyParamCaption}
\item[{const {\bf kkint32}}]{index, }
\item[{{\bf Qfloat} $\ast$$\ast$}]{data, }
\item[{{\bf kkint32}}]{len}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m289___m_f_s_1_1_cache_a95c3d5d6c3dcbeccc839e075a18632c8}{}\label{class_s_v_m289___m_f_s_1_1_cache_a95c3d5d6c3dcbeccc839e075a18632c8}


Definition at line 720 of file svm2.\+cpp.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+C\+\_\+\+Q\+::get\+\_\+\+Q(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::get\+\_\+\+Q(), and S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+R\+\_\+\+Q\+::get\+\_\+\+Q().


\begin{DoxyCode}
724 \{
725   head\_t*  h = &head[index];
726   \textcolor{keywordflow}{if}  (h->len) 
727     lru\_delete (h);
728 
729   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  more = len - h->len;
730 
731   \textcolor{keywordflow}{if}  (more > 0)
732   \{
733     \textcolor{comment}{// free old space}
734     \textcolor{keywordflow}{while}  (size < more)
735     \{
736       head\_t*  old = lru\_head.next;
737       lru\_delete (old);
738       \textcolor{keyword}{delete} old->data;  old->data = NULL;
739       size += old->len;
740       old->data = 0;
741       old->len  = 0;
742     \}
743 
744     \textcolor{comment}{// allocate new space}
745     h->data = (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} *)realloc(h->data, sizeof (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat}) * len);
746     size -= more;
747     \hyperlink{namespace_s_v_m289___m_f_s_a195322b74181af0322d4e086a529c096}{SVM289\_MFS::swap} (h->len, len);
748   \}
749 
750   lru\_insert (h);
751   *data = h->data;
752   \textcolor{keywordflow}{return} len;
753 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}!swap\+\_\+index@{swap\+\_\+index}}
\index{swap\+\_\+index@{swap\+\_\+index}!S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache@{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}}
\subsubsection[{\texorpdfstring{swap\+\_\+index(kkint32 i, kkint32 j)}{swap_index(kkint32 i, kkint32 j)}}]{\setlength{\rightskip}{0pt plus 5cm}void Cache\+::swap\+\_\+index (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i, }
\item[{{\bf kkint32}}]{j}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m289___m_f_s_1_1_cache_acd8f8f78ff0ca175f2fba2da2998b2ba}{}\label{class_s_v_m289___m_f_s_1_1_cache_acd8f8f78ff0ca175f2fba2da2998b2ba}


Definition at line 757 of file svm2.\+cpp.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+C\+\_\+\+Q\+::swap\+\_\+index(), and S\+V\+M289\+\_\+\+M\+F\+S\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::swap\+\_\+index().


\begin{DoxyCode}
758 \{
759   \textcolor{keywordflow}{if}  ( i == j) 
760     \textcolor{keywordflow}{return};
761 
762   \textcolor{keywordflow}{if}  (head[i].len) 
763     lru\_delete (&head[i]);
764 
765   \textcolor{keywordflow}{if}  (head[j].len) 
766     lru\_delete(&head[j]);
767 
768 
769   \hyperlink{namespace_s_v_m289___m_f_s_a195322b74181af0322d4e086a529c096}{SVM289\_MFS::swap} (head[i].data, head[j].data);
770 
771   \hyperlink{namespace_s_v_m289___m_f_s_a195322b74181af0322d4e086a529c096}{SVM289\_MFS::swap} (head[i].len,  head[j].len);
772 
773   \textcolor{keywordflow}{if}  (head[i].len) 
774     lru\_insert(&head[i]);
775 
776   \textcolor{keywordflow}{if}  (head[j].len) 
777     lru\_insert(&head[j]);
778 
779   \textcolor{keywordflow}{if}  (i > j) 
780     \hyperlink{namespace_s_v_m289___m_f_s_a195322b74181af0322d4e086a529c096}{SVM289\_MFS::swap}(i, j);
781 
782 
783   \textcolor{keywordflow}{for}  (head\_t*  h = lru\_head.next;  h != &lru\_head;  h = h->next)
784   \{
785     \textcolor{keywordflow}{if}  (h->len > i)
786     \{
787       \textcolor{keywordflow}{if}  (h->len > j)
788       \{
789         \hyperlink{namespace_s_v_m289___m_f_s_a195322b74181af0322d4e086a529c096}{SVM289\_MFS::swap} (h->data[i], h->data[j]);
790       \}
791       \textcolor{keywordflow}{else}
792       \{
793         \textcolor{comment}{// give up}
794         lru\_delete (h);
795         \textcolor{keyword}{delete} h->data;  h->data = NULL;
796         size += h->len;
797         h->data = 0;
798         h->len  = 0;
799       \} 
800     \}
801   \}
802 \}  \textcolor{comment}{/* swap\_index */}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{svm2_8cpp}{svm2.\+cpp}\end{DoxyCompactItemize}
