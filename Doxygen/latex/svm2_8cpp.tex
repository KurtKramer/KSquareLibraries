\hypertarget{svm2_8cpp}{}\section{C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/svm2.cpp File Reference}
\label{svm2_8cpp}\index{C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/svm2.\+cpp@{C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/svm2.\+cpp}}
{\ttfamily \#include \char`\"{}First\+Includes.\+h\char`\"{}}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
{\ttfamily \#include $<$float.\+h$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$istream$>$}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include $<$vector$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}Memory\+Debug.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Global\+Goal\+Keeper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}K\+K\+Exception.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}K\+K\+Str.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}K\+K\+Str\+Parser.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}O\+Sservices.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Feature\+Vector.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}svm2.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_cache}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Cache}
\item 
struct \hyperlink{struct_s_v_m289___m_f_s_1_1decision__function}{S\+V\+M289\+\_\+\+M\+F\+S\+::decision\+\_\+function}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_kernel}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Kernel}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_o_n_e___c_l_a_s_s___q}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+Q}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_q_matrix}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Q\+Matrix}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_solver}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver}
\item 
struct \hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+::\+Solution\+Info}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_solver___n_u}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+\_\+\+NU}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_s_v_c___q}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+C\+\_\+Q}
\item 
class \hyperlink{class_s_v_m289___m_f_s_1_1_s_v_r___q}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+R\+\_\+Q}
\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespace_s_v_m289___m_f_s}{S\+V\+M289\+\_\+\+M\+FS}
\begin{DoxyCompactList}\small\item\em Namespce used to wrap implementation of lib\+S\+VM version 2.\+89. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{svm2_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}{I\+NF}~H\+U\+G\+E\+\_\+\+V\+AL
\item 
\#define \hyperlink{svm2_8cpp_a3d8c9c145887af5174ba4cc6789862ad}{T\+AU}~1e-\/12
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$class T $>$ }\\T $\ast$ \hyperlink{namespace_s_v_m289___m_f_s_ad07b42212b658e4ce40e62ef077d6f02}{S\+V\+M289\+\_\+\+M\+F\+S\+::\+Grow\+Allocation} (T $\ast$src, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} orig\+Size, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} new\+Size)
\item 
static void \hyperlink{svm2_8cpp_ab834c069665121a3467868539fde9101}{info} (const char $\ast$fmt,...)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_aefc1f8c96f1e8adeff7d73b2cc7c6520}{S\+V\+M289\+\_\+\+M\+F\+S\+::multiclass\+\_\+probability} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} num\+Classes, double $\ast$$\ast$pairwise\+Probs, double $\ast$class\+Prob)
\item 
double \hyperlink{namespace_s_v_m289___m_f_s_ac9cc81b09c9e5320dd937f9eb86f00b2}{S\+V\+M289\+\_\+\+M\+F\+S\+::powi} (double base, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} times)
\item 
static void \hyperlink{svm2_8cpp_a4edee28127eebfbcdab94b75c57341c5}{print\+\_\+string\+\_\+stdout} (const char $\ast$s)
\item 
double \hyperlink{namespace_s_v_m289___m_f_s_ae9ae68befb58132b942d39cd83817bc8}{S\+V\+M289\+\_\+\+M\+F\+S\+::sigmoid\+\_\+predict} (double decision\+\_\+value, double A, double B)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_a4358d6f463de7ed0b26fa0bc2c184240}{S\+V\+M289\+\_\+\+M\+F\+S\+::sigmoid\+\_\+train} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} num\+Examples, const double $\ast$dec\+\_\+values, const double $\ast$labels, double \&A, double \&B)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_a9a92020f8ac34e624cd9626492d46a7e}{S\+V\+M289\+\_\+\+M\+F\+S\+::solve\+\_\+c\+\_\+svc} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, double Cp, double Cn, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_acac74d6002b02107dcf60787e9ef250a}{S\+V\+M289\+\_\+\+M\+F\+S\+::solve\+\_\+epsilon\+\_\+svr} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_ad21cf7f457eaa2d7905d988d9a80e175}{S\+V\+M289\+\_\+\+M\+F\+S\+::solve\+\_\+nu\+\_\+svc} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
static void \hyperlink{svm2_8cpp_a44c077793496b16be8ff897c020a1bfe}{solve\+\_\+nu\+\_\+svr} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_ad1dbb2cd57c7c975b56c04456f16d8bd}{S\+V\+M289\+\_\+\+M\+F\+S\+::solve\+\_\+one\+\_\+class} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{svm2_8cpp_a0c841901f7446261a95fc3b3ef8621e4}{svm\+\_\+binary\+\_\+svc\+\_\+probability} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double Cp, double Cn, double \&probA, double \&probB, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
const char $\ast$ \hyperlink{svm2_8cpp_a73fd8a0ae428e25666c89c1e29274984}{svm\+\_\+check\+\_\+parameter} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param)
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{svm2_8cpp_a3d2f484d576a8fce97f7df9a228cda13}{svm\+\_\+check\+\_\+probability\+\_\+model} (const \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{Svm\+\_\+\+Model} $\ast$model)
\item 
void \hyperlink{namespace_s_v_m289___m_f_s_a45a81b5e4df18ad3b64a2df235aa2840}{S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+cross\+\_\+validation} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} \&prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} \&param, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\+\_\+fold, double $\ast$target, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
void \hyperlink{svm2_8cpp_a19c64ac56ff652f7f83dde2fbb9a60a5}{svm\+\_\+destroy\+\_\+param} (\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$\&param)
\item 
void \hyperlink{svm2_8cpp_a222db534c84128a6cf0ee231f324dc10}{svm\+\_\+get\+\_\+labels} (const \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{Svm\+\_\+\+Model} $\ast$model, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$label)
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{svm2_8cpp_ac8cbdfc4f282c1f66795176fe7ada7c4}{svm\+\_\+get\+\_\+svm\+\_\+type} (const \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{Svm\+\_\+\+Model} $\ast$model)
\item 
double \hyperlink{svm2_8cpp_a9e5bb648ed4b43b7a88097e0ab8917fb}{svm\+\_\+get\+\_\+svr\+\_\+probability} (const \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{Svm\+\_\+\+Model} $\ast$model)
\item 
void \hyperlink{svm2_8cpp_a50e8a1e35b79b63599a92a959314de95}{svm\+\_\+group\+\_\+classes} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$nr\+\_\+class\+\_\+ret, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$$\ast$label\+\_\+ret, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$$\ast$start\+\_\+ret, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$$\ast$count\+\_\+ret, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$perm)
\item 
double \hyperlink{svm2_8cpp_a3c7d87d9a1a948af98386408728c2aba}{svm\+\_\+svr\+\_\+probability} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} \&prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} \&param, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
\hyperlink{struct_s_v_m289___m_f_s_1_1decision__function}{decision\+\_\+function} \hyperlink{namespace_s_v_m289___m_f_s_a6279cafea600d623c395f1a984639ec2}{S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train\+\_\+one} (const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\+\_\+problem} \&prob, const \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\+\_\+parameter} \&param, double Cp, double Cn, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{svm2.\+cpp@{svm2.\+cpp}!I\+NF@{I\+NF}}
\index{I\+NF@{I\+NF}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{I\+NF}{INF}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+NF~H\+U\+G\+E\+\_\+\+V\+AL}\hypertarget{svm2_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}{}\label{svm2_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}


Definition at line 110 of file svm2.\+cpp.

\index{svm2.\+cpp@{svm2.\+cpp}!T\+AU@{T\+AU}}
\index{T\+AU@{T\+AU}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{T\+AU}{TAU}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+AU~1e-\/12}\hypertarget{svm2_8cpp_a3d8c9c145887af5174ba4cc6789862ad}{}\label{svm2_8cpp_a3d8c9c145887af5174ba4cc6789862ad}


Definition at line 111 of file svm2.\+cpp.



\subsection{Function Documentation}
\index{svm2.\+cpp@{svm2.\+cpp}!info@{info}}
\index{info@{info}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{info(const char $\ast$fmt,...)}{info(const char *fmt,...)}}]{\setlength{\rightskip}{0pt plus 5cm}static void info (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{svm2_8cpp_ab834c069665121a3467868539fde9101}{}\label{svm2_8cpp_ab834c069665121a3467868539fde9101}


Definition at line 606 of file svm2.\+cpp.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+::do\+\_\+shrinking(), S\+V\+M289\+\_\+\+M\+F\+S\+::multiclass\+\_\+probability(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+::reconstruct\+\_\+gradient(), S\+V\+M289\+\_\+\+M\+F\+S\+::sigmoid\+\_\+train(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+::\+Solve(), S\+V\+M289\+\_\+\+M\+F\+S\+::solve\+\_\+epsilon\+\_\+svr(), S\+V\+M289\+\_\+\+M\+F\+S\+::solve\+\_\+nu\+\_\+svc(), solve\+\_\+nu\+\_\+svr(), svm\+\_\+svr\+\_\+probability(), and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train().


\begin{DoxyCode}
607 \{
608   \textcolor{keywordtype}{char} buf[BUFSIZ];
609   va\_list ap;
610   va\_start(ap,fmt);
611 
612 \textcolor{preprocessor}{#ifdef WIN32}
613   vsprintf\_s(buf, BUFSIZ, fmt, ap);
614 \textcolor{preprocessor}{#else}
615   vsprintf(buf,fmt,ap);
616 \textcolor{preprocessor}{#endif}
617 
618   va\_end(ap);
619   (*SVM289\_MFS::svm\_print\_string)(buf);
620 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!print\+\_\+string\+\_\+stdout@{print\+\_\+string\+\_\+stdout}}
\index{print\+\_\+string\+\_\+stdout@{print\+\_\+string\+\_\+stdout}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{print\+\_\+string\+\_\+stdout(const char $\ast$s)}{print_string_stdout(const char *s)}}]{\setlength{\rightskip}{0pt plus 5cm}static void print\+\_\+string\+\_\+stdout (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{svm2_8cpp_a4edee28127eebfbcdab94b75c57341c5}{}\label{svm2_8cpp_a4edee28127eebfbcdab94b75c57341c5}


Definition at line 597 of file svm2.\+cpp.


\begin{DoxyCode}
598 \{
599   fputs(s,stdout);
600   fflush(stdout);
601 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!solve\+\_\+nu\+\_\+svr@{solve\+\_\+nu\+\_\+svr}}
\index{solve\+\_\+nu\+\_\+svr@{solve\+\_\+nu\+\_\+svr}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{solve\+\_\+nu\+\_\+svr(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param, double $\ast$alpha, Solver\+::\+Solution\+Info $\ast$si, Run\+Log \&\+\_\+log)}{solve_nu_svr(const svm_problem *prob, const svm_parameter *param, double *alpha, Solver::SolutionInfo *si, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}static void solve\+\_\+nu\+\_\+svr (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param, }
\item[{double $\ast$}]{alpha, }
\item[{{\bf Solver\+::\+Solution\+Info} $\ast$}]{si, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{svm2_8cpp_a44c077793496b16be8ff897c020a1bfe}{}\label{svm2_8cpp_a44c077793496b16be8ff897c020a1bfe}


Definition at line 2672 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::C, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::eps, info(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::nu, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::num\+Train\+Examples, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+::\+Solution\+Info\+::r, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::shrinking, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Solver\+\_\+\+N\+U\+::\+Solve(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+V\+R\+\_\+\+Q\+::\+S\+V\+R\+\_\+\+Q(), and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train\+\_\+one().


\begin{DoxyCode}
2678 \{
2679   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numTrainExamples = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};
2680   \textcolor{keywordtype}{double}   C = param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aac66b1e8a16d4076bfe8b45e82bd8e7a}{C};
2681 
2682   \textcolor{keywordtype}{double}*  alpha2      = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [2 * numTrainExamples];
2683   \textcolor{keywordtype}{double}*  linear\_term = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [2 * numTrainExamples];
2684   \hyperlink{namespace_s_v_m289___m_f_s_a27545e8471784d831870feacd3e831ff}{schar}*   y           = \textcolor{keyword}{new} \hyperlink{namespace_s_v_m289___m_f_s_a27545e8471784d831870feacd3e831ff}{schar}  [2 * numTrainExamples];
2685   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
2686 
2687   \textcolor{keywordtype}{double} sum = C * param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a51d3d06c7a7a38a8c315092f14c3029c}{nu} * numTrainExamples / 2;
2688 
2689   \textcolor{keywordflow}{for}  (i = 0;  i < numTrainExamples;  i++)
2690   \{
2691     alpha2[i] = alpha2[i + numTrainExamples] = \hyperlink{_raster_8cpp_a6261a282d8ed27242c636ad5fb658585}{Min} (sum, C);
2692     sum -= alpha2[i];
2693 
2694     linear\_term[i] = - prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[i];
2695     y          [i] = 1;
2696 
2697     linear\_term[i + numTrainExamples] = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[i];
2698     y          [i + numTrainExamples] = -1;
2699   \}
2700 
2701 
2702   \hyperlink{class_s_v_m289___m_f_s_1_1_s_v_r___q}{SVR\_Q}*  jester = \textcolor{keyword}{new} \hyperlink{class_s_v_m289___m_f_s_1_1_s_v_r___q}{SVR\_Q} (*prob, *param, \_log);
2703   \hyperlink{class_s_v_m289___m_f_s_1_1_solver___n_u}{Solver\_NU}  s;
2704   s.\hyperlink{class_s_v_m289___m_f_s_1_1_solver___n_u_a64010900d959a38e7385332c9e8b1790}{Solve} (2 * numTrainExamples, 
2705            *jester, 
2706            linear\_term, 
2707            y,
2708            alpha2, 
2709            C, 
2710            C, 
2711            param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aa5c12a469759ffdc931e8b8ef2496cc4}{eps}, 
2712            si, 
2713            param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aee00cd2472bcdd191d7616750078e3f8}{shrinking}
2714           );
2715   \textcolor{keyword}{delete}  jester;
2716   jester = NULL;
2717 
2718   \hyperlink{svm2_8cpp_ab834c069665121a3467868539fde9101}{info} (\textcolor{stringliteral}{"epsilon = %f\(\backslash\)n"}, -si->\hyperlink{struct_s_v_m289___m_f_s_1_1_solver_1_1_solution_info_abbbd44ea36edc2cb533a139fe3de3d7d}{r});
2719 
2720   \textcolor{keywordflow}{for}  (i = 0;  i < numTrainExamples;  i++)
2721     alpha[i] = alpha2[i] - alpha2[i + numTrainExamples];
2722 
2723   \textcolor{keyword}{delete}[] alpha2;
2724   \textcolor{keyword}{delete}[] linear\_term;
2725   \textcolor{keyword}{delete}[] y;
2726 \}  \textcolor{comment}{/* solve\_nu\_svr */}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+binary\+\_\+svc\+\_\+probability@{svm\+\_\+binary\+\_\+svc\+\_\+probability}}
\index{svm\+\_\+binary\+\_\+svc\+\_\+probability@{svm\+\_\+binary\+\_\+svc\+\_\+probability}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+binary\+\_\+svc\+\_\+probability(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param, double Cp, double Cn, double \&prob\+A, double \&prob\+B, Run\+Log \&log)}{svm_binary_svc_probability(const svm_problem *prob, const svm_parameter *param, double Cp, double Cn, double &probA, double &probB, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void svm\+\_\+binary\+\_\+svc\+\_\+probability (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param, }
\item[{double}]{Cp, }
\item[{double}]{Cn, }
\item[{double \&}]{probA, }
\item[{double \&}]{probB, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a0c841901f7446261a95fc3b3ef8621e4}{}\label{svm2_8cpp_a0c841901f7446261a95fc3b3ef8621e4}


Definition at line 3092 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::C, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::label, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::nr\+\_\+weight, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::num\+Train\+Examples, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::probability, K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Push\+On\+Back(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::sel\+Features, S\+V\+M289\+\_\+\+M\+F\+S\+::sigmoid\+\_\+train(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::svm\+\_\+problem(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::weight, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::weight\+\_\+label, and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train().


\begin{DoxyCode}
3100 \{
3101   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  i = 0;
3102   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nr\_fold = 5;
3103   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}* perm = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples}];
3104 
3105   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}*  subX    = NULL;
3106   \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\_problem}*       subProb = NULL;
3107 
3108   \textcolor{keywordtype}{double}*  dec\_values = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples}];
3109 
3110   \textcolor{comment}{// random shuffle}
3111   \textcolor{keywordflow}{for}  (i = 0;  i < prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};  ++i) 
3112     perm[i]=i;
3113   
3114   \textcolor{keywordflow}{for}  (i = 0;  i < prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};  ++i)
3115   \{
3116     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + rand() % (prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples} - i);
3117     \hyperlink{namespace_s_v_m289___m_f_s_a195322b74181af0322d4e086a529c096}{SVM289\_MFS::swap} (perm[i], perm[j]);
3118   \}
3119     
3120   \textcolor{keywordflow}{for}  (i = 0;  i < nr\_fold;  i++)
3121   \{
3122     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} begin = i * prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples} / nr\_fold;
3123     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} end   = (i + 1) * prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples} / nr\_fold;
3124     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j, k;
3125 
3126     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  subL = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples} - (end - begin);
3127     subX = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}[subL];
3128     \textcolor{keywordflow}{for}  (j = 0;  j < subL;  j++)
3129       subX[j] = NULL;
3130     \textcolor{keywordtype}{float}*  subY = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[subL];
3131 
3132     k = 0;
3133     \textcolor{keywordflow}{for}  (j = 0;  j < begin;  j++)
3134     \{
3135       subX[k] = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a7bca932b51ca89f6820225e8e9c1bd35}{x}.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (perm[j]);
3136       subY[k] = (float)prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[perm[j]];
3137       ++k;
3138     \}
3139 
3140     \textcolor{keywordflow}{for}  (j = end;  j < prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};  ++j)
3141     \{
3142       subX[k] = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a7bca932b51ca89f6820225e8e9c1bd35}{x}.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (perm[j]);
3143       subY[k] = (float)prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[perm[j]];
3144       ++k;
3145     \}
3146 
3147     \{
3148       \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorListPtr}  subXX = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorList} (prob->
      \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a7bca932b51ca89f6820225e8e9c1bd35}{x}.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_a736923be9c4ac7553a5aa87dd24efd16}{FileDesc} (), \textcolor{keyword}{false});
3149       \textcolor{keywordflow}{for}  (j = 0;  j < k;  j++)
3150         subXX->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (subX[j]);
3151       subProb = \textcolor{keyword}{new} \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem}{svm\_problem} (*subXX, subY, prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_acb97fd041d0a35f90ce7e4a906ae2a17}{selFeatures});
3152       \textcolor{keyword}{delete}  subXX;
3153     \}
3154 
3155     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  p\_count=0, n\_count = 0;
3156 
3157     \textcolor{keywordflow}{for}  (j = 0;  j < k;  j++)
3158     \{
3159       \textcolor{keywordflow}{if}  (subY[j] > 0)
3160         p\_count++;
3161       \textcolor{keywordflow}{else}
3162         n\_count++;
3163     \}
3164 
3165 
3166     \textcolor{keywordflow}{if}  ((p\_count == 0)  &&  (n\_count == 0))
3167     \{
3168       \textcolor{keywordflow}{for}  (j = begin;  j < end;  j++)
3169         dec\_values[perm[j]] = 0;
3170     \}
3171 
3172     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((p\_count > 0) && (n\_count == 0))
3173     \{
3174       \textcolor{keywordflow}{for}  (j = begin;  j < end;  j++)
3175         dec\_values[perm[j]] = 1;
3176     \}
3177 
3178     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((p\_count == 0)  &&  (n\_count > 0))
3179     \{
3180       \textcolor{keywordflow}{for}  (j = begin;  j < end;  j++)
3181         dec\_values[perm[j]] = -1;
3182     \}
3183     
3184     \textcolor{keywordflow}{else}
3185     \{
3186       \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\_parameter} subparam = *param;
3187       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a34eba918ae65f56f3186bbdeae8ccd4b}{probability}=0;
3188       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aac66b1e8a16d4076bfe8b45e82bd8e7a}{C}=1.0;
3189       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a7c87bf61e72f27b04efe132672b432a1}{nr\_weight}=2;
3190       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a729c98939a2e1a5859fcad70bbabf063}{weight\_label} = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[2];
3191       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a6d64cad82215930bd3f55b3c3ef7c543}{weight} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[2];
3192       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a729c98939a2e1a5859fcad70bbabf063}{weight\_label}[0]=+1;
3193       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a729c98939a2e1a5859fcad70bbabf063}{weight\_label}[1]=-1;
3194       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a6d64cad82215930bd3f55b3c3ef7c543}{weight}[0]=Cp;
3195       subparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a6d64cad82215930bd3f55b3c3ef7c543}{weight}[1]=Cn;
3196       \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model}{Svm\_Model}* submodel = \hyperlink{namespace_s_v_m233_a0f6331f1d29cc73bc32f39c104b8d74c}{svm\_train} (*subProb, subparam, log);
3197 
3198       \textcolor{keywordflow}{for}  (j = begin;  j < end;  j++)
3199       \{
3200         \hyperlink{namespace_s_v_m289___m_f_s_a669dd565b35133cf6dfcc6e8614c2aa5}{svm\_predict\_values} (submodel, prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a7bca932b51ca89f6820225e8e9c1bd35}{x}[perm[j]], &(dec\_values[perm[j]])); 
3201         \textcolor{comment}{// ensure +1 -1 order; reason not using CV subroutine}
3202         dec\_values[perm[j]] *= submodel->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a2f46b2e4f808a25c5f4d15e65c988872}{label}[0];
3203       \}    
3204 
3205       \textcolor{keyword}{delete}  submodel;  submodel = NULL;
3206       \textcolor{comment}{//svm\_destroy\_param (&subparam);}
3207     \}
3208 
3209     \textcolor{keyword}{delete}    subProb;  subProb = NULL;
3210     \textcolor{keyword}{delete}[]  subX;     subX    = NULL;
3211     \textcolor{keyword}{delete}[]  subY;     subY    = NULL;
3212   \}    
3213 
3214   \hyperlink{namespace_s_v_m289___m_f_s_a4358d6f463de7ed0b26fa0bc2c184240}{sigmoid\_train} (prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples}, dec\_values, prob->
      \hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}, probA, probB);
3215   \textcolor{keyword}{delete}[]  dec\_values;  dec\_values = NULL;
3216   \textcolor{keyword}{delete}[]  perm;        perm       = NULL;
3217 \}  \textcolor{comment}{/* svm\_binary\_svc\_probability */}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+check\+\_\+parameter@{svm\+\_\+check\+\_\+parameter}}
\index{svm\+\_\+check\+\_\+parameter@{svm\+\_\+check\+\_\+parameter}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+check\+\_\+parameter(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param)}{svm_check_parameter(const svm_problem *prob, const svm_parameter *param)}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ svm\+\_\+check\+\_\+parameter (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a73fd8a0ae428e25666c89c1e29274984}{}\label{svm2_8cpp_a73fd8a0ae428e25666c89c1e29274984}


Definition at line 4636 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::C, S\+V\+M289\+\_\+\+M\+F\+S\+::\+C\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::cache\+\_\+size, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::degree, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::eps, S\+V\+M289\+\_\+\+M\+F\+S\+::\+E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::kernel\+\_\+type, S\+V\+M289\+\_\+\+M\+F\+S\+::\+L\+I\+N\+E\+AR, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::nu, S\+V\+M289\+\_\+\+M\+F\+S\+::\+N\+U\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+M\+F\+S\+::\+N\+U\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::num\+Train\+Examples, S\+V\+M289\+\_\+\+M\+F\+S\+::\+O\+N\+E\+\_\+\+C\+L\+A\+SS, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::p, S\+V\+M289\+\_\+\+M\+F\+S\+::\+P\+O\+LY, S\+V\+M289\+\_\+\+M\+F\+S\+::\+P\+R\+E\+C\+O\+M\+P\+U\+T\+ED, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::probability, S\+V\+M289\+\_\+\+M\+F\+S\+::\+R\+BF, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::shrinking, S\+V\+M289\+\_\+\+M\+F\+S\+::\+S\+I\+G\+M\+O\+ID, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type, and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::y.


\begin{DoxyCode}
4639 \{
4640   \textcolor{comment}{// svm\_type}
4641 
4642   \hyperlink{namespace_s_v_m289___m_f_s_ace392faef6440cf56ebff6b360e7d72a}{SVM\_Type}  svm\_type = param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type};
4643 
4644   \textcolor{keywordflow}{if}  (svm\_type != \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC}        &&
4645        svm\_type != \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC}       &&
4646        svm\_type != \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS}    &&
4647        svm\_type != \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR}  &&
4648        svm\_type != \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}
4649       )
4650     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"unknown svm type"};
4651   
4652   \textcolor{comment}{// kernel\_type, degree}
4653   
4654   \hyperlink{namespace_s_v_m289___m_f_s_ad985d190115342f6434e0ed8816b6e29}{Kernel\_Type}  kernel\_type = param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aeaa6b9df55b7ce77adebe83b1ef797ee}{kernel\_type};
4655 
4656   \textcolor{keywordflow}{if}  (kernel\_type != \hyperlink{_usf_cas_cor_8h_ac645eb9a88619ee6f5e14c557ab8ef62}{Kernel\_Type::LINEAR}       &&
4657        kernel\_type != \hyperlink{namespace_s_v_m233_a44221c48118ea92c46a316a00e8f9e11a8ba6f8ab5a2dcac5e164e6b0a003ec9d}{Kernel\_Type::POLY}         &&
4658        kernel\_type != \hyperlink{namespace_s_v_m233_a44221c48118ea92c46a316a00e8f9e11a0478d3ebef66c527d9acbb734d1959d7}{Kernel\_Type::RBF}          &&
4659        kernel\_type != \hyperlink{_usf_cas_cor_8h_ad754ca4856873b8cdcae292a9a51aafd}{Kernel\_Type::SIGMOID}      &&
4660        kernel\_type != \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}{Kernel\_Type::PRECOMPUTED}
4661       )
4662     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"unknown kernel type"};
4663 
4664   \textcolor{keywordflow}{if}  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a4c45977ba07de7038c6ecd091a7684f0}{degree} < 0)
4665     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"degree of polynomial kernel < 0"};
4666 
4667   \textcolor{comment}{// cache\_size,eps,C,nu,p,shrinking}
4668 
4669   \textcolor{keywordflow}{if}  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a08f7b3453369bccdfe43fd9ea1f28241}{cache\_size} <= 0)
4670     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"cache\_size <= 0"};
4671 
4672   \textcolor{keywordflow}{if}  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aa5c12a469759ffdc931e8b8ef2496cc4}{eps} <= 0)
4673     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"eps <= 0"};
4674 
4675   \textcolor{keywordflow}{if}  (svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC}       ||
4676        svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR} ||
4677        svm\_type ==\hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type:: NU\_SVR}
4678       )
4679     \textcolor{keywordflow}{if}  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aac66b1e8a16d4076bfe8b45e82bd8e7a}{C} <= 0)
4680       \textcolor{keywordflow}{return} \textcolor{stringliteral}{"C <= 0"};
4681 
4682   \textcolor{keywordflow}{if}  (svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC}     ||
4683        svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS}  ||
4684        svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}
4685       )
4686     \textcolor{keywordflow}{if}  ((param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a51d3d06c7a7a38a8c315092f14c3029c}{nu} <= 0) || (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a51d3d06c7a7a38a8c315092f14c3029c}{nu} > 1))
4687       \textcolor{keywordflow}{return} \textcolor{stringliteral}{"nu <= 0 or nu > 1"};
4688 
4689   \textcolor{keywordflow}{if}  (svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR})
4690   \{
4691     \textcolor{keywordflow}{if}  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a4b725c044491ebddf8f2c290af4fd288}{p} < 0)
4692       \textcolor{keywordflow}{return} \textcolor{stringliteral}{"p < 0"};
4693   \}
4694 
4695   \textcolor{keywordflow}{if}  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aee00cd2472bcdd191d7616750078e3f8}{shrinking} != 0 &&  param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_aee00cd2472bcdd191d7616750078e3f8}{shrinking} != 1)
4696     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"shrinking != 0 and shrinking != 1"};
4697 
4698   \textcolor{keywordflow}{if}  ((param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a34eba918ae65f56f3186bbdeae8ccd4b}{probability} != 0)  &&  (param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a34eba918ae65f56f3186bbdeae8ccd4b}{probability} != 1))
4699     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"probability != 0 and probability != 1"};
4700 
4701   \textcolor{keywordflow}{if}  ((param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a34eba918ae65f56f3186bbdeae8ccd4b}{probability} == 1)  &&  (svm\_type == 
      \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS}))
4702     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"one-class SVM probability output not supported yet"};
4703 
4704 
4705   \textcolor{comment}{// check whether nu-svc is feasible}
4706   
4707   \textcolor{keywordflow}{if}  (svm\_type == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC})
4708   \{
4709     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};
4710     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} max\_nr\_class = 16;
4711     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_class = 0;
4712     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*  label = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[max\_nr\_class];
4713     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*  count = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[max\_nr\_class];
4714 
4715     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
4716     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
4717     \{
4718       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} this\_label = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[i];
4719       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  j;
4720       for  (j = 0;  j < nr\_class;  j++)
4721       \{
4722         \textcolor{keywordflow}{if}  (this\_label == label[j])
4723         \{
4724           ++count[j];
4725           \textcolor{keywordflow}{break};
4726         \}
4727       \}
4728 
4729       \textcolor{keywordflow}{if}  (j == nr\_class)
4730       \{
4731         \textcolor{keywordflow}{if}  (nr\_class == max\_nr\_class)
4732         \{
4733           \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  oldMaxNrClass = max\_nr\_class;
4734           max\_nr\_class *= 2;
4735           label = \hyperlink{namespace_s_v_m289___m_f_s_ad07b42212b658e4ce40e62ef077d6f02}{GrowAllocation} (label, oldMaxNrClass, max\_nr\_class);
4736           count = \hyperlink{namespace_s_v_m289___m_f_s_ad07b42212b658e4ce40e62ef077d6f02}{GrowAllocation} (count, oldMaxNrClass, max\_nr\_class);
4737         \}
4738         label[nr\_class] = this\_label;
4739         count[nr\_class] = 1;
4740         ++nr\_class;
4741       \}
4742     \}
4743   
4744 
4745     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class;  i++)
4746     \{
4747       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  n1 = count[i];
4748       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + 1;  j < nr\_class;  j++)
4749       \{
4750         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} n2 = count[j];
4751         \textcolor{keywordflow}{if}  ((param->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a51d3d06c7a7a38a8c315092f14c3029c}{nu} * (n1 + n2) / 2) > \hyperlink{_raster_8cpp_a6261a282d8ed27242c636ad5fb658585}{Min} (n1, n2))
4752         \{
4753           \textcolor{keyword}{delete}[]  label;  label = NULL;
4754           \textcolor{keyword}{delete}[]  count;  count = NULL;
4755           \textcolor{keywordflow}{return} \textcolor{stringliteral}{"specified nu is infeasible"};
4756         \}
4757       \}
4758     \}
4759 
4760     \textcolor{keyword}{delete}[]  label;  label = NULL;
4761     \textcolor{keyword}{delete}[]  count;  count = NULL;
4762   \}
4763 
4764   \textcolor{keywordflow}{return} NULL;
4765 \}  \textcolor{comment}{/* svm\_check\_parameter */}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+check\+\_\+probability\+\_\+model@{svm\+\_\+check\+\_\+probability\+\_\+model}}
\index{svm\+\_\+check\+\_\+probability\+\_\+model@{svm\+\_\+check\+\_\+probability\+\_\+model}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+check\+\_\+probability\+\_\+model(const Svm\+\_\+\+Model $\ast$model)}{svm_check_probability_model(const Svm_Model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} svm\+\_\+check\+\_\+probability\+\_\+model (
\begin{DoxyParamCaption}
\item[{const {\bf Svm\+\_\+\+Model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a3d2f484d576a8fce97f7df9a228cda13}{}\label{svm2_8cpp_a3d2f484d576a8fce97f7df9a228cda13}


Definition at line 4770 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::\+C\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+M\+F\+S\+::\+E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+M\+F\+S\+::\+N\+U\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+M\+F\+S\+::\+N\+U\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::param, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::probA, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::probB, and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.


\begin{DoxyCode}
4771 \{
4772   \textcolor{keywordflow}{return} ((model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC}       ||  model->
      \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC}) &&  model->
      \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_ae32212566d46d6d9cafbddd37dcfbada}{probA}!=NULL && model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a4849dabb9dde1adde990980c6c7e1737}{probB}!=NULL) ||
4773          ((model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR} ||  model->
      \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}) &&  model->
      \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_ae32212566d46d6d9cafbddd37dcfbada}{probA}!=NULL);
4774 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+destroy\+\_\+param@{svm\+\_\+destroy\+\_\+param}}
\index{svm\+\_\+destroy\+\_\+param@{svm\+\_\+destroy\+\_\+param}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+destroy\+\_\+param(svm\+\_\+parameter $\ast$\&param)}{svm_destroy_param(svm_parameter *&param)}}]{\setlength{\rightskip}{0pt plus 5cm}void svm\+\_\+destroy\+\_\+param (
\begin{DoxyParamCaption}
\item[{{\bf svm\+\_\+parameter} $\ast$\&}]{param}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a19c64ac56ff652f7f83dde2fbb9a60a5}{}\label{svm2_8cpp_a19c64ac56ff652f7f83dde2fbb9a60a5}


Definition at line 4627 of file svm2.\+cpp.


\begin{DoxyCode}
4628 \{
4629   \textcolor{keyword}{delete}  param;
4630   param = NULL;
4631 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+get\+\_\+labels@{svm\+\_\+get\+\_\+labels}}
\index{svm\+\_\+get\+\_\+labels@{svm\+\_\+get\+\_\+labels}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+labels(const Svm\+\_\+\+Model $\ast$model, kkint32 $\ast$label)}{svm_get_labels(const Svm_Model *model, kkint32 *label)}}]{\setlength{\rightskip}{0pt plus 5cm}void svm\+\_\+get\+\_\+labels (
\begin{DoxyParamCaption}
\item[{const {\bf Svm\+\_\+\+Model} $\ast$}]{model, }
\item[{{\bf kkint32} $\ast$}]{label}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a222db534c84128a6cf0ee231f324dc10}{}\label{svm2_8cpp_a222db534c84128a6cf0ee231f324dc10}


Definition at line 3832 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::label, and S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::nr\+\_\+class.


\begin{DoxyCode}
3833 \{
3834   \textcolor{keywordflow}{if} (model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a2f46b2e4f808a25c5f4d15e65c988872}{label} != NULL)
3835     \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a0cf11115996187369bc6152f30f6e64c}{nr\_class};i++)
3836       label[i] = model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_a2f46b2e4f808a25c5f4d15e65c988872}{label}[i];
3837 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+get\+\_\+svm\+\_\+type@{svm\+\_\+get\+\_\+svm\+\_\+type}}
\index{svm\+\_\+get\+\_\+svm\+\_\+type@{svm\+\_\+get\+\_\+svm\+\_\+type}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+svm\+\_\+type(const Svm\+\_\+\+Model $\ast$model)}{svm_get_svm_type(const Svm_Model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} svm\+\_\+get\+\_\+svm\+\_\+type (
\begin{DoxyParamCaption}
\item[{const {\bf Svm\+\_\+\+Model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_ac8cbdfc4f282c1f66795176fe7ada7c4}{}\label{svm2_8cpp_ac8cbdfc4f282c1f66795176fe7ada7c4}


Definition at line 3817 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::param, and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.


\begin{DoxyCode}
3818 \{
3819   \textcolor{keywordflow}{return}  (\textcolor{keywordtype}{int})model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type};
3820 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+get\+\_\+svr\+\_\+probability@{svm\+\_\+get\+\_\+svr\+\_\+probability}}
\index{svm\+\_\+get\+\_\+svr\+\_\+probability@{svm\+\_\+get\+\_\+svr\+\_\+probability}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+svr\+\_\+probability(const Svm\+\_\+\+Model $\ast$model)}{svm_get_svr_probability(const Svm_Model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}double svm\+\_\+get\+\_\+svr\+\_\+probability (
\begin{DoxyParamCaption}
\item[{const {\bf Svm\+\_\+\+Model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a9e5bb648ed4b43b7a88097e0ab8917fb}{}\label{svm2_8cpp_a9e5bb648ed4b43b7a88097e0ab8917fb}


Definition at line 3841 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::\+E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+M\+F\+S\+::\+N\+U\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::param, S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::probA, and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.


\begin{DoxyCode}
3842 \{
3843   \textcolor{keywordflow}{if} ((model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR} || model->
      \hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_af44a309facec24212604b219dc411582}{param}.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a803dee598ce609cc4ccb4fdbfa99cd1b}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}) &&
3844       model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_ae32212566d46d6d9cafbddd37dcfbada}{probA}!=NULL)
3845     \textcolor{keywordflow}{return} model->\hyperlink{struct_s_v_m289___m_f_s_1_1_svm___model_ae32212566d46d6d9cafbddd37dcfbada}{probA}[0];
3846   \textcolor{keywordflow}{else}
3847   \{
3848     fprintf(stderr,\textcolor{stringliteral}{"Model doesn't contain information for SVR probability inference\(\backslash\)n"});
3849     \textcolor{keywordflow}{return} 0;
3850   \}
3851 \}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+group\+\_\+classes@{svm\+\_\+group\+\_\+classes}}
\index{svm\+\_\+group\+\_\+classes@{svm\+\_\+group\+\_\+classes}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+group\+\_\+classes(const svm\+\_\+problem $\ast$prob, kkint32 $\ast$nr\+\_\+class\+\_\+ret, kkint32 $\ast$$\ast$label\+\_\+ret, kkint32 $\ast$$\ast$start\+\_\+ret, kkint32 $\ast$$\ast$count\+\_\+ret, kkint32 $\ast$perm)}{svm_group_classes(const svm_problem *prob, kkint32 *nr_class_ret, kkint32 **label_ret, kkint32 **start_ret, kkint32 **count_ret, kkint32 *perm)}}]{\setlength{\rightskip}{0pt plus 5cm}void svm\+\_\+group\+\_\+classes (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{{\bf kkint32} $\ast$}]{nr\+\_\+class\+\_\+ret, }
\item[{{\bf kkint32} $\ast$$\ast$}]{label\+\_\+ret, }
\item[{{\bf kkint32} $\ast$$\ast$}]{start\+\_\+ret, }
\item[{{\bf kkint32} $\ast$$\ast$}]{count\+\_\+ret, }
\item[{{\bf kkint32} $\ast$}]{perm}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a50e8a1e35b79b63599a92a959314de95}{}\label{svm2_8cpp_a50e8a1e35b79b63599a92a959314de95}


Definition at line 3271 of file svm2.\+cpp.



References S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::num\+Train\+Examples, and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+cross\+\_\+validation(), and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train().


\begin{DoxyCode}
3278 \{
3279   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};
3280   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} max\_nr\_class = 16;
3281   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_class = 0;
3282   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *label      = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[max\_nr\_class];
3283   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *count      = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[max\_nr\_class];
3284   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *data\_label = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[l];
3285   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
3286 
3287 
3288   \textcolor{comment}{// Count number of examples in each class}
3289   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3290   \{
3291     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} this\_label = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})prob->\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[i];
3292     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j;
3293     for  (j = 0;  j < nr\_class;  j++)
3294     \{
3295       \textcolor{keywordflow}{if}  (this\_label == label[j])
3296       \{
3297         ++count[j];
3298         \textcolor{keywordflow}{break};
3299       \}
3300     \}
3301 
3302     data\_label[i] = j;
3303     \textcolor{keywordflow}{if}  (j == nr\_class)
3304     \{
3305       \textcolor{keywordflow}{if}  (nr\_class == max\_nr\_class)
3306       \{
3307         max\_nr\_class *= 2;
3308         label = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *)realloc (label, max\_nr\_class * \textcolor{keyword}{sizeof}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}));
3309         count = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *)realloc (count, max\_nr\_class * \textcolor{keyword}{sizeof}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}));
3310       \}
3311       label[nr\_class] = this\_label;
3312       count[nr\_class] = 1;
3313       ++nr\_class;
3314     \}
3315   \}
3316 
3317   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *start = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_class];
3318   start[0] = 0;
3319   \textcolor{keywordflow}{for}  (i = 1;  i < nr\_class;  i++)
3320     start[i] = start[i - 1] + count[i - 1];
3321 
3322   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3323   \{
3324     perm[start[data\_label[i]]] = i;
3325     ++start[data\_label[i]];
3326   \}
3327 
3328   start[0] = 0;
3329   \textcolor{keywordflow}{for}  (i = 1;  i < nr\_class;  i++)
3330     start[i] = start[i - 1] + count[i - 1];
3331 
3332   *nr\_class\_ret = nr\_class;
3333   *label\_ret = label;
3334   *start\_ret = start;
3335   *count\_ret = count;
3336   \textcolor{keyword}{delete}  data\_label;  data\_label = NULL;
3337 \}  \textcolor{comment}{/* svm\_group\_classes*/}
\end{DoxyCode}
\index{svm2.\+cpp@{svm2.\+cpp}!svm\+\_\+svr\+\_\+probability@{svm\+\_\+svr\+\_\+probability}}
\index{svm\+\_\+svr\+\_\+probability@{svm\+\_\+svr\+\_\+probability}!svm2.\+cpp@{svm2.\+cpp}}
\subsubsection[{\texorpdfstring{svm\+\_\+svr\+\_\+probability(const svm\+\_\+problem \&prob, const svm\+\_\+parameter \&param, Run\+Log \&log)}{svm_svr_probability(const svm_problem &prob, const svm_parameter &param, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}double svm\+\_\+svr\+\_\+probability (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} \&}]{prob, }
\item[{const {\bf svm\+\_\+parameter} \&}]{param, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)}\hypertarget{svm2_8cpp_a3c7d87d9a1a948af98386408728c2aba}{}\label{svm2_8cpp_a3c7d87d9a1a948af98386408728c2aba}


Definition at line 3226 of file svm2.\+cpp.



References info(), S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::num\+Train\+Examples, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+parameter\+::probability, S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+cross\+\_\+validation(), and S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by S\+V\+M289\+\_\+\+M\+F\+S\+::svm\+\_\+train().


\begin{DoxyCode}
3230 \{
3231   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
3232   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_fold = 5;
3233   \textcolor{keywordtype}{double} *ymv = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[prob.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples}];
3234   \textcolor{keywordtype}{double} mae = 0;
3235 
3236   \hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter}{svm\_parameter}  newparam = param;
3237   newparam.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__parameter_a34eba918ae65f56f3186bbdeae8ccd4b}{probability} = 0;
3238   \hyperlink{namespace_s_v_m289___m_f_s_a45a81b5e4df18ad3b64a2df235aa2840}{svm\_cross\_validation} (prob, newparam, nr\_fold, ymv, log);
3239 
3240   \textcolor{keywordflow}{for}  (i = 0;  i < prob.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};  ++i)
3241   \{
3242     ymv[i] = prob.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a56cf75f3e15322e1928a8294f9a55d2a}{y}[i] - ymv[i];
3243     mae += fabs (ymv[i]);
3244   \}    
3245 
3246   mae /= prob.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};
3247   \textcolor{keywordtype}{double}  \hyperlink{namespacestd}{std} = sqrt (2 * mae * mae);
3248   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} count = 0;
3249   mae = 0;
3250   \textcolor{keywordflow}{for}  (i = 0;  i < prob.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples};  ++i)
3251   \{
3252     \textcolor{keywordflow}{if}  (fabs(ymv[i]) > (5 * std)) 
3253       count = count + 1;
3254     \textcolor{keywordflow}{else} 
3255       mae += fabs (ymv[i]);
3256   \}
3257 
3258   mae /= (prob.\hyperlink{struct_s_v_m289___m_f_s_1_1svm__problem_a16d137e053c79776e064691a20fa80ee}{numTrainExamples} - count);
3259   
3260   \hyperlink{svm2_8cpp_ab834c069665121a3467868539fde9101}{info}(\textcolor{stringliteral}{"Prob. model for test data: target value = predicted value + z,\(\backslash\)nz: Laplace distribution
       e^(-|z|/sigma)/(2sigma),sigma= %g\(\backslash\)n"}, mae);
3261   \textcolor{keyword}{delete}  ymv;  ymv = NULL;
3262   \textcolor{keywordflow}{return} mae;
3263 \}  \textcolor{comment}{/* svm\_svr\_probability */}
\end{DoxyCode}
