\hypertarget{namespace_s_v_m289___b_f_s}{}\section{S\+V\+M289\+\_\+\+B\+FS Namespace Reference}
\label{namespace_s_v_m289___b_f_s}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}


Namespace used to wrap implementation of lib\+S\+VM version 2.\+89 to be used as a pair-\/wise S\+VM.  


\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_cache}{Cache}
\item 
struct \hyperlink{struct_s_v_m289___b_f_s_1_1decision__function}{decision\+\_\+function}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_kernel}{Kernel}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_o_n_e___c_l_a_s_s___q}{O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+Q}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_q_matrix}{Q\+Matrix}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_solver}{Solver}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_solver___n_u}{Solver\+\_\+\+NU}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_c___q}{S\+V\+C\+\_\+Q}
\item 
struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model}
\item 
struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter}
\item 
struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem}
\item 
class \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_r___q}{S\+V\+R\+\_\+Q}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef float \hyperlink{namespace_s_v_m289___b_f_s_a8b0a7657dcefcb6e9a857c9b5e2fd2ef}{Qfloat}
\item 
typedef signed char \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6d}{Kernel\+\_\+\+Type} \{ \\*
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da56d6b15d8287a60fb7a560c1f1b0d70d}{Kernel\+\_\+\+N\+U\+LL}, 
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6daf8a1f240b55fde36b51b3b778b9707d1}{L\+I\+N\+E\+AR}, 
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6dab74c84d37477dff28b72b133217cc5e7}{P\+O\+LY}, 
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da7d4cc9bb6c3d975e52b4240ab829f274}{R\+BF}, 
\\*
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da37e49065854fb11a46e1faf3650faf1f}{S\+I\+G\+M\+O\+ID}, 
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}{P\+R\+E\+C\+O\+M\+P\+U\+T\+ED}
 \}
\item 
enum \hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913}{S\+V\+M\+\_\+\+Type} \{ \\*
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a6bb560c86a8cbe6ebb4904b16c9c3861}{S\+V\+M\+\_\+\+Type\+::\+S\+V\+M\+\_\+\+N\+U\+LL}, 
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a87e006eda383b384698dcae5a836951a}{S\+V\+M\+\_\+\+Type\+::\+C\+\_\+\+S\+VC}, 
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a675f4e0989ded8312f4219b09dceb508}{S\+V\+M\+\_\+\+Type\+::\+N\+U\+\_\+\+S\+VC}, 
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a7dd72415f425dc4258e6ab9b7a72b34b}{S\+V\+M\+\_\+\+Type\+::\+O\+N\+E\+\_\+\+C\+L\+A\+SS}, 
\\*
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a9897563968940eea8a211d616ada0cfb}{S\+V\+M\+\_\+\+Type\+::\+E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR}, 
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913ac6ca79ef961e189289fc39c8d344cd91}{S\+V\+M\+\_\+\+Type\+::\+N\+U\+\_\+\+S\+VR}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$class S , class T $>$ }\\void \hyperlink{namespace_s_v_m289___b_f_s_a5030305fb16e512e60b31d312ddda3c6}{clone} (T $\ast$\&dst, S $\ast$src, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} n)
\item 
{\footnotesize template$<$class T $>$ }\\T $\ast$ \hyperlink{namespace_s_v_m289___b_f_s_a75e966b67532afc70df4361a8f29f10b}{Grow\+Allocation} (T $\ast$src, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} orig\+Size, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} new\+Size)
\item 
\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6d}{Kernel\+\_\+\+Type} \hyperlink{namespace_s_v_m289___b_f_s_ac4cd562e7f3752f32480a23e5a06e7e3}{Kernel\+\_\+\+Type\+\_\+\+From\+Str} (\hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} s)
\item 
\hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \hyperlink{namespace_s_v_m289___b_f_s_a5b3db3f5393a3b919629d2d5468d5951}{Kernel\+\_\+\+Type\+\_\+\+To\+Str} (\hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6d}{Kernel\+\_\+\+Type} kernel\+Type)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_a891a677bee703ad8feda11a3c7e99363}{multiclass\+\_\+probability} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k, double $\ast$$\ast$r, double $\ast$p)
\item 
double \hyperlink{namespace_s_v_m289___b_f_s_ac4f2bb7782ed887ee0589d5bcbdd731d}{powi} (double base, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} times)
\item 
double \hyperlink{namespace_s_v_m289___b_f_s_a5a02bb36bfbcc78735ba18c0580b8a97}{sigmoid\+\_\+predict} (double decision\+\_\+value, double A, double B)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_a5d8aba7048d23e9abbff3e055850a471}{sigmoid\+\_\+train} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l, const double $\ast$dec\+\_\+values, const double $\ast$labels, double \&A, double \&B)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_a1ffc7754e8ec86580b0681e65b765d3c}{solve\+\_\+c\+\_\+svc} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, double Cp, double Cn, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_ac6eb94ba42385e7ca90b1612effb2e7e}{solve\+\_\+epsilon\+\_\+svr} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_a9a5bacd3c695e0b7e350ab9aa509e838}{solve\+\_\+nu\+\_\+svc} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_aa238dc0bd857a07ed5861d37d34666a7}{solve\+\_\+one\+\_\+class} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param, double $\ast$alpha, \hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info}{Solver\+::\+Solution\+Info} $\ast$si, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
const char $\ast$ \hyperlink{namespace_s_v_m289___b_f_s_a3375fd29acb587a72c448c02ffe40ede}{svm\+\_\+check\+\_\+parameter} (const struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} $\ast$prob, const struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$param)
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{namespace_s_v_m289___b_f_s_aa13d19817f6b383a24160e12db825aeb}{svm\+\_\+check\+\_\+probability\+\_\+model} (const struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_aa481f7ba50fb71a2fbffd75f85f4531d}{svm\+\_\+cross\+\_\+validation} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} \&prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} \&param, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\+\_\+fold, double $\ast$target, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_a3abf6a39f80b941712758c24907a4247}{svm\+\_\+destroy\+\_\+model} (struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$\&model)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_af50fe4b56df40811d0dc5ac59158fc5b}{svm\+\_\+destroy\+\_\+param} (struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} $\ast$\&param)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_a29f559ed5bdfe2b15f20fbdd4f1bcd1a}{svm\+\_\+get\+\_\+labels} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$label)
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{namespace_s_v_m289___b_f_s_a7e620a46aa296d468fb1b9fecc002c9e}{svm\+\_\+get\+\_\+nr\+\_\+class} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model)
\item 
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913}{S\+V\+M\+\_\+\+Type} \hyperlink{namespace_s_v_m289___b_f_s_aef448d015db85b6f54e6ad6691b20bb0}{svm\+\_\+get\+\_\+svm\+\_\+type} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model)
\item 
double \hyperlink{namespace_s_v_m289___b_f_s_a1d278d63cd8dac6491f0a8d6d96e12bc}{svm\+\_\+get\+\_\+svr\+\_\+probability} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model)
\item 
double \hyperlink{namespace_s_v_m289___b_f_s_a79889babf24551eb152f2967d7aa3781}{svm\+\_\+predict} (const struct \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model, const \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{Feature\+Vector} \&x)
\item 
double \hyperlink{namespace_s_v_m289___b_f_s_aa1e007a01b615f5c2c4e3038adf403a3}{svm\+\_\+predict\+\_\+probability} (\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model, const \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{Feature\+Vector} \&x, double $\ast$prob\+\_\+estimates, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$votes)
\item 
void \hyperlink{namespace_s_v_m289___b_f_s_afcb014b7aa2752959482d3424d20048a}{svm\+\_\+predict\+\_\+values} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$model, const \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{Feature\+Vector} \&x, double $\ast$dec\+\_\+values)
\item 
\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\+\_\+model} $\ast$ \hyperlink{namespace_s_v_m289___b_f_s_aa4cb7098454dd77334b96e48e720e034}{svm\+\_\+train} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} \&prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} \&param, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function}{decision\+\_\+function} \hyperlink{namespace_s_v_m289___b_f_s_ae92d39f186f1bce1e6cffdd3d382b948}{svm\+\_\+train\+\_\+one} (const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\+\_\+problem} \&prob, const \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter}{svm\+\_\+parameter} \&param, double Cp, double Cn, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913}{S\+V\+M\+\_\+\+Type} \hyperlink{namespace_s_v_m289___b_f_s_a6692b7425ca2f216e2cef20090dcffd3}{S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str} (\hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} s)
\item 
\hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \hyperlink{namespace_s_v_m289___b_f_s_a557ff92f1cd18a331500750bacca9b9c}{S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str} (\hyperlink{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913}{S\+V\+M\+\_\+\+Type} svm\+Type)
\item 
{\footnotesize template$<$class T $>$ }\\void \hyperlink{namespace_s_v_m289___b_f_s_ab3100b6a2a7917c5fb6ef6aae0af496f}{swap} (T \&x, T \&y)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
kkint32 \hyperlink{namespace_s_v_m289___b_f_s_a2de4107018b00c5041926bf1cf24ece2}{libsvm\+\_\+version}
\item 
void($\ast$ \hyperlink{namespace_s_v_m289___b_f_s_a99b0efb4e9aed2acac0d5ec5c1472144}{svm\+\_\+print\+\_\+string} )(const char $\ast$) = \&\hyperlink{svm289___b_f_s_8cpp_a4edee28127eebfbcdab94b75c57341c5}{print\+\_\+string\+\_\+stdout}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Namespace used to wrap implementation of lib\+S\+VM version 2.\+89 to be used as a pair-\/wise S\+VM. 

There is more than one version of lib\+S\+VM implemented in the library. To prevent name conflicts between them each one was wrapped in their own namespace. ~\newline
 lib\+S\+VM is a Support Vector Machine implemented done by \char`\"{}\+Chih-\/\+Chung Chang\char`\"{} and \char`\"{}\+Chih-\/\+Jen Lin\char`\"{}. It was downloaded from \href{http://www.csie.ntu.edu.tw/~cjlin/libsvm/}{\tt http\+://www.\+csie.\+ntu.\+edu.\+tw/$\sim$cjlin/libsvm/}. The source code was modified by Kurt Kramer. The primary changes to this implementation involves the replacement of the sparse data-\/structure in the original implementation with fixed length array implemented through the \char`\"{}\+Feature\+Vector\char`\"{} class and the ability to specify a sub-\/set of features to be utilized via the \char`\"{}\+Feature\+Num\+List\char`\"{} class. This allows us to load in a single set of training data with all its features that can then be used for multiple Support Vector Machine instances where each instance utilizes a different set of features. This particular implementation \hyperlink{namespace_s_v_m289___b_f_s}{S\+V\+M289\+\_\+\+B\+FS} was meant to work with the Binary-\/\+Feature-\/\+Selection (Pair-\/\+Wise) version of the support vector machine as described by \char`\"{}\+Increased classification accuracy and speedup through pair-\/wise feature selection for support vector machines.\char`\"{} 

\subsection{Typedef Documentation}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!Qfloat@{Qfloat}}
\index{Qfloat@{Qfloat}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{Qfloat}{Qfloat}}]{\setlength{\rightskip}{0pt plus 5cm}typedef float {\bf S\+V\+M289\+\_\+\+B\+F\+S\+::\+Qfloat}}\hypertarget{namespace_s_v_m289___b_f_s_a8b0a7657dcefcb6e9a857c9b5e2fd2ef}{}\label{namespace_s_v_m289___b_f_s_a8b0a7657dcefcb6e9a857c9b5e2fd2ef}


Definition at line 269 of file svm289\+\_\+\+B\+F\+S.\+h.

\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!schar@{schar}}
\index{schar@{schar}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{schar}{schar}}]{\setlength{\rightskip}{0pt plus 5cm}typedef signed char {\bf S\+V\+M289\+\_\+\+B\+F\+S\+::schar}}\hypertarget{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{}\label{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}


Definition at line 271 of file svm289\+\_\+\+B\+F\+S.\+h.



\subsection{Enumeration Type Documentation}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!Kernel\+\_\+\+Type@{Kernel\+\_\+\+Type}}
\index{Kernel\+\_\+\+Type@{Kernel\+\_\+\+Type}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{Kernel\+\_\+\+Type}{Kernel_Type}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf S\+V\+M289\+\_\+\+B\+F\+S\+::\+Kernel\+\_\+\+Type}}\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6d}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6d}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Kernel\+\_\+\+N\+U\+LL@{Kernel\+\_\+\+N\+U\+LL}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!Kernel\+\_\+\+N\+U\+LL@{Kernel\+\_\+\+N\+U\+LL}}\item[{\em 
Kernel\+\_\+\+N\+U\+LL\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da56d6b15d8287a60fb7a560c1f1b0d70d}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da56d6b15d8287a60fb7a560c1f1b0d70d}
}]\index{L\+I\+N\+E\+AR@{L\+I\+N\+E\+AR}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!L\+I\+N\+E\+AR@{L\+I\+N\+E\+AR}}\item[{\em 
L\+I\+N\+E\+AR\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6daf8a1f240b55fde36b51b3b778b9707d1}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6daf8a1f240b55fde36b51b3b778b9707d1}
}]\index{P\+O\+LY@{P\+O\+LY}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!P\+O\+LY@{P\+O\+LY}}\item[{\em 
P\+O\+LY\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6dab74c84d37477dff28b72b133217cc5e7}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6dab74c84d37477dff28b72b133217cc5e7}
}]\index{R\+BF@{R\+BF}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!R\+BF@{R\+BF}}\item[{\em 
R\+BF\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da7d4cc9bb6c3d975e52b4240ab829f274}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da7d4cc9bb6c3d975e52b4240ab829f274}
}]\index{S\+I\+G\+M\+O\+ID@{S\+I\+G\+M\+O\+ID}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!S\+I\+G\+M\+O\+ID@{S\+I\+G\+M\+O\+ID}}\item[{\em 
S\+I\+G\+M\+O\+ID\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da37e49065854fb11a46e1faf3650faf1f}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da37e49065854fb11a46e1faf3650faf1f}
}]\index{P\+R\+E\+C\+O\+M\+P\+U\+T\+ED@{P\+R\+E\+C\+O\+M\+P\+U\+T\+ED}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!P\+R\+E\+C\+O\+M\+P\+U\+T\+ED@{P\+R\+E\+C\+O\+M\+P\+U\+T\+ED}}\item[{\em 
P\+R\+E\+C\+O\+M\+P\+U\+T\+ED\hypertarget{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}{}\label{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}
}]\end{description}
\end{Desc}


Definition at line 77 of file svm289\+\_\+\+B\+F\+S.\+h.


\begin{DoxyCode}
77 \{ \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da56d6b15d8287a60fb7a560c1f1b0d70d}{Kernel\_NULL}, \hyperlink{_usf_cas_cor_8h_ac645eb9a88619ee6f5e14c557ab8ef62}{LINEAR}, \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6dab74c84d37477dff28b72b133217cc5e7}{POLY}, \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da7d4cc9bb6c3d975e52b4240ab829f274}{RBF}, \hyperlink{_usf_cas_cor_8h_ad754ca4856873b8cdcae292a9a51aafd}{SIGMOID}, 
      \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}{PRECOMPUTED} \}     \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6d}{Kernel\_Type}; \textcolor{comment}{/* kernel\_type */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!S\+V\+M\+\_\+\+Type@{S\+V\+M\+\_\+\+Type}}
\index{S\+V\+M\+\_\+\+Type@{S\+V\+M\+\_\+\+Type}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{S\+V\+M\+\_\+\+Type}{SVM_Type}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf S\+V\+M289\+\_\+\+B\+F\+S\+::\+S\+V\+M\+\_\+\+Type}\hspace{0.3cm}{\ttfamily [strong]}}\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\+V\+M\+\_\+\+N\+U\+LL@{S\+V\+M\+\_\+\+N\+U\+LL}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!S\+V\+M\+\_\+\+N\+U\+LL@{S\+V\+M\+\_\+\+N\+U\+LL}}\item[{\em 
S\+V\+M\+\_\+\+N\+U\+LL\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a6bb560c86a8cbe6ebb4904b16c9c3861}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a6bb560c86a8cbe6ebb4904b16c9c3861}
}]\index{C\+\_\+\+S\+VC@{C\+\_\+\+S\+VC}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!C\+\_\+\+S\+VC@{C\+\_\+\+S\+VC}}\item[{\em 
C\+\_\+\+S\+VC\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a87e006eda383b384698dcae5a836951a}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a87e006eda383b384698dcae5a836951a}
}]\index{N\+U\+\_\+\+S\+VC@{N\+U\+\_\+\+S\+VC}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!N\+U\+\_\+\+S\+VC@{N\+U\+\_\+\+S\+VC}}\item[{\em 
N\+U\+\_\+\+S\+VC\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a675f4e0989ded8312f4219b09dceb508}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a675f4e0989ded8312f4219b09dceb508}
}]\index{O\+N\+E\+\_\+\+C\+L\+A\+SS@{O\+N\+E\+\_\+\+C\+L\+A\+SS}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!O\+N\+E\+\_\+\+C\+L\+A\+SS@{O\+N\+E\+\_\+\+C\+L\+A\+SS}}\item[{\em 
O\+N\+E\+\_\+\+C\+L\+A\+SS\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a7dd72415f425dc4258e6ab9b7a72b34b}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a7dd72415f425dc4258e6ab9b7a72b34b}
}]\index{E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR@{E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR@{E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR}}\item[{\em 
E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a9897563968940eea8a211d616ada0cfb}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913a9897563968940eea8a211d616ada0cfb}
}]\index{N\+U\+\_\+\+S\+VR@{N\+U\+\_\+\+S\+VR}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!N\+U\+\_\+\+S\+VR@{N\+U\+\_\+\+S\+VR}}\item[{\em 
N\+U\+\_\+\+S\+VR\hypertarget{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913ac6ca79ef961e189289fc39c8d344cd91}{}\label{namespace_s_v_m289___b_f_s_a0dbbe5a38e648f011aedb361a8c48913ac6ca79ef961e189289fc39c8d344cd91}
}]\end{description}
\end{Desc}


Definition at line 67 of file svm289\+\_\+\+B\+F\+S.\+h.


\begin{DoxyCode}
68   \{
69     \hyperlink{namespace_s_v_m289___m_f_s_ace392faef6440cf56ebff6b360e7d72aa6bb560c86a8cbe6ebb4904b16c9c3861}{SVM\_NULL},
70     \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{C\_SVC},
71     \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{NU\_SVC},
72     \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{ONE\_CLASS},
73     \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{EPSILON\_SVR},
74     \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{NU\_SVR}
75   \};    \textcolor{comment}{/* svm\_type */}
\end{DoxyCode}


\subsection{Function Documentation}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!clone@{clone}}
\index{clone@{clone}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{clone(\+T $\ast$\&dst, S $\ast$src, kkint32 n)}{clone(T *&dst, S *src, kkint32 n)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class S , class T $>$ void S\+V\+M289\+\_\+\+B\+F\+S\+::clone (
\begin{DoxyParamCaption}
\item[{T $\ast$\&}]{dst, }
\item[{S $\ast$}]{src, }
\item[{{\bf kkint32}}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{namespace_s_v_m289___b_f_s_a5030305fb16e512e60b31d312ddda3c6}{}\label{namespace_s_v_m289___b_f_s_a5030305fb16e512e60b31d312ddda3c6}


Definition at line 274 of file svm289\+\_\+\+B\+F\+S.\+h.


\begin{DoxyCode}
275   \{
276     dst = \textcolor{keyword}{new} T[n];
277     memcpy((\textcolor{keywordtype}{void} *)dst,(\textcolor{keywordtype}{void} *)src,\textcolor{keyword}{sizeof}(T)*n);
278   \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!Grow\+Allocation@{Grow\+Allocation}}
\index{Grow\+Allocation@{Grow\+Allocation}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{Grow\+Allocation(\+T $\ast$src, kkint32 orig\+Size, kkint32 new\+Size)}{GrowAllocation(T *src, kkint32 origSize, kkint32 newSize)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class T $>$ T$\ast$ S\+V\+M289\+\_\+\+B\+F\+S\+::\+Grow\+Allocation (
\begin{DoxyParamCaption}
\item[{T $\ast$}]{src, }
\item[{{\bf kkint32}}]{orig\+Size, }
\item[{{\bf kkint32}}]{new\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{namespace_s_v_m289___b_f_s_a75e966b67532afc70df4361a8f29f10b}{}\label{namespace_s_v_m289___b_f_s_a75e966b67532afc70df4361a8f29f10b}


Definition at line 78 of file svm289\+\_\+\+B\+F\+S.\+cpp.


\begin{DoxyCode}
82   \{
83     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  zed = 0;
84     T*  dest = \textcolor{keyword}{new} T[newSize];
85     \textcolor{keywordflow}{while}  (zed < origSize)    \{dest[zed] = src[zed];  zed++;\}
86     \textcolor{keywordflow}{while}  (zed < newSize)     \{dest[zed] = (T)0;      zed++;\}
87     \textcolor{keyword}{delete}  src;
88     \textcolor{keywordflow}{return}  dest;
89   \}  \textcolor{comment}{/* GrowAllocation */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!Kernel\+\_\+\+Type\+\_\+\+From\+Str@{Kernel\+\_\+\+Type\+\_\+\+From\+Str}}
\index{Kernel\+\_\+\+Type\+\_\+\+From\+Str@{Kernel\+\_\+\+Type\+\_\+\+From\+Str}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{Kernel\+\_\+\+Type\+\_\+\+From\+Str(\+K\+K\+Str s)}{Kernel_Type_FromStr(KKStr s)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Kernel\+\_\+\+Type} S\+V\+M289\+\_\+\+B\+F\+S\+::\+Kernel\+\_\+\+Type\+\_\+\+From\+Str (
\begin{DoxyParamCaption}
\item[{{\bf K\+K\+Str}}]{s}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_ac4cd562e7f3752f32480a23e5a06e7e3}{}\label{namespace_s_v_m289___b_f_s_ac4cd562e7f3752f32480a23e5a06e7e3}


Definition at line 575 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Equal\+Ignore\+Case(), Kernel\+\_\+\+N\+U\+LL, L\+I\+N\+E\+AR, K\+K\+B\+::\+K\+K\+Str\+::operator==(), P\+O\+LY, P\+R\+E\+C\+O\+M\+P\+U\+T\+ED, R\+BF, S\+I\+G\+M\+O\+ID, and K\+K\+B\+::\+K\+K\+Str\+::\+Upper().



Referenced by S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::\+Parse\+Tab\+Del\+Str(), and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::\+Process\+Svm\+Parameter().


\begin{DoxyCode}
576  \{
577    s.\hyperlink{class_k_k_b_1_1_k_k_str_a66ea0feabc94da88591b56a683695bd9}{Upper} ();
578    \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"LINEAR"}))       ||  (s == \textcolor{stringliteral}{"0"}))
579      \textcolor{keywordflow}{return}  \hyperlink{_usf_cas_cor_8h_ac645eb9a88619ee6f5e14c557ab8ef62}{LINEAR};
580 
581    \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"POLYNOMIAL"}))   ||  (s.
      \hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"POLY"}))  ||  (s == \textcolor{stringliteral}{"1"}))
582      \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m233_a44221c48118ea92c46a316a00e8f9e11a8ba6f8ab5a2dcac5e164e6b0a003ec9d}{POLY};
583 
584    \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"RBF"}))          ||  (s == \textcolor{stringliteral}{"2"}))
585      \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m233_a44221c48118ea92c46a316a00e8f9e11a0478d3ebef66c527d9acbb734d1959d7}{RBF};
586 
587    \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"SIGMOID"}))      ||  (s == \textcolor{stringliteral}{"3"}))
588      \textcolor{keywordflow}{return}  \hyperlink{_usf_cas_cor_8h_ad754ca4856873b8cdcae292a9a51aafd}{SIGMOID};
589 
590    \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"PRECOMPUTED"}))  ||  (s == \textcolor{stringliteral}{"4"}))
591      \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}{PRECOMPUTED};
592 
593    \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da56d6b15d8287a60fb7a560c1f1b0d70d}{Kernel\_NULL};
594  \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!Kernel\+\_\+\+Type\+\_\+\+To\+Str@{Kernel\+\_\+\+Type\+\_\+\+To\+Str}}
\index{Kernel\+\_\+\+Type\+\_\+\+To\+Str@{Kernel\+\_\+\+Type\+\_\+\+To\+Str}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{Kernel\+\_\+\+Type\+\_\+\+To\+Str(\+Kernel\+\_\+\+Type kernel\+Type)}{Kernel_Type_ToStr(Kernel_Type kernelType)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf K\+K\+Str} S\+V\+M289\+\_\+\+B\+F\+S\+::\+Kernel\+\_\+\+Type\+\_\+\+To\+Str (
\begin{DoxyParamCaption}
\item[{{\bf Kernel\+\_\+\+Type}}]{kernel\+Type}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a5b3db3f5393a3b919629d2d5468d5951}{}\label{namespace_s_v_m289___b_f_s_a5b3db3f5393a3b919629d2d5468d5951}


Definition at line 600 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References L\+I\+N\+E\+AR, P\+O\+LY, P\+R\+E\+C\+O\+M\+P\+U\+T\+ED, R\+BF, and S\+I\+G\+M\+O\+ID.



Referenced by S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::\+To\+Tab\+Del\+Str().


\begin{DoxyCode}
601 \{
602   \textcolor{keywordflow}{switch}  (kernelType)
603   \{
604   \textcolor{keywordflow}{case}  \hyperlink{_usf_cas_cor_8h_ac645eb9a88619ee6f5e14c557ab8ef62}{LINEAR}:       \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"linear"};
605   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_a44221c48118ea92c46a316a00e8f9e11a8ba6f8ab5a2dcac5e164e6b0a003ec9d}{POLY}:         \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"polynomial"};
606   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_a44221c48118ea92c46a316a00e8f9e11a0478d3ebef66c527d9acbb734d1959d7}{RBF}:          \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"rbf"};
607   \textcolor{keywordflow}{case}  \hyperlink{_usf_cas_cor_8h_ad754ca4856873b8cdcae292a9a51aafd}{SIGMOID}:      \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"sigmoid"};
608   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m289___b_f_s_aad17f5250658b3fe42ba842df2ef2c6da1ebdedc07ee45f15e4cdad22dd1fd4d5}{PRECOMPUTED}:  \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"precomputed"};
609   \} 
610 
611   \textcolor{keywordflow}{return}  \textcolor{stringliteral}{""};
612 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!multiclass\+\_\+probability@{multiclass\+\_\+probability}}
\index{multiclass\+\_\+probability@{multiclass\+\_\+probability}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{multiclass\+\_\+probability(kkint32 k, double $\ast$$\ast$r, double $\ast$p)}{multiclass_probability(kkint32 k, double **r, double *p)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::multiclass\+\_\+probability (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{k, }
\item[{double $\ast$$\ast$}]{r, }
\item[{double $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a891a677bee703ad8feda11a3c7e99363}{}\label{namespace_s_v_m289___b_f_s_a891a677bee703ad8feda11a3c7e99363}

\begin{DoxyParams}{Parameters}
{\em k} & Number of Classes. \\
\hline
{\em r} & Pairwise Probabilities. \\
\hline
{\em p} & Class Probability \\
\hline
\end{DoxyParams}


Definition at line 3051 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References info().


\begin{DoxyCode}
3055 \{
3056   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} t,j;
3057   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  iter     = 0;
3058   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  max\_iter = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (100, k);
3059 
3060   \textcolor{keywordtype}{double}**  Q  = \textcolor{keyword}{new} \textcolor{keywordtype}{double}*[k];
3061   \textcolor{keywordtype}{double}*   Qp = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[k];
3062   \textcolor{keywordtype}{double}    pQp; 
3063   \textcolor{keywordtype}{double}    eps = 0.005 / k;
3064   
3065   \textcolor{keywordflow}{for}  (t = 0;  t < k;  t++)
3066   \{
3067     p[t]    = 1.0 / k;  \textcolor{comment}{// Valid if k = 1}
3068     Q[t]    = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[k];
3069     Q[t][t] = 0;
3070     \textcolor{keywordflow}{for}  (j = 0;  j < t;  j++)
3071     \{
3072       Q[t][t] += r[j][t] * r[j][t];
3073       Q[t][j] =  Q[j][t];
3074     \}
3075 
3076     \textcolor{keywordflow}{for}  (j = t + 1;  j < k;  j++)
3077     \{
3078       Q[t][t] +=  r[j][t] * r[j][t];
3079       Q[t][j] =-  r[j][t] * r[t][j];
3080     \}
3081   \}
3082 
3083   \textcolor{keywordflow}{for} (iter = 0;  iter <max\_iter;  iter++)
3084   \{
3085     \textcolor{comment}{// stopping condition, recalculate QP,pQP for numerical accuracy}
3086     pQp = 0;
3087     \textcolor{keywordflow}{for} (t = 0;  t < k;  t++)
3088     \{
3089       Qp[t] = 0;
3090       \textcolor{keywordflow}{for}  (j = 0;  j < k;  j++)
3091         Qp[t] += Q[t][j] * p[j];
3092       pQp += p[t] * Qp[t];
3093     \}
3094     \textcolor{keywordtype}{double} max\_error = 0;
3095     \textcolor{keywordflow}{for} (t = 0;  t < k;  t++)
3096     \{
3097       \textcolor{keywordtype}{double} error = fabs (Qp[t] - pQp);
3098       \textcolor{keywordflow}{if}  (error > max\_error)
3099         max\_error = error;
3100     \}
3101 
3102     \textcolor{keywordflow}{if}  (max\_error < eps) 
3103       \textcolor{keywordflow}{break};
3104     
3105     \textcolor{keywordflow}{for}  (t = 0;  t < k;  t++)
3106     \{
3107       \textcolor{keywordtype}{double} diff = (-Qp[t] +pQp) / Q[t][t];
3108       p[t] += diff;
3109       pQp = (pQp + diff * (diff * Q[t][t] + 2 * Qp[t]))  /  (1 + diff) / (1 + diff);
3110       \textcolor{keywordflow}{for} (j = 0;  j < k;  j++)
3111       \{
3112         Qp[j] = (Qp[j] + diff * Q[t][j]) / (1 + diff);
3113         p[j] /= (1 + diff);
3114       \}
3115     \}
3116   \}
3117   \textcolor{keywordflow}{if}  (iter >= max\_iter)
3118     \hyperlink{svm289___b_f_s_8cpp_ab834c069665121a3467868539fde9101}{info} (\textcolor{stringliteral}{"Exceeds max\_iter in multiclass\_prob\(\backslash\)n"});
3119 
3120   \textcolor{keywordflow}{for}  (t = 0;  t < k;  t++)
3121   \{\textcolor{keyword}{delete} Q[t];  Q[t] = NULL;\}
3122 
3123   \textcolor{keyword}{delete}  Q;  Q  = NULL;
3124   \textcolor{keyword}{delete}  Qp; Qp = NULL;
3125 \}  \textcolor{comment}{/* multiclass\_probability */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!powi@{powi}}
\index{powi@{powi}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{powi(double base, kkint32 times)}{powi(double base, kkint32 times)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M289\+\_\+\+B\+F\+S\+::powi (
\begin{DoxyParamCaption}
\item[{double}]{base, }
\item[{{\bf kkint32}}]{times}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{namespace_s_v_m289___b_f_s_ac4f2bb7782ed887ee0589d5bcbdd731d}{}\label{namespace_s_v_m289___b_f_s_ac4f2bb7782ed887ee0589d5bcbdd731d}


Definition at line 93 of file svm289\+\_\+\+B\+F\+S.\+cpp.



Referenced by S\+V\+M289\+\_\+\+B\+F\+S\+::\+Kernel\+::k\+\_\+function().


\begin{DoxyCode}
94   \{
95     \textcolor{keywordtype}{double} tmp = base, ret = 1.0;
96 
97     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} t = times;  t > 0;  t /= 2)
98     \{
99       \textcolor{keywordflow}{if}  ((t % 2) == 1) 
100        ret *= tmp;
101       tmp = tmp * tmp;
102     \}
103     \textcolor{keywordflow}{return} ret;
104   \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!sigmoid\+\_\+predict@{sigmoid\+\_\+predict}}
\index{sigmoid\+\_\+predict@{sigmoid\+\_\+predict}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{sigmoid\+\_\+predict(double decision\+\_\+value, double A, double B)}{sigmoid_predict(double decision_value, double A, double B)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M289\+\_\+\+B\+F\+S\+::sigmoid\+\_\+predict (
\begin{DoxyParamCaption}
\item[{double}]{decision\+\_\+value, }
\item[{double}]{A, }
\item[{double}]{B}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a5a02bb36bfbcc78735ba18c0580b8a97}{}\label{namespace_s_v_m289___b_f_s_a5a02bb36bfbcc78735ba18c0580b8a97}


Definition at line 3034 of file svm289\+\_\+\+B\+F\+S.\+cpp.


\begin{DoxyCode}
3038 \{
3039   \textcolor{keywordtype}{double}  fApB = decision\_value * A + B;
3040   \textcolor{keywordflow}{if}  (fApB >= 0)
3041     \textcolor{keywordflow}{return} exp (-fApB) / (1.0 + exp (-fApB));
3042   \textcolor{keywordflow}{else}
3043     \textcolor{keywordflow}{return} 1.0 / (1 + exp (fApB));
3044 \}  \textcolor{comment}{/* sigmoid\_predict */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!sigmoid\+\_\+train@{sigmoid\+\_\+train}}
\index{sigmoid\+\_\+train@{sigmoid\+\_\+train}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{sigmoid\+\_\+train(kkint32 l, const double $\ast$dec\+\_\+values, const double $\ast$labels, double \&\+A, double \&\+B)}{sigmoid_train(kkint32 l, const double *dec_values, const double *labels, double &A, double &B)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::sigmoid\+\_\+train (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{l, }
\item[{const double $\ast$}]{dec\+\_\+values, }
\item[{const double $\ast$}]{labels, }
\item[{double \&}]{A, }
\item[{double \&}]{B}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a5d8aba7048d23e9abbff3e055850a471}{}\label{namespace_s_v_m289___b_f_s_a5d8aba7048d23e9abbff3e055850a471}


Definition at line 2899 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References info().



Referenced by svm\+\_\+binary\+\_\+svc\+\_\+probability().


\begin{DoxyCode}
2905 \{
2906   \textcolor{keywordtype}{double}  prior1 = 0;
2907   \textcolor{keywordtype}{double}  prior0 = 0;
2908   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
2909 
2910   \textcolor{keywordflow}{for} (i=0;i<l;i++)
2911   \{
2912     \textcolor{keywordflow}{if}  (labels[i] > 0)
2913       prior1 += 1;
2914     \textcolor{keywordflow}{else} 
2915       prior0 += 1;
2916   \}
2917 
2918   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} max\_iter  = 100;    \textcolor{comment}{// Maximal number of iterations}
2919   \textcolor{keywordtype}{double}  min\_step  = 1e-10;  \textcolor{comment}{// Minimal step taken in line search}
2920   \textcolor{keywordtype}{double}  sigma     = 1e-12;  \textcolor{comment}{// For numerically strict PD of Hessian}
2921   \textcolor{keywordtype}{double}  eps       = 1e-5;
2922   \textcolor{keywordtype}{double}  hiTarget  = (prior1 + 1.0) / (prior1 + 2.0);
2923   \textcolor{keywordtype}{double}  loTarget  =  1 / (prior0 + 2.0);
2924   \textcolor{keywordtype}{double}* t = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[l];
2925   \textcolor{keywordtype}{double}  fApB, p, q, h11, h22, h21, g1, g2, det, dA, dB, gd, stepsize;
2926   \textcolor{keywordtype}{double}  newA, newB, newf, d1, d2;
2927   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} iter; 
2928   
2929   \textcolor{comment}{// Initial Point and Initial Fun Value}
2930   A = 0.0; 
2931   B = log ((prior0 + 1.0) / (prior1 + 1.0));
2932   \textcolor{keywordtype}{double}  fval = 0.0;
2933 
2934   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2935   \{
2936     \textcolor{keywordflow}{if}  (labels[i] > 0) 
2937       t[i] = hiTarget;
2938     \textcolor{keywordflow}{else} 
2939       t[i] = loTarget;
2940 
2941     fApB = dec\_values[i] * A + B;
2942     
2943     \textcolor{keywordflow}{if} (fApB >= 0)
2944       fval += t[i] * fApB + log (1 + exp (-fApB));
2945     \textcolor{keywordflow}{else}
2946       fval += (t[i] - 1) * fApB + log (1 + exp (fApB));
2947   \}
2948 
2949   \textcolor{keywordflow}{for}  (iter=0;  iter < max\_iter;  iter++)
2950   \{
2951     \textcolor{comment}{// Update Gradient and Hessian (use H' = H + sigma I)}
2952     h11 = sigma; \textcolor{comment}{// numerically ensures strict PD}
2953     h22 = sigma;
2954     h21 = 0.0;
2955     g1  = 0.0;
2956     g2  = 0.0;
2957     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2958     \{
2959       fApB = dec\_values[i] * A + B;
2960       \textcolor{keywordflow}{if}  (fApB >= 0)
2961       \{
2962         p = exp (-fApB) / (1.0 + exp(-fApB));
2963         q = 1.0 / (1.0 + exp(-fApB));
2964       \}
2965       \textcolor{keywordflow}{else}
2966       \{
2967         p = 1.0 / (1.0 + exp (fApB));
2968         q = exp (fApB) / (1.0 + exp (fApB));
2969       \}
2970 
2971       d2   = p * q;
2972       h11  += dec\_values[i] * dec\_values[i] * d2;
2973       h22  += d2;
2974       h21  += dec\_values[i] * d2;
2975       d1   = t[i] - p;
2976       g1   += dec\_values[i] * d1;
2977       g2   += d1;
2978     \}
2979 
2980     \textcolor{comment}{// Stopping Criteria}
2981     \textcolor{keywordflow}{if}  ((fabs (g1) < eps)  &&  (fabs(g2) < eps))
2982       \textcolor{keywordflow}{break};
2983 
2984     \textcolor{comment}{// Finding Newton direction: -inv(H') * g}
2985     det = h11 * h22  -  h21 * h21;
2986     dA  = -(h22*g1 - h21 * g2) / det;
2987     dB  = -(-h21 * g1  +  h11 * g2) / det;
2988     gd  = g1 * dA  +  g2 * dB;
2989 
2990 
2991     stepsize = 1;    \textcolor{comment}{// Line Search}
2992     \textcolor{keywordflow}{while} (stepsize >= min\_step)
2993     \{
2994       newA = A + stepsize * dA;
2995       newB = B + stepsize * dB;
2996 
2997       \textcolor{comment}{// New function value}
2998       newf = 0.0;
2999       \textcolor{keywordflow}{for} (i = 0;  i < l;  i++)
3000       \{
3001         fApB = dec\_values[i] * newA + newB;
3002         \textcolor{keywordflow}{if} (fApB >= 0)
3003           newf += t[i] * fApB + log (1 + exp (-fApB));
3004         \textcolor{keywordflow}{else}
3005           newf += (t[i] - 1) * fApB + log (1 + exp (fApB));
3006       \}
3007       \textcolor{comment}{// Check sufficient decrease}
3008       \textcolor{keywordflow}{if} (newf < fval + 0.0001 * stepsize * gd)
3009       \{
3010         A    = newA;
3011         B    = newB;
3012         fval = newf;
3013         \textcolor{keywordflow}{break};
3014       \}
3015       \textcolor{keywordflow}{else}
3016         stepsize = stepsize / 2.0;
3017     \}
3018 
3019     \textcolor{keywordflow}{if} (stepsize < min\_step)
3020     \{
3021       \hyperlink{svm289___b_f_s_8cpp_ab834c069665121a3467868539fde9101}{info}(\textcolor{stringliteral}{"Line search fails in two-class probability estimates\(\backslash\)n"});
3022       \textcolor{keywordflow}{break};
3023     \}
3024   \}
3025 
3026   \textcolor{keywordflow}{if}  (iter >= max\_iter)
3027     \hyperlink{svm289___b_f_s_8cpp_ab834c069665121a3467868539fde9101}{info} (\textcolor{stringliteral}{"Reaching maximal iterations in two-class probability estimates\(\backslash\)n"});
3028 
3029   \textcolor{keyword}{delete}[]  t;  t = NULL;
3030 \}  \textcolor{comment}{/* sigmoid\_train */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!solve\+\_\+c\+\_\+svc@{solve\+\_\+c\+\_\+svc}}
\index{solve\+\_\+c\+\_\+svc@{solve\+\_\+c\+\_\+svc}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{solve\+\_\+c\+\_\+svc(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param, double $\ast$alpha, Solver\+::\+Solution\+Info $\ast$si, double Cp, double Cn, Run\+Log \&\+\_\+log)}{solve_c_svc(const svm_problem *prob, const svm_parameter *param, double *alpha, Solver::SolutionInfo *si, double Cp, double Cn, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::solve\+\_\+c\+\_\+svc (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param, }
\item[{double $\ast$}]{alpha, }
\item[{{\bf Solver\+::\+Solution\+Info} $\ast$}]{si, }
\item[{double}]{Cp, }
\item[{double}]{Cn, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a1ffc7754e8ec86580b0681e65b765d3c}{}\label{namespace_s_v_m289___b_f_s_a1ffc7754e8ec86580b0681e65b765d3c}


Definition at line 2451 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::eps, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::shrinking, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solve(), S\+V\+M289\+\_\+\+B\+F\+S\+::\+S\+V\+C\+\_\+\+Q\+::\+S\+V\+C\+\_\+\+Q(), and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by svm\+\_\+train\+\_\+one().


\begin{DoxyCode}
2459 \{
2460   
2461   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  l          = prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};
2462   \textcolor{keywordtype}{double}*  minus\_ones = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[l];
2463   \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}*   y          = \textcolor{keyword}{new} \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}[l];
2464 
2465   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
2466 
2467   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2468   \{
2469     alpha[i]      = 0;
2470     minus\_ones[i] = -1;
2471     \textcolor{keywordflow}{if}  (prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[i] > 0) 
2472       y[i] = +1; 
2473     \textcolor{keywordflow}{else} 
2474       y[i] = -1;
2475   \}
2476 
2477   \hyperlink{class_s_v_m289___b_f_s_1_1_solver}{Solver}  s;
2478 
2479   \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_c___q}{SVC\_Q}*  jester = \textcolor{keyword}{new} \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_c___q}{SVC\_Q} (*prob, *param, y, \_log);
2480 
2481   s.\hyperlink{class_s_v_m289___b_f_s_1_1_solver_ab9cf8b8cfa73c0a259b6e0c3e298bd31}{Solve} (l, 
2482            *jester, 
2483            minus\_ones, 
2484            y,
2485            alpha, 
2486            Cp, 
2487            Cn, 
2488            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_ade212e0b6eafc29ce3402fd8945d0ebf}{eps}, 
2489            si, 
2490            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6a9d76d8aa331811b0f7da59ebc5a79a}{shrinking}
2491           );
2492   \textcolor{keyword}{delete}  jester;
2493   jester = NULL;
2494 
2495   \textcolor{keywordtype}{double}  sum\_alpha =0;
2496 
2497   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2498     sum\_alpha += alpha[i];
2499 
2500   \textcolor{comment}{//if  (Cp == Cn)}
2501   \textcolor{comment}{//  info ("nu = %f\(\backslash\)n", sum\_alpha / (Cp * prob->l));}
2502 
2503   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2504     alpha[i] *= y[i];
2505 
2506   \textcolor{keyword}{delete}[] minus\_ones;
2507   \textcolor{keyword}{delete}[] y;
2508 \}  \textcolor{comment}{/* solve\_c\_svc */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!solve\+\_\+epsilon\+\_\+svr@{solve\+\_\+epsilon\+\_\+svr}}
\index{solve\+\_\+epsilon\+\_\+svr@{solve\+\_\+epsilon\+\_\+svr}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{solve\+\_\+epsilon\+\_\+svr(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param, double $\ast$alpha, Solver\+::\+Solution\+Info $\ast$si, Run\+Log \&\+\_\+log)}{solve_epsilon_svr(const svm_problem *prob, const svm_parameter *param, double *alpha, Solver::SolutionInfo *si, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::solve\+\_\+epsilon\+\_\+svr (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param, }
\item[{double $\ast$}]{alpha, }
\item[{{\bf Solver\+::\+Solution\+Info} $\ast$}]{si, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_ac6eb94ba42385e7ca90b1612effb2e7e}{}\label{namespace_s_v_m289___b_f_s_ac6eb94ba42385e7ca90b1612effb2e7e}


Definition at line 2650 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::C, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::eps, info(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::p, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::shrinking, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solve(), S\+V\+M289\+\_\+\+B\+F\+S\+::\+S\+V\+R\+\_\+\+Q\+::\+S\+V\+R\+\_\+\+Q(), and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by svm\+\_\+train\+\_\+one().


\begin{DoxyCode}
2656 \{
2657   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};
2658   \textcolor{keywordtype}{double}*  alpha2       = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [2 * l];
2659   \textcolor{keywordtype}{double}*  linear\_term  = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [2 * l];
2660   \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}*   y = \textcolor{keyword}{new} \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}[2*l];
2661   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
2662 
2663   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2664   \{
2665     alpha2[i] = 0;
2666     linear\_term[i] = param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_ae511b0f9f6d30b4f3d5348890b915e08}{p} - prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[i];
2667     y[i] = 1;
2668 
2669     alpha2      [i + l] = 0;
2670     linear\_term [i + l] = param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_ae511b0f9f6d30b4f3d5348890b915e08}{p} + prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[i];
2671     y           [i + l] = -1;
2672   \}
2673 
2674 
2675   \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_r___q}{SVR\_Q}*  jester = \textcolor{keyword}{new} \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_r___q}{SVR\_Q} (*prob, *param, \_log);
2676   \hyperlink{class_s_v_m289___b_f_s_1_1_solver}{Solver} s;
2677   s.\hyperlink{class_s_v_m289___b_f_s_1_1_solver_ab9cf8b8cfa73c0a259b6e0c3e298bd31}{Solve} (2 * l, 
2678            *jester, 
2679            linear\_term, 
2680            y,
2681            alpha2, 
2682            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6e819bf58fb2b36b28cdf4abf22e3371}{C}, 
2683            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6e819bf58fb2b36b28cdf4abf22e3371}{C}, 
2684            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_ade212e0b6eafc29ce3402fd8945d0ebf}{eps}, 
2685            si, 
2686            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6a9d76d8aa331811b0f7da59ebc5a79a}{shrinking}
2687           );
2688 
2689   \textcolor{keyword}{delete}  jester;
2690   jester = NULL;
2691 
2692   \textcolor{keywordtype}{double} sum\_alpha = 0;
2693   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2694   \{
2695     alpha[i] = alpha2[i] - alpha2[i+l];
2696     sum\_alpha += fabs (alpha[i]);
2697   \}
2698 
2699   \hyperlink{svm289___b_f_s_8cpp_ab834c069665121a3467868539fde9101}{info} (\textcolor{stringliteral}{"nu = %f\(\backslash\)n"}, sum\_alpha / (param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6e819bf58fb2b36b28cdf4abf22e3371}{C} * l));
2700 
2701   \textcolor{keyword}{delete}[] alpha2;
2702   \textcolor{keyword}{delete}[] linear\_term;
2703   \textcolor{keyword}{delete}[] y;
2704 \}  \textcolor{comment}{/* solve\_epsilon\_svr */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!solve\+\_\+nu\+\_\+svc@{solve\+\_\+nu\+\_\+svc}}
\index{solve\+\_\+nu\+\_\+svc@{solve\+\_\+nu\+\_\+svc}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{solve\+\_\+nu\+\_\+svc(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param, double $\ast$alpha, Solver\+::\+Solution\+Info $\ast$si, Run\+Log \&\+\_\+log)}{solve_nu_svc(const svm_problem *prob, const svm_parameter *param, double *alpha, Solver::SolutionInfo *si, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::solve\+\_\+nu\+\_\+svc (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param, }
\item[{double $\ast$}]{alpha, }
\item[{{\bf Solver\+::\+Solution\+Info} $\ast$}]{si, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a9a5bacd3c695e0b7e350ab9aa509e838}{}\label{namespace_s_v_m289___b_f_s_a9a5bacd3c695e0b7e350ab9aa509e838}


Definition at line 2513 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::eps, info(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::nu, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solution\+Info\+::obj, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solution\+Info\+::r, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solution\+Info\+::rho, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::shrinking, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+\_\+\+N\+U\+::\+Solve(), S\+V\+M289\+\_\+\+B\+F\+S\+::\+S\+V\+C\+\_\+\+Q\+::\+S\+V\+C\+\_\+\+Q(), S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solution\+Info\+::upper\+\_\+bound\+\_\+n, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solution\+Info\+::upper\+\_\+bound\+\_\+p, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by svm\+\_\+train\+\_\+one().


\begin{DoxyCode}
2519 \{
2520   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  i;
2521   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  l  = prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};
2522   \textcolor{keywordtype}{double} nu = param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6f25339a407582eca1800e6561b24ebc}{nu};
2523 
2524   \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar} *y = \textcolor{keyword}{new} \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}[l];
2525 
2526   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2527   \{
2528     \textcolor{keywordflow}{if}  (prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[i] > 0)
2529       y[i] = +1;
2530     \textcolor{keywordflow}{else}
2531       y[i] = -1;
2532   \}
2533 
2534 
2535   \textcolor{keywordtype}{double} sum\_pos = nu * l / 2;
2536   \textcolor{keywordtype}{double} sum\_neg = nu * l / 2;
2537 
2538   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2539   \{
2540     \textcolor{keywordflow}{if}  (y[i] == +1)
2541     \{
2542       alpha[i] = \hyperlink{_raster_8cpp_a6261a282d8ed27242c636ad5fb658585}{Min}(1.0, sum\_pos);
2543       sum\_pos -= alpha[i];
2544     \}
2545     \textcolor{keywordflow}{else}
2546     \{
2547       alpha[i] = \hyperlink{_raster_8cpp_a6261a282d8ed27242c636ad5fb658585}{Min}(1.0,sum\_neg);
2548       sum\_neg -= alpha[i];
2549     \}
2550   \}
2551 
2552   \textcolor{keywordtype}{double} *zeros = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[l];
2553 
2554   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2555     zeros[i] = 0;
2556 
2557   \hyperlink{class_s_v_m289___b_f_s_1_1_solver___n_u}{SVM289\_BFS::Solver\_NU}  s;
2558 
2559   \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_c___q}{SVC\_Q}*  jester = \textcolor{keyword}{new} \hyperlink{class_s_v_m289___b_f_s_1_1_s_v_c___q}{SVC\_Q} (*prob, *param, y, \_log);
2560 
2561   s.\hyperlink{class_s_v_m289___b_f_s_1_1_solver___n_u_a90214597a5a2a7ed797ee994f25e1b54}{Solve} (l, 
2562            *jester, 
2563            zeros, 
2564            y,
2565            alpha, 
2566            1.0, 
2567            1.0, 
2568            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_ade212e0b6eafc29ce3402fd8945d0ebf}{eps}, 
2569            si,  
2570            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6a9d76d8aa331811b0f7da59ebc5a79a}{shrinking}
2571           );
2572 
2573   \textcolor{keyword}{delete}  jester;
2574   jester = NULL;
2575 
2576   \textcolor{keywordtype}{double} r = si->\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_af4d162d0a9f9f2d50dfac40e4fa0652d}{r};
2577 
2578   \hyperlink{svm289___b_f_s_8cpp_ab834c069665121a3467868539fde9101}{info} (\textcolor{stringliteral}{"C = %f\(\backslash\)n"},1/r);
2579 
2580   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2581     alpha[i] *= y[i] / r;
2582 
2583   si->\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_a60d5d2cf39ad707039e0ef4a0cb7ba2d}{rho} /= r;
2584   si->\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_a5051c01a5c1eefc3e38c963848295e74}{obj} /= (r * r);
2585   si->\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_a06cbde68d648800d92969dd4509050fe}{upper\_bound\_p} = 1 / r;
2586   si->\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_aacda21688b31ff854b0e17ae458f6d42}{upper\_bound\_n} = 1 / r;
2587 
2588   \textcolor{keyword}{delete}[] y;
2589   \textcolor{keyword}{delete}[] zeros;
2590 \}  \textcolor{comment}{/* solve\_nu\_svc */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!solve\+\_\+one\+\_\+class@{solve\+\_\+one\+\_\+class}}
\index{solve\+\_\+one\+\_\+class@{solve\+\_\+one\+\_\+class}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{solve\+\_\+one\+\_\+class(const svm\+\_\+problem $\ast$prob, const svm\+\_\+parameter $\ast$param, double $\ast$alpha, Solver\+::\+Solution\+Info $\ast$si, Run\+Log \&\+\_\+log)}{solve_one_class(const svm_problem *prob, const svm_parameter *param, double *alpha, Solver::SolutionInfo *si, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::solve\+\_\+one\+\_\+class (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const {\bf svm\+\_\+parameter} $\ast$}]{param, }
\item[{double $\ast$}]{alpha, }
\item[{{\bf Solver\+::\+Solution\+Info} $\ast$}]{si, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_aa238dc0bd857a07ed5861d37d34666a7}{}\label{namespace_s_v_m289___b_f_s_aa238dc0bd857a07ed5861d37d34666a7}


Definition at line 2595 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::eps, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::nu, S\+V\+M289\+\_\+\+B\+F\+S\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::shrinking, and S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solve().



Referenced by svm\+\_\+train\+\_\+one().


\begin{DoxyCode}
2601 \{
2602   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};
2603 
2604   \textcolor{keywordtype}{double}*   zeros = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[l];
2605   \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}*    ones  = \textcolor{keyword}{new} \hyperlink{namespace_s_v_m289___b_f_s_a67b51ac46a91cdb7ad72dea9fad6c0f0}{schar}[l];
2606   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
2607 
2608   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} n = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6f25339a407582eca1800e6561b24ebc}{nu} * prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l});  \textcolor{comment}{// # of alpha's at upper bound}
2609 
2610   \textcolor{keywordflow}{for}  (i = 0;  i < n;  i++)
2611     alpha[i] = 1;
2612 
2613   \textcolor{keywordflow}{if}  (n < prob->l)
2614     alpha[n] = param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6f25339a407582eca1800e6561b24ebc}{nu} * prob->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l} - n;
2615 
2616   \textcolor{keywordflow}{for}  (i = n + 1;  i < l;  i++)
2617     alpha[i] = 0;
2618 
2619   \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
2620   \{
2621     zeros[i] = 0;
2622     ones [i] = 1;
2623   \}
2624 
2625   \hyperlink{class_s_v_m289___b_f_s_1_1_o_n_e___c_l_a_s_s___q}{ONE\_CLASS\_Q}*  jester = \textcolor{keyword}{new} \hyperlink{class_s_v_m289___b_f_s_1_1_o_n_e___c_l_a_s_s___q}{ONE\_CLASS\_Q} (*prob, *param, \_log);
2626 
2627   \hyperlink{class_s_v_m289___b_f_s_1_1_solver}{Solver} s;
2628   s.\hyperlink{class_s_v_m289___b_f_s_1_1_solver_ab9cf8b8cfa73c0a259b6e0c3e298bd31}{Solve} (l, 
2629            *jester, 
2630            zeros, 
2631            ones,
2632            alpha, 
2633            1.0, 
2634            1.0, 
2635            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_ade212e0b6eafc29ce3402fd8945d0ebf}{eps}, 
2636            si, 
2637            param->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6a9d76d8aa331811b0f7da59ebc5a79a}{shrinking}
2638           );
2639 
2640   \textcolor{keyword}{delete}  jester;  
2641   jester = NULL;
2642 
2643   \textcolor{keyword}{delete}[] zeros;
2644   \textcolor{keyword}{delete}[] ones;
2645 \}  \textcolor{comment}{/* solve\_one\_class */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+check\+\_\+parameter@{svm\+\_\+check\+\_\+parameter}}
\index{svm\+\_\+check\+\_\+parameter@{svm\+\_\+check\+\_\+parameter}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+check\+\_\+parameter(const struct svm\+\_\+problem $\ast$prob, const struct svm\+\_\+parameter $\ast$param)}{svm_check_parameter(const struct svm_problem *prob, const struct svm_parameter *param)}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+check\+\_\+parameter (
\begin{DoxyParamCaption}
\item[{const struct {\bf svm\+\_\+problem} $\ast$}]{prob, }
\item[{const struct {\bf svm\+\_\+parameter} $\ast$}]{param}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a3375fd29acb587a72c448c02ffe40ede}{}\label{namespace_s_v_m289___b_f_s_a3375fd29acb587a72c448c02ffe40ede}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+check\+\_\+probability\+\_\+model@{svm\+\_\+check\+\_\+probability\+\_\+model}}
\index{svm\+\_\+check\+\_\+probability\+\_\+model@{svm\+\_\+check\+\_\+probability\+\_\+model}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+check\+\_\+probability\+\_\+model(const struct svm\+\_\+model $\ast$model)}{svm_check_probability_model(const struct svm_model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+check\+\_\+probability\+\_\+model (
\begin{DoxyParamCaption}
\item[{const struct {\bf svm\+\_\+model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_aa13d19817f6b383a24160e12db825aeb}{}\label{namespace_s_v_m289___b_f_s_aa13d19817f6b383a24160e12db825aeb}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+cross\+\_\+validation@{svm\+\_\+cross\+\_\+validation}}
\index{svm\+\_\+cross\+\_\+validation@{svm\+\_\+cross\+\_\+validation}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+cross\+\_\+validation(const svm\+\_\+problem \&prob, const svm\+\_\+parameter \&param, kkint32 nr\+\_\+fold, double $\ast$target, Run\+Log \&log)}{svm_cross_validation(const svm_problem &prob, const svm_parameter &param, kkint32 nr_fold, double *target, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+cross\+\_\+validation (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} \&}]{prob, }
\item[{const {\bf svm\+\_\+parameter} \&}]{param, }
\item[{{\bf kkint32}}]{nr\+\_\+fold, }
\item[{double $\ast$}]{target, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_aa481f7ba50fb71a2fbffd75f85f4531d}{}\label{namespace_s_v_m289___b_f_s_aa481f7ba50fb71a2fbffd75f85f4531d}


Definition at line 3701 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References C\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::\+File\+Desc(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, N\+U\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::probability, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::\+Sel\+Features(), svm\+\_\+destroy\+\_\+model(), svm\+\_\+get\+\_\+nr\+\_\+class(), svm\+\_\+group\+\_\+classes(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::svm\+\_\+problem(), svm\+\_\+train(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by svm\+\_\+svr\+\_\+probability().


\begin{DoxyCode}
3707 \{
3708   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
3709   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *fold\_start = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_fold + 1];
3710   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};
3711   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *perm = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[l];
3712   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_class;
3713 
3714   \textcolor{comment}{// stratified cv may not give leave-one-out rate}
3715   \textcolor{comment}{// Each class to l folds -> some folds may have zero elements}
3716   \textcolor{keywordflow}{if}  ((param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC} || param.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC})  && 
3717        (nr\_fold < l)
3718       )
3719   \{
3720     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *start = NULL;
3721     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *label = NULL;
3722     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *count = NULL;
3723     \hyperlink{svm289___b_f_s_8cpp_a50e8a1e35b79b63599a92a959314de95}{svm\_group\_classes} (&prob, &nr\_class, &label, &start, &count, perm);
3724 
3725     \textcolor{comment}{// random shuffle and then data grouped by fold using the array perm}
3726     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *fold\_count = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_fold];
3727     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} c;
3728     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *index = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[l];
3729     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3730       index[i]=perm[i];
3731 
3732     \textcolor{keywordflow}{for} (c = 0;  c < nr\_class;  c++) 
3733     \{
3734       \textcolor{keywordflow}{for}  (i = 0;  i < count[c];  i++)
3735       \{
3736         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + rand() % (count[c]-i);
3737         \hyperlink{namespace_s_v_m289___b_f_s_ab3100b6a2a7917c5fb6ef6aae0af496f}{SVM289\_BFS::swap} (index[start[c]+j], index[start[c]+i]);
3738       \}
3739     \}
3740 
3741     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_fold;  i++)
3742     \{
3743       fold\_count[i] = 0;
3744       \textcolor{keywordflow}{for}  (c = 0;  c < nr\_class;  c++)
3745         fold\_count[i] += (i + 1) * count[c] / nr\_fold - i * count[c] / nr\_fold;
3746     \}
3747 
3748     fold\_start[0] = 0;
3749     \textcolor{keywordflow}{for} (i = 1;  i <= nr\_fold;  i++)
3750       fold\_start[i] = fold\_start[i-1] + fold\_count[i-1];
3751 
3752     \textcolor{keywordflow}{for} (c=0; c<nr\_class;c++)
3753     \{
3754       \textcolor{keywordflow}{for}(i=0;i<nr\_fold;i++)
3755       \{
3756         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} begin = start[c]+i*count[c]/nr\_fold;
3757         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} end = start[c]+(i+1)*count[c]/nr\_fold;
3758         \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j=begin;j<end;j++)
3759         \{
3760           perm[fold\_start[i]] = index[j];
3761           fold\_start[i]++;
3762         \}
3763       \}
3764     \}
3765 
3766     fold\_start[0]=0;
3767     \textcolor{keywordflow}{for} (i=1;i<=nr\_fold;i++)
3768       fold\_start[i] = fold\_start[i-1]+fold\_count[i-1];
3769 
3770     \textcolor{keyword}{delete}[] start;       start = NULL;
3771     \textcolor{keyword}{delete}[] label;       label = NULL;
3772     \textcolor{keyword}{delete}[] count;       count = NULL;
3773     \textcolor{keyword}{delete}[] index;       index = NULL;
3774     \textcolor{keyword}{delete}[] fold\_count;  fold\_count = NULL;
3775   \}
3776   \textcolor{keywordflow}{else}
3777   \{
3778     \textcolor{keywordflow}{for} (i = 0;  i < l;  i++) 
3779       perm[i]=i;
3780 
3781     \textcolor{keywordflow}{for} (i = 0;  i < l;  i++)
3782     \{
3783       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + rand() % (l - i);
3784       \hyperlink{namespace_s_v_m289___b_f_s_ab3100b6a2a7917c5fb6ef6aae0af496f}{SVM289\_BFS::swap} (perm[i], perm[j]);
3785     \}
3786     \textcolor{keywordflow}{for}  (i = 0;  i <=  nr\_fold; i++)
3787       fold\_start[i] = i * l / nr\_fold;
3788   \}
3789 
3790   \textcolor{keywordflow}{for}  (i = 0;  i < nr\_fold;  i++)
3791   \{
3792     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} begin = fold\_start[i];
3793     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} end = fold\_start[i+1];
3794     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j,k;
3795 
3796     \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\_problem}  subprob (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a3127cc3a9a6352218c227051f2608caa}{SelFeatures} (), prob.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a0b0e37f9bfd7753f691070fdcd05569f}{FileDesc} (), log);
3797 
3798     subprob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l} = l - (end - begin);
3799     \textcolor{comment}{//subprob.x = Malloc(struct svm\_node*,subprob.l);}
3800     \textcolor{comment}{// subprob.x  will be initilized to an empty FeatureVectorList }
3801     subprob.y = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[subprob.l];
3802       
3803     k = 0;
3804     \textcolor{keywordflow}{for}  (j = 0;  j < begin;  j++)
3805     \{
3806       \textcolor{comment}{//subprob.x[k] = prob->x[perm[j]];}
3807       subprob.x.PushOnBack (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (perm[j]));
3808       subprob.y[k] = prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[perm[j]];
3809       ++k;
3810     \}
3811 
3812     \textcolor{keywordflow}{for}  (j = end;  j < l;  j++)
3813     \{
3814       \textcolor{comment}{//subprob.x[k] = prob->x[perm[j]];}
3815       subprob.x.PushOnBack (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (perm[j]));
3816       subprob.y[k] = prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[perm[j]];
3817       ++k;
3818     \}
3819 
3820     \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\_model}*  submodel = \hyperlink{namespace_s_v_m233_a0f6331f1d29cc73bc32f39c104b8d74c}{svm\_train} (subprob, param, log);
3821     \textcolor{keywordflow}{if}  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_acfe1c2e7915f38fd2c82cbf7403f6428}{probability} && 
3822        (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC} || param.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC}))
3823     \{
3824       \textcolor{keywordtype}{double} *prob\_estimates = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[\hyperlink{svm_8cpp_a8899c9bff7d0e5d840e33a6c66eec1cd}{svm\_get\_nr\_class} (submodel)];
3825       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  *votes          = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} [\hyperlink{svm_8cpp_a8899c9bff7d0e5d840e33a6c66eec1cd}{svm\_get\_nr\_class} (submodel)];
3826       \textcolor{keywordflow}{for}  (j = begin;  j < end;  j++)
3827         target[perm[j]] = \hyperlink{namespace_s_v_m289___m_f_s_ac0623d29bd02989f751e50d1cb3c8855}{svm\_predict\_probability} (submodel, prob.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}[perm[j]], prob\_estimates, votes);
3828       \textcolor{keyword}{delete}[]  prob\_estimates;  prob\_estimates = NULL;
3829       \textcolor{keyword}{delete}[]  votes;           votes          = NULL;
3830     \}
3831     \textcolor{keywordflow}{else}
3832     \{
3833       \textcolor{keywordflow}{for}  (j = begin;  j < end;  j++)
3834         target[perm[j]] = \hyperlink{namespace_s_v_m233_a7f194ec68b77ae5069b5a601d3870371}{svm\_predict} (submodel, prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}[perm[j]]);
3835     \}
3836 
3837     \hyperlink{namespace_s_v_m233_ae4315496ae1099c8ec84268ccf7b5d14}{svm\_destroy\_model} (submodel);
3838     \textcolor{keyword}{delete}  submodel;
3839     submodel = NULL;
3840 
3841     \textcolor{comment}{//free(subprob.x);}
3842     \textcolor{keyword}{delete}  subprob.y;   subprob.y = NULL;
3843   \}    
3844 
3845   \textcolor{keyword}{delete}[] fold\_start;  fold\_start = NULL;
3846   \textcolor{keyword}{delete}[] perm;        perm       = NULL;
3847 \}  \textcolor{comment}{/* svm\_cross\_validation */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+destroy\+\_\+model@{svm\+\_\+destroy\+\_\+model}}
\index{svm\+\_\+destroy\+\_\+model@{svm\+\_\+destroy\+\_\+model}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+destroy\+\_\+model(struct svm\+\_\+model $\ast$\&model)}{svm_destroy_model(struct svm_model *&model)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+destroy\+\_\+model (
\begin{DoxyParamCaption}
\item[{struct {\bf svm\+\_\+model} $\ast$\&}]{model}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a3abf6a39f80b941712758c24907a4247}{}\label{namespace_s_v_m289___b_f_s_a3abf6a39f80b941712758c24907a4247}


Definition at line 4649 of file svm289\+\_\+\+B\+F\+S.\+cpp.



Referenced by svm\+\_\+cross\+\_\+validation().


\begin{DoxyCode}
4650 \{
4651   \textcolor{comment}{//if  (model->weOwnSupportVectors  &&  (model->l > 0))}
4652   \textcolor{comment}{//  free ((void *)(model->SV[0]));}
4653   \textcolor{keywordflow}{if}  (model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_ab9180dbd9f7c9efcc1e95e543a908afe}{weOwnSupportVectors})
4654     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_b_1_1_k_k_queue_a4990d037ff09dd504cc7df53819bf61a}{Owner} (\textcolor{keyword}{true});
4655   \textcolor{keywordflow}{else}
4656     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_b_1_1_k_k_queue_a4990d037ff09dd504cc7df53819bf61a}{Owner} (\textcolor{keyword}{false});
4657 
4658   \textcolor{keyword}{delete}  model;
4659   model = NULL;
4660 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+destroy\+\_\+param@{svm\+\_\+destroy\+\_\+param}}
\index{svm\+\_\+destroy\+\_\+param@{svm\+\_\+destroy\+\_\+param}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+destroy\+\_\+param(struct svm\+\_\+parameter $\ast$\&param)}{svm_destroy_param(struct svm_parameter *&param)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+destroy\+\_\+param (
\begin{DoxyParamCaption}
\item[{struct {\bf svm\+\_\+parameter} $\ast$\&}]{param}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_af50fe4b56df40811d0dc5ac59158fc5b}{}\label{namespace_s_v_m289___b_f_s_af50fe4b56df40811d0dc5ac59158fc5b}


Definition at line 4664 of file svm289\+\_\+\+B\+F\+S.\+cpp.


\begin{DoxyCode}
4665 \{
4666   \textcolor{keyword}{delete}  param;
4667   param = NULL;
4668 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+get\+\_\+labels@{svm\+\_\+get\+\_\+labels}}
\index{svm\+\_\+get\+\_\+labels@{svm\+\_\+get\+\_\+labels}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+labels(const svm\+\_\+model $\ast$model, kkint32 $\ast$label)}{svm_get_labels(const svm_model *model, kkint32 *label)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+get\+\_\+labels (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+model} $\ast$}]{model, }
\item[{{\bf kkint32} $\ast$}]{label}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a29f559ed5bdfe2b15f20fbdd4f1bcd1a}{}\label{namespace_s_v_m289___b_f_s_a29f559ed5bdfe2b15f20fbdd4f1bcd1a}


Definition at line 3869 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::label, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::nr\+\_\+class.


\begin{DoxyCode}
3872 \{
3873   \textcolor{keywordflow}{if} (model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label} != NULL)
3874     \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_af8462268ac97b24a8d96f07874522cfb}{nr\_class};i++)
3875       label[i] = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}[i];
3876 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+get\+\_\+nr\+\_\+class@{svm\+\_\+get\+\_\+nr\+\_\+class}}
\index{svm\+\_\+get\+\_\+nr\+\_\+class@{svm\+\_\+get\+\_\+nr\+\_\+class}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+nr\+\_\+class(const svm\+\_\+model $\ast$model)}{svm_get_nr_class(const svm_model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+get\+\_\+nr\+\_\+class (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a7e620a46aa296d468fb1b9fecc002c9e}{}\label{namespace_s_v_m289___b_f_s_a7e620a46aa296d468fb1b9fecc002c9e}


Definition at line 3861 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::nr\+\_\+class.



Referenced by svm\+\_\+cross\+\_\+validation().


\begin{DoxyCode}
3862 \{
3863   \textcolor{keywordflow}{return} model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_af8462268ac97b24a8d96f07874522cfb}{nr\_class};
3864 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+get\+\_\+svm\+\_\+type@{svm\+\_\+get\+\_\+svm\+\_\+type}}
\index{svm\+\_\+get\+\_\+svm\+\_\+type@{svm\+\_\+get\+\_\+svm\+\_\+type}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+svm\+\_\+type(const svm\+\_\+model $\ast$model)}{svm_get_svm_type(const svm_model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+V\+M\+\_\+\+Type} S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+get\+\_\+svm\+\_\+type (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_aef448d015db85b6f54e6ad6691b20bb0}{}\label{namespace_s_v_m289___b_f_s_aef448d015db85b6f54e6ad6691b20bb0}


Definition at line 3854 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::param, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.


\begin{DoxyCode}
3855 \{
3856   \textcolor{keywordflow}{return} model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type};
3857 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+get\+\_\+svr\+\_\+probability@{svm\+\_\+get\+\_\+svr\+\_\+probability}}
\index{svm\+\_\+get\+\_\+svr\+\_\+probability@{svm\+\_\+get\+\_\+svr\+\_\+probability}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+get\+\_\+svr\+\_\+probability(const svm\+\_\+model $\ast$model)}{svm_get_svr_probability(const svm_model *model)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+get\+\_\+svr\+\_\+probability (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+model} $\ast$}]{model}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a1d278d63cd8dac6491f0a8d6d96e12bc}{}\label{namespace_s_v_m289___b_f_s_a1d278d63cd8dac6491f0a8d6d96e12bc}


Definition at line 3880 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, N\+U\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::param, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::probA, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.


\begin{DoxyCode}
3881 \{
3882   \textcolor{keywordflow}{if} ((model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR} || model->
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}) &&
3883       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA}!=NULL)
3884     \textcolor{keywordflow}{return} model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA}[0];
3885   \textcolor{keywordflow}{else}
3886   \{
3887     fprintf(stderr,\textcolor{stringliteral}{"Model doesn't contain information for SVR probability inference\(\backslash\)n"});
3888     \textcolor{keywordflow}{return} 0;
3889   \}
3890 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+predict@{svm\+\_\+predict}}
\index{svm\+\_\+predict@{svm\+\_\+predict}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+predict(const struct svm\+\_\+model $\ast$model, const Feature\+Vector \&x)}{svm_predict(const struct svm_model *model, const FeatureVector &x)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+predict (
\begin{DoxyParamCaption}
\item[{const struct {\bf svm\+\_\+model} $\ast$}]{model, }
\item[{const {\bf Feature\+Vector} \&}]{x}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a79889babf24551eb152f2967d7aa3781}{}\label{namespace_s_v_m289___b_f_s_a79889babf24551eb152f2967d7aa3781}


Referenced by svm\+\_\+predict\+\_\+probability().

\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+predict\+\_\+probability@{svm\+\_\+predict\+\_\+probability}}
\index{svm\+\_\+predict\+\_\+probability@{svm\+\_\+predict\+\_\+probability}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+predict\+\_\+probability(svm\+\_\+model $\ast$model, const Feature\+Vector \&x, double $\ast$prob\+\_\+estimates, kkint32 $\ast$votes)}{svm_predict_probability(svm_model *model, const FeatureVector &x, double *prob_estimates, kkint32 *votes)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+predict\+\_\+probability (
\begin{DoxyParamCaption}
\item[{{\bf svm\+\_\+model} $\ast$}]{model, }
\item[{const {\bf Feature\+Vector} \&}]{x, }
\item[{double $\ast$}]{prob\+\_\+estimates, }
\item[{{\bf kkint32} $\ast$}]{votes}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_aa1e007a01b615f5c2c4e3038adf403a3}{}\label{namespace_s_v_m289___b_f_s_aa1e007a01b615f5c2c4e3038adf403a3}


Definition at line 4027 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References C\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::\+Dec\+Values(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::label, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::\+Normalize\+Probability(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::nr\+\_\+class, N\+U\+\_\+\+S\+VC, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::\+Pairwise\+Prob(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::param, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::probA, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::probB, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::\+Prob\+Estimates(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::prob\+Param, svm\+\_\+predict(), svm\+\_\+predict\+\_\+values(), and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.


\begin{DoxyCode}
4032 \{
4033   \textcolor{keywordtype}{double}  probParam = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a7609863bd4ebc93577c59a67f2af3f71}{probParam};
4034 
4035   \textcolor{keywordflow}{if}  ((model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC}  ||  model->
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC})  &&  
4036        ((model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA} != NULL  &&  model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0cb0367a81209a239cb14d71505a1c9f}{probB} != NULL)  ||  (probParam > 0.0))
4037       )
4038   \{
4039     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}   i;
4040     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}   nr\_class = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_af8462268ac97b24a8d96f07874522cfb}{nr\_class};
4041 
4042     \textcolor{keywordtype}{double}*  prob\_estimates = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aa2db3a3a2e00164b47176c0a984b789a}{ProbEstimates} ();
4043     \textcolor{keywordtype}{double}*  dec\_values     = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_affd0675653fce95d5a8ac63aef14f8c9}{DecValues}     ();
4044     \textcolor{keywordtype}{double}** pairwise\_prob  = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_ac7bf5ba166c90b01162d5d13c5a86c98}{PairwiseProb}  ();
4045 
4046     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class;  i++)
4047       votes[i] = 0;
4048 
4049     \hyperlink{namespace_s_v_m289___m_f_s_a669dd565b35133cf6dfcc6e8614c2aa5}{svm\_predict\_values} (model, x, dec\_values);
4050 
4051     \textcolor{keywordtype}{double} min\_prob = 1e-7;
4052 
4053     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k=0;
4054     \textcolor{keywordflow}{for} (i = 0;  i < nr\_class;  i++)
4055     \{
4056       \textcolor{keywordflow}{for} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + 1;  j < nr\_class;  j++)
4057       \{
4058         \textcolor{keywordflow}{if}  (probParam > 0.0)
4059         \{
4060           \textcolor{keywordtype}{double} probability = (double)(1.0 / (1.0 + exp (-1.0 * probParam * dec\_values[k])));
4061           pairwise\_prob[i][j] = \hyperlink{_raster_8cpp_a6261a282d8ed27242c636ad5fb658585}{Min} (\hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (probability, min\_prob), 1 - min\_prob);
4062           pairwise\_prob[j][i] = 1 - pairwise\_prob[i][j];
4063         \}
4064         \textcolor{keywordflow}{else}
4065         \{
4066           pairwise\_prob[i][j] = \hyperlink{_raster_8cpp_a6261a282d8ed27242c636ad5fb658585}{Min} (\hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (\hyperlink{namespace_s_v_m289___b_f_s_a5a02bb36bfbcc78735ba18c0580b8a97}{sigmoid\_predict} (dec\_values[k], model->
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA}[k], model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0cb0367a81209a239cb14d71505a1c9f}{probB}[k]), min\_prob), 1 - min\_prob);
4067           pairwise\_prob[j][i] = 1 - pairwise\_prob[i][j];
4068         \}
4069 
4070         \textcolor{keywordflow}{if}  (pairwise\_prob[i][j] > 0.5)
4071           votes[model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}[i]]++;
4072         \textcolor{keywordflow}{else}
4073           votes[model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}[j]]++;
4074 
4075         k++;
4076       \}
4077     \}
4078 
4079     \textcolor{comment}{// The 'pairwise\_prob' and 'prob\_estimates' variables are actually located}
4080     \textcolor{comment}{// in 'model'.  So by calling 'NormalizeProbability'  we normalize }
4081     \textcolor{comment}{// 'prob\_estimates'.}
4082     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5d10aa2ae9d53ccf8f3526d36357c55d}{NormalizeProbability} (); 
4083 
4084     \textcolor{comment}{//multiclass\_probability (nr\_class, pairwise\_prob, prob\_estimates);}
4085 
4086     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} prob\_max\_idx = 0;
4087     \textcolor{keywordflow}{for} (i = 1;  i < nr\_class;  i++)
4088     \{
4089       \textcolor{keywordflow}{if}  (prob\_estimates[i] > prob\_estimates[prob\_max\_idx])
4090         prob\_max\_idx = i;
4091     \}
4092 
4093     \textcolor{keywordflow}{for} (i = 0;  i < nr\_class;  i++)
4094       classProbabilities[model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}[i]] = prob\_estimates[i];
4095 
4096     \textcolor{keywordflow}{return}  model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}[prob\_max\_idx];
4097   \}
4098   \textcolor{keywordflow}{else} 
4099   \{
4100     \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m233_a7f194ec68b77ae5069b5a601d3870371}{svm\_predict} (model, x);
4101   \}
4102 \}  \textcolor{comment}{/* svm\_predict\_probability */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+predict\+\_\+values@{svm\+\_\+predict\+\_\+values}}
\index{svm\+\_\+predict\+\_\+values@{svm\+\_\+predict\+\_\+values}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+predict\+\_\+values(const svm\+\_\+model $\ast$model, const Feature\+Vector \&x, double $\ast$dec\+\_\+values)}{svm_predict_values(const svm_model *model, const FeatureVector &x, double *dec_values)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+predict\+\_\+values (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+model} $\ast$}]{model, }
\item[{const {\bf Feature\+Vector} \&}]{x, }
\item[{double $\ast$}]{dec\+\_\+values}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_afcb014b7aa2752959482d3424d20048a}{}\label{namespace_s_v_m289___b_f_s_afcb014b7aa2752959482d3424d20048a}


Definition at line 3895 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::nr\+\_\+class, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::n\+SV, N\+U\+\_\+\+S\+VR, O\+N\+E\+\_\+\+C\+L\+A\+SS, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::param, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::rho, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::sv\+\_\+coef, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type.



Referenced by svm\+\_\+predict\+\_\+probability().


\begin{DoxyCode}
3899 \{
3900   \textcolor{keywordflow}{if}  (model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS}    ||
3901        model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR}  ||
3902        model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}
3903       )
3904   \{
3905     \textcolor{keywordtype}{double} *sv\_coef = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[0];
3906     \textcolor{keywordtype}{double} sum = 0;
3907     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i = 0;  i < model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a2ff6bb0d12016e37a95a5cd6885be92b}{l};  i++)
3908       sum += sv\_coef[i] * Kernel::k\_function (x, 
3909                                               model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}[i], 
3910                                               model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}, 
3911                                               model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aceafce36596b75a5ca5c085897286c8a}{selFeatures}
3912                                              );
3913     sum -= model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a53ee57b614f764a30ef4dc67d2a2167f}{rho}[0];
3914     *dec\_values = sum;
3915   \}
3916   \textcolor{keywordflow}{else}
3917   \{
3918     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
3919     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_class = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_af8462268ac97b24a8d96f07874522cfb}{nr\_class};
3920     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a2ff6bb0d12016e37a95a5cd6885be92b}{l};
3921     
3922     \textcolor{keywordtype}{double} *kvalue = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[l];
3923     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3924       kvalue[i] = Kernel::k\_function (x, model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}[i], model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5684e91641a9f3187d45bf5cfa684228}{param}, model->
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aceafce36596b75a5ca5c085897286c8a}{selFeatures});
3925 
3926     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *start = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_class];
3927     start[0] = 0;
3928     \textcolor{keywordflow}{for}  (i = 1;  i < nr\_class;  i++)
3929       start[i] = start[i-1]+model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a4bb18b0f8425add0fd0cede41fac9d00}{nSV}[i-1];
3930 
3931     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  p=0;
3932     for  (i = 0;  i < nr\_class;  i++)
3933     \{
3934       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + 1;  j < nr\_class;  j++)
3935       \{
3936         \textcolor{keywordtype}{double} sum = 0;
3937         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} si = start[i];
3938         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} sj = start[j];
3939         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ci = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a4bb18b0f8425add0fd0cede41fac9d00}{nSV}[i];
3940         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} cj = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a4bb18b0f8425add0fd0cede41fac9d00}{nSV}[j];
3941         
3942         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k;
3943         \textcolor{keywordtype}{double} *coef1 = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[j - 1];
3944         \textcolor{keywordtype}{double} *coef2 = model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[i];
3945         \textcolor{keywordflow}{for}  (k = 0;  k < ci;  k++)
3946           sum += coef1[si + k] * kvalue[si + k];
3947 
3948 
3949         \textcolor{keywordflow}{for}  (k = 0;  k < cj;  k++)
3950           sum += coef2[sj + k] * kvalue[sj + k];
3951 
3952         sum -= model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a53ee57b614f764a30ef4dc67d2a2167f}{rho}[p];
3953         dec\_values[p] = sum;
3954         p++;
3955       \}
3956     \}
3957 
3958     \textcolor{keyword}{delete}  kvalue;   kvalue = NULL;
3959     \textcolor{keyword}{delete}  start;    start  = NULL;
3960   \}
3961 \}  \textcolor{comment}{/* svm\_predict\_values */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+train@{svm\+\_\+train}}
\index{svm\+\_\+train@{svm\+\_\+train}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+train(const svm\+\_\+problem \&prob, const svm\+\_\+parameter \&param, Run\+Log \&log)}{svm_train(const svm_problem &prob, const svm_parameter &param, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf svm\+\_\+model} $\ast$ S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+train (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} \&}]{prob, }
\item[{const {\bf svm\+\_\+parameter} \&}]{param, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_aa4cb7098454dd77334b96e48e720e034}{}\label{namespace_s_v_m289___b_f_s_aa4cb7098454dd77334b96e48e720e034}


Definition at line 3385 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::decision\+\_\+function\+::alpha, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::C, E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Feature\+Vector\+List(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::\+File\+Desc(), info(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::l, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::label, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::nr\+\_\+class, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::nr\+\_\+weight, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::n\+SV, N\+U\+\_\+\+S\+VR, O\+N\+E\+\_\+\+C\+L\+A\+SS, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::probA, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::probability, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::probB, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::rho, S\+V\+M289\+\_\+\+B\+F\+S\+::decision\+\_\+function\+::rho, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::\+Sel\+Features(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::sv\+\_\+coef, svm\+\_\+binary\+\_\+svc\+\_\+probability(), svm\+\_\+group\+\_\+classes(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::svm\+\_\+model(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::svm\+\_\+problem(), svm\+\_\+svr\+\_\+probability(), svm\+\_\+train\+\_\+one(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::weight, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::weight\+\_\+label, S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+model\+::we\+Own\+Support\+Vectors, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by svm\+\_\+binary\+\_\+svc\+\_\+probability(), and svm\+\_\+cross\+\_\+validation().


\begin{DoxyCode}
3389 \{
3390   \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\_model}*  model = \textcolor{keyword}{new} \hyperlink{struct_s_v_m289___b_f_s_1_1svm__model}{svm\_model} (param, prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a3127cc3a9a6352218c227051f2608caa}{SelFeatures} (), prob.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a0b0e37f9bfd7753f691070fdcd05569f}{FileDesc} (), log);
3391 
3392   model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_ab9180dbd9f7c9efcc1e95e543a908afe}{weOwnSupportVectors} = \textcolor{keyword}{false};  \textcolor{comment}{// XXX}
3393 
3394   \textcolor{keywordflow}{if}  ((param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS})    ||
3395        (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR})  ||
3396        (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR})
3397       )
3398   \{
3399     \textcolor{comment}{// regression or one-class-svm}
3400     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_af8462268ac97b24a8d96f07874522cfb}{nr\_class} = 2;
3401     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}    = NULL;
3402     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a4bb18b0f8425add0fd0cede41fac9d00}{nSV}      = NULL;
3403     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA}    = NULL; 
3404     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0cb0367a81209a239cb14d71505a1c9f}{probB}    = NULL;
3405     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}  = \textcolor{keyword}{new} \textcolor{keywordtype}{double}*[1];
3406 
3407     \textcolor{keywordflow}{if}  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_acfe1c2e7915f38fd2c82cbf7403f6428}{probability}  &&  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == 
      \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR}  ||  param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} == 
      \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}))
3408     \{
3409       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[1];
3410       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA}[0] = \hyperlink{svm289___b_f_s_8cpp_a3c7d87d9a1a948af98386408728c2aba}{svm\_svr\_probability} (prob, param, log);
3411     \}
3412 
3413     \hyperlink{struct_s_v_m289___b_f_s_1_1decision__function}{decision\_function} f = \hyperlink{namespace_s_v_m289___b_f_s_ae92d39f186f1bce1e6cffdd3d382b948}{svm\_train\_one} (prob, param, 0, 0, log);
3414     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a53ee57b614f764a30ef4dc67d2a2167f}{rho} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[1];
3415     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a53ee57b614f764a30ef4dc67d2a2167f}{rho}[0] = f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a0222d06bf34cc9738dd7c66585b6f5d8}{rho};
3416 
3417     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nSV = 0;
3418     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
3419     \textcolor{keywordflow}{for}  (i = 0;  i < prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};  i++)
3420     \{
3421       \textcolor{keywordflow}{if}  (fabs(f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha}[i]) > 0) 
3422         ++nSV;
3423     \}
3424 
3425     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a2ff6bb0d12016e37a95a5cd6885be92b}{l} = nSV;
3426     \textcolor{comment}{//model->SV = Malloc(svm\_node *,nSV);}
3427     \textcolor{comment}{// model->SV is now a FeatureVectorList object that was initialized to empty and not owner in the
       consructor}
3428     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_b_1_1_k_k_queue_a4990d037ff09dd504cc7df53819bf61a}{Owner} (\textcolor{keyword}{true});
3429     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[0] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nSV];
3430     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = 0;
3431     \textcolor{keywordflow}{for}  (i = 0;  i < prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};  i++)
3432     \{
3433       \textcolor{keywordflow}{if}  (fabs (f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha}[i]) > 0)
3434       \{
3435         \textcolor{comment}{//model->SV[j] = prob->x[i];}
3436         model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (\textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVector} (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}[i]));
3437         model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[0][j] = f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha}[i];
3438         ++j;
3439       \}    
3440     \}
3441 
3442     \textcolor{keyword}{delete}  f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha};  f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha} = NULL;
3443   \}
3444   \textcolor{keywordflow}{else}
3445   \{
3446     \textcolor{comment}{// Classification}
3447     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l = prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};
3448     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_class;
3449     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *label = NULL;
3450     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *start = NULL;
3451     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *count = NULL;
3452     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *perm = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[l];
3453 
3454     \textcolor{comment}{// group training data of the same class}
3455     \hyperlink{svm289___b_f_s_8cpp_a50e8a1e35b79b63599a92a959314de95}{svm\_group\_classes} (&prob, 
3456                        &nr\_class,
3457                        &label,
3458                        &start,
3459                        &count,
3460                        perm
3461                       );
3462 
3463     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numBinaryCombos = nr\_class * (nr\_class - 1) / 2;
3464 
3465     \textcolor{comment}{//svm\_node **x = Malloc(svm\_node *,l);}
3466     \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorList} x (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a0b0e37f9bfd7753f691070fdcd05569f}{FileDesc} (), \textcolor{keyword}{false});
3467 
3468     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
3469     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3470     \{
3471       \textcolor{comment}{//x[i] = prob->x[perm[i]];}
3472       x.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (perm[i]));
3473     \}
3474 
3475     \textcolor{comment}{// calculate weighted C}
3476     \textcolor{keywordtype}{double}*  weighted\_C = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nr\_class];
3477     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class;  i++)
3478       weighted\_C[i] = param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a6e819bf58fb2b36b28cdf4abf22e3371}{C};
3479 
3480     for  (i = 0;  i < param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_aa0f9140ef46b5f6ead1976985039bd3b}{nr\_weight};  i++)
3481     \{  
3482       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j;
3483       \textcolor{keywordflow}{for}  (j = 0;  j < nr\_class;  j++)
3484       \{
3485         \textcolor{keywordflow}{if}  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_aa5fb22fef16001db2528f7ba4554758d}{weight\_label}[i] == label[j])
3486           \textcolor{keywordflow}{break};
3487       \}
3488 
3489       \textcolor{keywordflow}{if}  (j == nr\_class)
3490         fprintf(stderr,\textcolor{stringliteral}{"warning: class label %d specified in weight is not found\(\backslash\)n"}, param.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_aa5fb22fef16001db2528f7ba4554758d}{weight\_label}[i]);
3491       \textcolor{keywordflow}{else}
3492         weighted\_C[j] *= param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a72708216adcfcbaf21dc5133f7c30e07}{weight}[i];
3493     \}
3494 
3495     \textcolor{comment}{// train k*(k-1)/2 models}
3496     
3497     \textcolor{keywordtype}{bool} *nonzero = \textcolor{keyword}{new} \textcolor{keywordtype}{bool}[l];
3498 
3499     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3500       nonzero[i] = \textcolor{keyword}{false};
3501 
3502     \hyperlink{struct_s_v_m289___b_f_s_1_1decision__function}{decision\_function} *f = \textcolor{keyword}{new} \hyperlink{struct_s_v_m289___b_f_s_1_1decision__function}{decision\_function}[numBinaryCombos];
3503 
3504     \textcolor{keywordtype}{double}*  probA = NULL;
3505     \textcolor{keywordtype}{double}*  probB = NULL;
3506 
3507     \textcolor{keywordflow}{if} (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_acfe1c2e7915f38fd2c82cbf7403f6428}{probability})
3508     \{
3509       probA = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[numBinaryCombos];
3510       probB = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[numBinaryCombos];
3511     \}
3512 
3513     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} p = 0;
3514     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class;  i++)
3515     \{
3516       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + 1;  j < nr\_class;  j++)
3517       \{
3518         \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem}{svm\_problem}  sub\_prob (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a3127cc3a9a6352218c227051f2608caa}{SelFeatures} (), prob.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a0b0e37f9bfd7753f691070fdcd05569f}{FileDesc} (), log);
3519         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} si = start[i], sj = start[j];
3520         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ci = count[i], cj = count[j];
3521         sub\_prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l} = ci + cj;
3522         \textcolor{comment}{//sub\_prob.x = Malloc (svm\_node *,sub\_prob.l);}
3523         sub\_prob.y = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[sub\_prob.l];
3524         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k;
3525         \textcolor{keywordflow}{for}  (k = 0;  k < ci;  k++)
3526         \{
3527           \textcolor{comment}{//sub\_prob.x[k] = x[si+k];}
3528           sub\_prob.x.PushOnBack (x.IdxToPtr (si + k));
3529           sub\_prob.y[k] = +1;
3530         \}
3531         \textcolor{keywordflow}{for}  (k = 0;  k < cj;  k++)
3532         \{
3533           \textcolor{comment}{//sub\_prob.x[ci+k] = x[sj+k];}
3534           sub\_prob.x.PushOnBack (x.IdxToPtr (sj + k));
3535           sub\_prob.y[ci + k] = -1;
3536         \}
3537 
3538         \textcolor{keywordflow}{if}  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_acfe1c2e7915f38fd2c82cbf7403f6428}{probability})
3539           \hyperlink{svm289___b_f_s_8cpp_a0c841901f7446261a95fc3b3ef8621e4}{svm\_binary\_svc\_probability} (&sub\_prob, &param, weighted\_C[i], 
      weighted\_C[j], probA[p], probB[p], log);
3540 
3541 
3542         f[p] = \hyperlink{namespace_s_v_m289___b_f_s_ae92d39f186f1bce1e6cffdd3d382b948}{svm\_train\_one} (sub\_prob, param, weighted\_C[i], weighted\_C[j], log);
3543 
3544         \textcolor{keywordflow}{for}  (k = 0;  k < ci;  k++)
3545         \{
3546           \textcolor{keywordflow}{if}  (!nonzero[si + k]  &&  fabs(f[p].alpha[k]) > 0)
3547             nonzero[si + k] = \textcolor{keyword}{true};
3548         \}
3549 
3550         \textcolor{keywordflow}{for}  (k = 0;  k < cj;  k++)
3551         \{
3552           \textcolor{keywordflow}{if}  (!nonzero[sj + k]  &&  fabs(f[p].alpha[ci+k]) > 0)
3553             nonzero[sj + k] = \textcolor{keyword}{true};
3554         \}
3555 
3556         \textcolor{comment}{//free(sub\_prob.x);}
3557         \textcolor{keyword}{delete}  sub\_prob.y;  
3558         sub\_prob.y = NULL;
3559         ++p;
3560       \}
3561     \}
3562 
3563 
3564     \textcolor{comment}{// At this point all the Binary Classifiers have been built.  They are now going }
3565     \textcolor{comment}{// to be packaged into one not so neat model.}
3566 
3567     \textcolor{comment}{// build output}
3568     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_af8462268ac97b24a8d96f07874522cfb}{nr\_class} = nr\_class;
3569     
3570     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label} = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_class];
3571     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class;  i++)
3572       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a33bf273b5ce4cfff0b4d68210bfa7b2e}{label}[i] = label[i];
3573     
3574     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a53ee57b614f764a30ef4dc67d2a2167f}{rho} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[numBinaryCombos];
3575     for  (i = 0;  i < numBinaryCombos;  i++)
3576       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a53ee57b614f764a30ef4dc67d2a2167f}{rho}[i] = f[i].\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a0222d06bf34cc9738dd7c66585b6f5d8}{rho};
3577 
3578     if  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_acfe1c2e7915f38fd2c82cbf7403f6428}{probability})
3579     \{
3580       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[numBinaryCombos];
3581       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0cb0367a81209a239cb14d71505a1c9f}{probB} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[numBinaryCombos];
3582       \textcolor{keywordflow}{for}  (i = 0;  i < numBinaryCombos;  i++)
3583       \{
3584         model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA}[i] = probA[i];
3585         model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0cb0367a81209a239cb14d71505a1c9f}{probB}[i] = probB[i];
3586       \}
3587     \}
3588     \textcolor{keywordflow}{else}
3589     \{
3590       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a5626ef4775f7837e09dec0e2b163085b}{probA} = NULL;
3591       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0cb0367a81209a239cb14d71505a1c9f}{probB} = NULL;
3592     \}
3593 
3594     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} total\_sv = 0;
3595     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*  nz\_count = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_class];
3596 
3597     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a4bb18b0f8425add0fd0cede41fac9d00}{nSV} = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_class];
3598     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class;  i++)
3599     \{
3600       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nSV = 0;
3601       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = 0;  j < count[i];  j++)
3602       \{
3603         \textcolor{keywordflow}{if}  (nonzero[start[i] + j])
3604         \{  
3605           ++nSV;
3606           ++total\_sv;
3607         \}
3608       \}
3609       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a4bb18b0f8425add0fd0cede41fac9d00}{nSV}[i] = nSV;
3610       nz\_count[i]   = nSV;
3611     \}
3612     
3613     \hyperlink{svm289___b_f_s_8cpp_ab834c069665121a3467868539fde9101}{info}(\textcolor{stringliteral}{"Total nSV = %d\(\backslash\)n"},total\_sv);
3614 
3615     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a2ff6bb0d12016e37a95a5cd6885be92b}{l} = total\_sv;
3616     \textcolor{comment}{//model->SV = Malloc(svm\_node *, total\_sv);}
3617     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_b_1_1_k_k_queue_a72dbe1e65d567536dbf4be3617230254}{DeleteContents} ();
3618     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_b_1_1_k_k_queue_a4990d037ff09dd504cc7df53819bf61a}{Owner} (\textcolor{keyword}{false});
3619     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_ab9180dbd9f7c9efcc1e95e543a908afe}{weOwnSupportVectors} = \textcolor{keyword}{false};
3620 
3621     p = 0;
3622     \textcolor{keywordflow}{for}  (i = 0;  i < l;  i++)
3623     \{
3624       \textcolor{keywordflow}{if}  (nonzero[i])
3625       \{
3626         \textcolor{comment}{//model->SV[p++] = x[i];}
3627         model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_a0be330087c161794b8127ebaf8efa51b}{SV}.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (x.IdxToPtr (i));
3628         p++;
3629       \}
3630     \}
3631 
3632     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} *nz\_start = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[nr\_class];
3633     nz\_start[0] = 0;
3634     \textcolor{keywordflow}{for}  (i = 1;  i < nr\_class;  i++)
3635       nz\_start[i] = nz\_start[i - 1] + nz\_count[i - 1];
3636 
3637     model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}*[nr\_class - 1];
3638     \textcolor{keywordflow}{for}  (i = 0;  i < nr\_class - 1;  i++)
3639       model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[total\_sv];
3640 
3641     p = 0;
3642     for  (i = 0;  i < nr\_class;  i++)
3643     \{
3644       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j = i + 1;  j < nr\_class;  j++)
3645       \{
3646         \textcolor{comment}{// classifier (i,j): coefficients with}
3647         \textcolor{comment}{// i are in sv\_coef[j-1][nz\_start[i]...],}
3648         \textcolor{comment}{// j are in sv\_coef[i][nz\_start[j]...]}
3649 
3650         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} si = start[i];
3651         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} sj = start[j];
3652         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ci = count[i];
3653         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} cj = count[j];
3654         
3655         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} q = nz\_start[i];
3656         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k;
3657     
3658         \textcolor{keywordflow}{for}  (k = 0;  k < ci;  k++)
3659         \{
3660           \textcolor{keywordflow}{if}  (nonzero[si + k])
3661             model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[j - 1][q++] = f[p].\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha}[k];
3662         \}
3663 
3664         q = nz\_start[j];
3665         \textcolor{keywordflow}{for}  (k = 0;  k < cj;  k++)
3666         \{
3667           \textcolor{keywordflow}{if}  (nonzero[sj + k])
3668             model->\hyperlink{struct_s_v_m289___b_f_s_1_1svm__model_aad74e2dda9d5517b2b04d7d82b5e8e5c}{sv\_coef}[i][q++] = f[p].\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha}[ci + k];
3669         \}
3670         ++p;
3671       \}
3672     \}
3673 
3674     \textcolor{keyword}{delete}[] label;  label = NULL;
3675     \textcolor{keyword}{delete}[] probA;  probA = NULL;
3676     \textcolor{keyword}{delete}[] probB;  probB = NULL;
3677     \textcolor{keyword}{delete}[] count;  count = NULL;
3678     \textcolor{keyword}{delete}[] perm;   perm  = NULL;
3679     \textcolor{keyword}{delete}[] start;  start = NULL;
3680     \textcolor{comment}{//free (x);}
3681     \textcolor{keyword}{delete}[] weighted\_C;  weighted\_C = NULL;
3682     \textcolor{keyword}{delete}[] nonzero;     nonzero    = NULL;
3683     \textcolor{keywordflow}{for}  (i = 0;  i < numBinaryCombos;  i++)
3684     \{
3685       \textcolor{keyword}{delete} f[i].\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha};
3686       f[i].\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha} = NULL;
3687     \}
3688     \textcolor{keyword}{delete}[] f;          f = NULL;
3689     \textcolor{keyword}{delete}[] nz\_count;   nz\_count = NULL;
3690     \textcolor{keyword}{delete}[] nz\_start;   nz\_start = NULL;
3691   \}
3692 
3693   \textcolor{keywordflow}{return}  model;
3694 \}  \textcolor{comment}{/* svm\_train */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+train\+\_\+one@{svm\+\_\+train\+\_\+one}}
\index{svm\+\_\+train\+\_\+one@{svm\+\_\+train\+\_\+one}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+train\+\_\+one(const svm\+\_\+problem \&prob, const svm\+\_\+parameter \&param, double Cp, double Cn, Run\+Log \&\+\_\+log)}{svm_train_one(const svm_problem &prob, const svm_parameter &param, double Cp, double Cn, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf decision\+\_\+function} S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+train\+\_\+one (
\begin{DoxyParamCaption}
\item[{const {\bf svm\+\_\+problem} \&}]{prob, }
\item[{const {\bf svm\+\_\+parameter} \&}]{param, }
\item[{double}]{Cp, }
\item[{double}]{Cn, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_ae92d39f186f1bce1e6cffdd3d382b948}{}\label{namespace_s_v_m289___b_f_s_ae92d39f186f1bce1e6cffdd3d382b948}


Definition at line 2781 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References S\+V\+M289\+\_\+\+B\+F\+S\+::decision\+\_\+function\+::alpha, C\+\_\+\+S\+VC, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::l, N\+U\+\_\+\+S\+VC, N\+U\+\_\+\+S\+VR, O\+N\+E\+\_\+\+C\+L\+A\+SS, S\+V\+M289\+\_\+\+B\+F\+S\+::\+Solver\+::\+Solution\+Info\+::rho, S\+V\+M289\+\_\+\+B\+F\+S\+::decision\+\_\+function\+::rho, solve\+\_\+c\+\_\+svc(), solve\+\_\+epsilon\+\_\+svr(), solve\+\_\+nu\+\_\+svc(), solve\+\_\+nu\+\_\+svr(), solve\+\_\+one\+\_\+class(), S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::svm\+\_\+type, and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+problem\+::y.



Referenced by svm\+\_\+train().


\begin{DoxyCode}
2787 \{
2788   \textcolor{keywordtype}{double}*  alpha = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l}];
2789   \hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info}{Solver::SolutionInfo}  si;
2790 
2791   \textcolor{keywordflow}{switch}  (param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type})
2792   \{
2793     \textcolor{keywordflow}{case} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC}:
2794       \hyperlink{namespace_s_v_m289___b_f_s_a1ffc7754e8ec86580b0681e65b765d3c}{solve\_c\_svc} (&prob, &param, alpha, &si, Cp, Cn, \_log);
2795       \textcolor{keywordflow}{break};
2796 
2797     \textcolor{keywordflow}{case} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC}:
2798       \hyperlink{namespace_s_v_m289___b_f_s_a9a5bacd3c695e0b7e350ab9aa509e838}{solve\_nu\_svc} (&prob, &param, alpha, &si, \_log);
2799       \textcolor{keywordflow}{break};
2800 
2801     \textcolor{keywordflow}{case} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS}:
2802       \hyperlink{namespace_s_v_m289___b_f_s_aa238dc0bd857a07ed5861d37d34666a7}{solve\_one\_class} (&prob, &param, alpha, &si, \_log);
2803       \textcolor{keywordflow}{break};
2804 
2805     \textcolor{keywordflow}{case} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR}:
2806       \hyperlink{namespace_s_v_m289___b_f_s_ac6eb94ba42385e7ca90b1612effb2e7e}{solve\_epsilon\_svr} (&prob, &param, alpha, &si, \_log);
2807       \textcolor{keywordflow}{break};
2808 
2809     \textcolor{keywordflow}{case} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}:
2810       \hyperlink{svm289___b_f_s_8cpp_a44c077793496b16be8ff897c020a1bfe}{solve\_nu\_svr} (&prob, &param, alpha, &si, \_log);
2811       \textcolor{keywordflow}{break};
2812 
2813     \textcolor{keywordflow}{default}:
2814       \{
2815         \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"SVM289\_BFS::svm\_train\_one   ***ERROR***   Invalid Solver Defined."};
2816         errMsg << \textcolor{stringliteral}{"   Solver["} << (int)param.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__parameter_a670b1be49bd630113fbf92dce2ebd9c4}{svm\_type} << \textcolor{stringliteral}{"]"};
2817         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2818         \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
2819       \}
2820   \}
2821 
2822   \textcolor{comment}{//info ("obj = %f, rho = %f\(\backslash\)n", si.obj, si.rho);}
2823 
2824   \textcolor{comment}{// output SVs}
2825 
2826   std::vector<kkint32> SVIndex;     \textcolor{comment}{// Normalize by Margin Width(NMW).}
2827 
2828   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nSV   = 0;
2829   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nBSV  = 0;
2830   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i = 0;  i < prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_afd75fe2ff65aa0c0f27b85b04028b2f3}{l};  i++)
2831   \{
2832     \textcolor{keywordflow}{if}  (fabs (alpha[i]) > 0)
2833     \{
2834       ++nSV;
2835       SVIndex.push\_back (i);    \textcolor{comment}{// NMW}
2836       \textcolor{keywordflow}{if}  (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[i] > 0)
2837       \{
2838         \textcolor{keywordflow}{if}  (fabs (alpha[i]) >= si.\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_a06cbde68d648800d92969dd4509050fe}{upper\_bound\_p})
2839         \{
2840           ++nBSV;
2841           \textcolor{comment}{// BSVIndex.insert (prob->index[i]);   // NMW}
2842         \}
2843       \}
2844       \textcolor{keywordflow}{else}
2845       \{
2846         \textcolor{keywordflow}{if}  (fabs (alpha[i]) >= si.\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_aacda21688b31ff854b0e17ae458f6d42}{upper\_bound\_n})
2847         \{
2848           ++nBSV;
2849           \textcolor{comment}{// BSVIndex.insert (prob->index[i]);}
2850         \}
2851       \}
2852     \}
2853   \}
2854 
2855 
2856   \textcolor{comment}{//**********************************************************************************}
2857   \textcolor{comment}{//  Code to normalize by margin width.}
2858 
2859   
2860   \textcolor{keywordtype}{double} sum=0.0;
2861   std::vector<kkint32>::iterator it,it2;
2862   \textcolor{keywordtype}{double} kvalue = 0.0;
2863 
2864   \textcolor{keywordflow}{for} (it = SVIndex.begin();  it < SVIndex.end();  it++)
2865   \{
2866     \textcolor{keywordflow}{for}  (it2 = SVIndex.begin(); it2 < SVIndex.end();  it2++)
2867     \{
2868       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k  = *it;
2869       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} kk = *it2;
2870 
2871       kvalue = Kernel::k\_function (prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}[k], prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a41858dbcf26913311ad17674d9eb42a8}{x}[kk], param, prob.
      \hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a3127cc3a9a6352218c227051f2608caa}{SelFeatures} ());
2872 
2873       sum += prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[k] * prob.\hyperlink{struct_s_v_m289___b_f_s_1_1svm__problem_a6a79c81e0e6251913062a811c87d9325}{y}[kk] * alpha[k] * alpha[kk] * kvalue;
2874     \}
2875   \}
2876 
2877   sum /= SVIndex.size();
2878   sum = sqrt(sum);
2879 
2880   \textcolor{keywordflow}{for}  (it = SVIndex.begin();  it < SVIndex.end();  it++)
2881     alpha[*it] /= sum;
2882 
2883   si.\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_a60d5d2cf39ad707039e0ef4a0cb7ba2d}{rho} /= sum;
2884   
2885   \textcolor{comment}{//info ("nSV = %d, nBSV = %d\(\backslash\)n", nSV, nBSV);}
2886 
2887   \hyperlink{struct_s_v_m289___b_f_s_1_1decision__function}{decision\_function}  f;
2888   f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a8f8ce247bffd8c152d442efd05589046}{alpha}  = alpha;
2889   f.\hyperlink{struct_s_v_m289___b_f_s_1_1decision__function_a0222d06bf34cc9738dd7c66585b6f5d8}{rho}    = si.\hyperlink{struct_s_v_m289___b_f_s_1_1_solver_1_1_solution_info_a60d5d2cf39ad707039e0ef4a0cb7ba2d}{rho};
2890   \textcolor{keywordflow}{return}  f;
2891 \}  \textcolor{comment}{/* svm\_train\_one */}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str@{S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str}}
\index{S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str@{S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str(\+K\+K\+Str s)}{SVM_Type_FromStr(KKStr s)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+V\+M\+\_\+\+Type} S\+V\+M289\+\_\+\+B\+F\+S\+::\+S\+V\+M\+\_\+\+Type\+\_\+\+From\+Str (
\begin{DoxyParamCaption}
\item[{{\bf K\+K\+Str}}]{s}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a6692b7425ca2f216e2cef20090dcffd3}{}\label{namespace_s_v_m289___b_f_s_a6692b7425ca2f216e2cef20090dcffd3}


Definition at line 536 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References C\+\_\+\+S\+VC, E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, K\+K\+B\+::\+K\+K\+Str\+::\+Equal\+Ignore\+Case(), N\+U\+\_\+\+S\+VC, N\+U\+\_\+\+S\+VR, O\+N\+E\+\_\+\+C\+L\+A\+SS, K\+K\+B\+::\+K\+K\+Str\+::operator==(), S\+V\+M\+\_\+\+N\+U\+LL, and K\+K\+B\+::\+K\+K\+Str\+::\+Upper().



Referenced by S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::\+Parse\+Tab\+Del\+Str(), and S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::\+Process\+Svm\+Parameter().


\begin{DoxyCode}
537 \{
538   s.\hyperlink{class_k_k_b_1_1_k_k_str_a66ea0feabc94da88591b56a683695bd9}{Upper} ();
539 
540   \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"C\_SVC"}))       ||  (s == \textcolor{stringliteral}{"0"}))
541     \textcolor{keywordflow}{return} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC};
542 
543   \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"NU\_SVC"}))       ||  (s == \textcolor{stringliteral}{"1"}))
544     \textcolor{keywordflow}{return} \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC};
545 
546   \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"ONE\_CLASS"}))    ||  (s == \textcolor{stringliteral}{"2"}))
547     \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS};
548 
549   \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"EPSILON\_SVR"}))  ||  (s == \textcolor{stringliteral}{"3"}))
550     \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR};
551 
552   \textcolor{keywordflow}{if}  ((s.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"NU\_SVR"}))       ||  (s == \textcolor{stringliteral}{"4"}))
553     \textcolor{keywordflow}{return}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR};
554 
555   \textcolor{keywordflow}{return}  SVM\_Type::SVM\_NULL;
556 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str@{S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str}}
\index{S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str@{S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str(\+S\+V\+M\+\_\+\+Type svm\+Type)}{SVM_Type_ToStr(SVM_Type svmType)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf K\+K\+Str} S\+V\+M289\+\_\+\+B\+F\+S\+::\+S\+V\+M\+\_\+\+Type\+\_\+\+To\+Str (
\begin{DoxyParamCaption}
\item[{{\bf S\+V\+M\+\_\+\+Type}}]{svm\+Type}
\end{DoxyParamCaption}
)}\hypertarget{namespace_s_v_m289___b_f_s_a557ff92f1cd18a331500750bacca9b9c}{}\label{namespace_s_v_m289___b_f_s_a557ff92f1cd18a331500750bacca9b9c}


Definition at line 560 of file svm289\+\_\+\+B\+F\+S.\+cpp.



References C\+\_\+\+S\+VC, E\+P\+S\+I\+L\+O\+N\+\_\+\+S\+VR, N\+U\+\_\+\+S\+VC, N\+U\+\_\+\+S\+VR, and O\+N\+E\+\_\+\+C\+L\+A\+SS.



Referenced by S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+parameter\+::\+To\+Tab\+Del\+Str().


\begin{DoxyCode}
561 \{
562   \textcolor{keywordflow}{switch}  (svmType)
563   \{
564   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa942f03bda3ae7dbb9e945f161c95ab97}{SVM\_Type::C\_SVC}:        \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"c\_svc"};
565   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aa7705bf71b9d3c7169b4d201acb2b30b8}{SVM\_Type::NU\_SVC}:       \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"nu\_svc"};
566   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaea64d54fb16ebcd95d48c4aef97036df}{SVM\_Type::ONE\_CLASS}:    \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"one\_class"};
567   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aae7f29e93ef95067dcc6827e4fe3071c7}{SVM\_Type::EPSILON\_SVR}:  \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"epsilon\_svr"};
568   \textcolor{keywordflow}{case}  \hyperlink{namespace_s_v_m233_acde4c278f323c82a6b41c27f6f30738aaa9c624ae638f160fb1f00081960014b6}{SVM\_Type::NU\_SVR}:       \textcolor{keywordflow}{return}  \textcolor{stringliteral}{"nu\_svr"};
569   \}
570   \textcolor{keywordflow}{return}  \textcolor{stringliteral}{""};
571 \}
\end{DoxyCode}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!swap@{swap}}
\index{swap@{swap}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{swap(\+T \&x, T \&y)}{swap(T &x, T &y)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class T $>$ void S\+V\+M289\+\_\+\+B\+F\+S\+::swap (
\begin{DoxyParamCaption}
\item[{T \&}]{x, }
\item[{T \&}]{y}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{namespace_s_v_m289___b_f_s_ab3100b6a2a7917c5fb6ef6aae0af496f}{}\label{namespace_s_v_m289___b_f_s_ab3100b6a2a7917c5fb6ef6aae0af496f}


Definition at line 265 of file svm289\+\_\+\+B\+F\+S.\+h.


\begin{DoxyCode}
265 \{ T t=x; x=y; y=t; \}
\end{DoxyCode}


\subsection{Variable Documentation}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!libsvm\+\_\+version@{libsvm\+\_\+version}}
\index{libsvm\+\_\+version@{libsvm\+\_\+version}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{libsvm\+\_\+version}{libsvm_version}}]{\setlength{\rightskip}{0pt plus 5cm}kkint32 S\+V\+M289\+\_\+\+B\+F\+S\+::libsvm\+\_\+version}\hypertarget{namespace_s_v_m289___b_f_s_a2de4107018b00c5041926bf1cf24ece2}{}\label{namespace_s_v_m289___b_f_s_a2de4107018b00c5041926bf1cf24ece2}
\index{S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}!svm\+\_\+print\+\_\+string@{svm\+\_\+print\+\_\+string}}
\index{svm\+\_\+print\+\_\+string@{svm\+\_\+print\+\_\+string}!S\+V\+M289\+\_\+\+B\+FS@{S\+V\+M289\+\_\+\+B\+FS}}
\subsubsection[{\texorpdfstring{svm\+\_\+print\+\_\+string}{svm_print_string}}]{\setlength{\rightskip}{0pt plus 5cm}void($\ast$ S\+V\+M289\+\_\+\+B\+F\+S\+::svm\+\_\+print\+\_\+string)(const char $\ast$) = \&{\bf print\+\_\+string\+\_\+stdout}}\hypertarget{namespace_s_v_m289___b_f_s_a99b0efb4e9aed2acac0d5ec5c1472144}{}\label{namespace_s_v_m289___b_f_s_a99b0efb4e9aed2acac0d5ec5c1472144}


Definition at line 624 of file svm289\+\_\+\+B\+F\+S.\+cpp.

