\hypertarget{class_s_v_m233_1_1_cache}{}\section{S\+V\+M233\+:\+:Cache Class Reference}
\label{class_s_v_m233_1_1_cache}\index{S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_s_v_m233_1_1_cache_a1cb24e07f8a73d04f7c32bd3a6254ac1}{Cache} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} l, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} size)
\item 
\hyperlink{class_s_v_m233_1_1_cache_a6f18a9c563d037f5a1b2230d6388b6fa}{$\sim$\+Cache} ()
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m233_1_1_cache_a9a8fe305fa4ced34562872eefaa819b1}{get\+\_\+data} (const \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} index, Qfloat $\ast$$\ast$data, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} len)
\item 
void \hyperlink{class_s_v_m233_1_1_cache_a3cf856b687240f651174bed1b5561266}{swap\+\_\+index} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 1361 of file svm.\+cpp.



\subsection{Constructor \& Destructor Documentation}
\index{S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}!Cache@{Cache}}
\index{Cache@{Cache}!S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}}
\subsubsection[{\texorpdfstring{Cache(kkint32 l, kkint32 size)}{Cache(kkint32 l, kkint32 size)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M233\+::\+Cache\+::\+Cache (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{l, }
\item[{{\bf kkint32}}]{size}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m233_1_1_cache_a1cb24e07f8a73d04f7c32bd3a6254ac1}{}\label{class_s_v_m233_1_1_cache_a1cb24e07f8a73d04f7c32bd3a6254ac1}


Definition at line 1400 of file svm.\+cpp.



Referenced by S\+V\+M233\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q(), S\+V\+M233\+::\+S\+V\+C\+\_\+\+Q\+::\+S\+V\+C\+\_\+\+Q(), and S\+V\+M233\+::\+S\+V\+R\+\_\+\+Q\+::\+S\+V\+R\+\_\+\+Q().


\begin{DoxyCode}
1402                       :
1403 
1404 l    (l\_),
1405 size (size\_)
1406 
1407 \{
1408   head = (head\_t *)calloc (l, \textcolor{keyword}{sizeof} (head\_t)); \textcolor{comment}{// initialized to 0}
1409   size /= \textcolor{keyword}{sizeof} (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat});
1410   size -= l * \textcolor{keyword}{sizeof} (head\_t) / \textcolor{keyword}{sizeof} (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat});
1411   lru\_head.next = lru\_head.prev = &lru\_head;
1412 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}!````~Cache@{$\sim$\+Cache}}
\index{````~Cache@{$\sim$\+Cache}!S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}}
\subsubsection[{\texorpdfstring{$\sim$\+Cache()}{~Cache()}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M233\+::\+Cache\+::$\sim$\+Cache (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m233_1_1_cache_a6f18a9c563d037f5a1b2230d6388b6fa}{}\label{class_s_v_m233_1_1_cache_a6f18a9c563d037f5a1b2230d6388b6fa}


Definition at line 1416 of file svm.\+cpp.


\begin{DoxyCode}
1417 \{
1418   \textcolor{keywordflow}{for} (head\_t *h = lru\_head.next;  h != &lru\_head;  h = h->next)
1419     free(h->data);
1420   free(head);
1421 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}!get\+\_\+data@{get\+\_\+data}}
\index{get\+\_\+data@{get\+\_\+data}!S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}}
\subsubsection[{\texorpdfstring{get\+\_\+data(const kkint32 index, Qfloat $\ast$$\ast$data, kkint32 len)}{get_data(const kkint32 index, Qfloat **data, kkint32 len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M233\+::\+Cache\+::get\+\_\+data (
\begin{DoxyParamCaption}
\item[{const {\bf kkint32}}]{index, }
\item[{Qfloat $\ast$$\ast$}]{data, }
\item[{{\bf kkint32}}]{len}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m233_1_1_cache_a9a8fe305fa4ced34562872eefaa819b1}{}\label{class_s_v_m233_1_1_cache_a9a8fe305fa4ced34562872eefaa819b1}


Definition at line 1445 of file svm.\+cpp.



Referenced by S\+V\+M233\+::\+S\+V\+C\+\_\+\+Q\+::get\+\_\+\+Q(), S\+V\+M233\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::get\+\_\+\+Q(), and S\+V\+M233\+::\+S\+V\+R\+\_\+\+Q\+::get\+\_\+\+Q().


\begin{DoxyCode}
1449 \{
1450   head\_t *h = &head[index];
1451 
1452   \textcolor{keywordflow}{if}  (h->len) 
1453     lru\_delete(h);
1454 
1455   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} more = len - h->len;
1456 
1457   \textcolor{keywordflow}{if}  (more > 0)
1458   \{
1459     \textcolor{comment}{// free old space}
1460     \textcolor{keywordflow}{while}(size < more)
1461     \{
1462       head\_t *old = lru\_head.next;
1463       lru\_delete(old);
1464       free(old->data);
1465       size += old->len;
1466       old->data = 0;
1467       old->len = 0;
1468     \}
1469 
1470     \textcolor{comment}{// allocate new space}
1471     h->data = (\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} *)realloc(h->data,\textcolor{keyword}{sizeof}(\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat})*len);
1472     size -= more;
1473     \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(h->len, len);
1474   \}
1475 
1476   lru\_insert (h);
1477   *data = h->data;
1478   \textcolor{keywordflow}{return} len;
1479 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}!swap\+\_\+index@{swap\+\_\+index}}
\index{swap\+\_\+index@{swap\+\_\+index}!S\+V\+M233\+::\+Cache@{S\+V\+M233\+::\+Cache}}
\subsubsection[{\texorpdfstring{swap\+\_\+index(kkint32 i, kkint32 j)}{swap_index(kkint32 i, kkint32 j)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Cache\+::swap\+\_\+index (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i, }
\item[{{\bf kkint32}}]{j}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m233_1_1_cache_a3cf856b687240f651174bed1b5561266}{}\label{class_s_v_m233_1_1_cache_a3cf856b687240f651174bed1b5561266}


Definition at line 1483 of file svm.\+cpp.



Referenced by S\+V\+M233\+::\+S\+V\+C\+\_\+\+Q\+::swap\+\_\+index(), and S\+V\+M233\+::\+O\+N\+E\+\_\+\+C\+L\+A\+S\+S\+\_\+\+Q\+::swap\+\_\+index().


\begin{DoxyCode}
1486 \{
1487   \textcolor{keywordflow}{if}(i==j) \textcolor{keywordflow}{return};
1488 
1489   \textcolor{keywordflow}{if}(head[i].len) lru\_delete(&head[i]);
1490   \textcolor{keywordflow}{if}(head[j].len) lru\_delete(&head[j]);
1491   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(head[i].data,head[j].data);
1492   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(head[i].len,head[j].len);
1493   \textcolor{keywordflow}{if}(head[i].len) lru\_insert(&head[i]);
1494   \textcolor{keywordflow}{if}(head[j].len) lru\_insert(&head[j]);
1495 
1496   \textcolor{keywordflow}{if}(i>j) \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(i,j);
1497   \textcolor{keywordflow}{for}(head\_t *h = lru\_head.next; h!=&lru\_head; h=h->next)
1498   \{
1499     \textcolor{keywordflow}{if}(h->len > i)
1500     \{
1501       \textcolor{keywordflow}{if}(h->len > j)
1502         \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(h->data[i],h->data[j]);
1503       \textcolor{keywordflow}{else}
1504       \{
1505         \textcolor{comment}{// give up}
1506         lru\_delete(h);
1507         free(h->data);
1508         size += h->len;
1509         h->data = 0;
1510         h->len = 0;
1511       \}
1512     \}
1513   \}
1514 \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{svm_8cpp}{svm.\+cpp}\end{DoxyCompactItemize}
