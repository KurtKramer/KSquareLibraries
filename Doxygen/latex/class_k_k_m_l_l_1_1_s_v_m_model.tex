\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model}{}\section{K\+K\+M\+LL\+:\+:S\+V\+M\+Model Class Reference}
\label{class_k_k_m_l_l_1_1_s_v_m_model}\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}


{\ttfamily \#include $<$S\+V\+M\+Model.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ac71a4eca05bef68550eb076582bc90d5}{S\+V\+M\+Model} ()
\begin{DoxyCompactList}\small\item\em Default constructor used by Xml\+Element\+S\+V\+M\+Model to create and load a new instance from a X\+ML Stream. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ab4e84a636f341cbd5eff5b0e9f2cf978}{S\+V\+M\+Model} (const \hyperlink{class_k_k_m_l_l_1_1_s_v_mparam}{S\+V\+Mparam} \&\+\_\+svm\+Param, \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{Feature\+Vector\+List} \&\+\_\+examples, \hyperlink{class_k_k_m_l_l_1_1_class_assignments}{Class\+Assignments} \&\+\_\+assignments, \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \+\_\+file\+Desc, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\begin{DoxyCompactList}\small\item\em Constructor that will create a svmlib training model using the features and classes for training purposes. \end{DoxyCompactList}\item 
virtual \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a70200454d42cc51adbb521f39c6ef0cd}{$\sim$\+S\+V\+M\+Model} ()
\begin{DoxyCompactList}\small\item\em Frees any memory allocated by, and owned by the \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model}{S\+V\+M\+Model}. \end{DoxyCompactList}\item 
const \hyperlink{class_k_k_m_l_l_1_1_class_assignments}{Class\+Assignments} \& \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ad506eb7f86db4ac26da0f57277bde407}{Assignments} () const 
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a7dcac874892ae9e161d17ff097bb555e}{Cancel\+Flag} (bool \+\_\+cancel\+Flag)
\item 
double \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_abe91fa28c9c6fda597a79e60bcb702da}{Distance\+From\+Decision\+Boundary} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} class1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} class2)
\item 
std\+::vector$<$ \hyperlink{class_k_k_m_l_l_1_1_prob_name_pair}{Prob\+Name\+Pair} $>$ \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a5edb1c8e3a68a0cd9363ad5c7e70ef43}{Find\+Worst\+Support\+Vectors} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} num\+To\+Find, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} c1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} c2)
\begin{DoxyCompactList}\small\item\em For a given two class pair return the names of the \textquotesingle{}num\+To\+Find\textquotesingle{} worst S/V\textquotesingle{}s. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{class_k_k_m_l_l_1_1_prob_name_pair}{Prob\+Name\+Pair} $>$ \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a79401afd040562c6d7e1439a866a1e54}{Find\+Worst\+Support\+Vectors2} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} num\+To\+Find, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} c1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} c2)
\begin{DoxyCompactList}\small\item\em For a given two class pair return the names of the \textquotesingle{}num\+To\+Find\textquotesingle{} worst S/V\textquotesingle{}s. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_m_l_l_a81284b0a14973267260023f9a72da94a}{Feature\+Num\+List\+Const\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a372e1697fb96ee4ccdbb4d9e3aa3058c}{Get\+Feature\+Nums} () const 
\item 
\hyperlink{namespace_k_k_m_l_l_a81284b0a14973267260023f9a72da94a}{Feature\+Num\+List\+Const\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_acf508af9c282adcbc835fd3a2b4d5367}{Get\+Feature\+Nums} (\hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} file\+Desc) const 
\item 
\hyperlink{namespace_k_k_m_l_l_a81284b0a14973267260023f9a72da94a}{Feature\+Num\+List\+Const\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ac5739bfdfcecf78305685b4dcd4b6f7a}{Get\+Feature\+Nums} (\hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} file\+Desc, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} class1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} class2) const 
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a9d8a81b1c6179ac1b0bd7ddbf8df03a3}{Memory\+Consumed\+Estimated} () const 
\item 
virtual bool \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a5ad268eac9df140b1010acf98ed2adef}{Normalize\+Nominal\+Attributes} ()
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a4a5e677c7fda9a28aec7a420966110be}{Num\+Of\+Classes} () const 
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_af26af0c1556652910367e6ecbbfad390}{Num\+Of\+Support\+Vectors} () const 
\item 
\hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a76b4316914f1f272d61010477e41d7f6}{Predict} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example)
\item 
void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_acd0c5d26be6a926aebe0bb28e23ae188}{Predict} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} known\+Class, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \&pred\+Class1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \&pred\+Class2, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&pred\+Class1\+Votes, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&pred\+Class2\+Votes, double \&prob\+Of\+Known\+Class, double \&pred\+Class1\+Prob, double \&pred\+Class2\+Prob, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&num\+Of\+Winners, bool \&known\+Class\+One\+Of\+The\+Winners, double \&break\+Tie)
\begin{DoxyCompactList}\small\item\em Will predict the two most likely classes of \textquotesingle{}example\textquotesingle{}. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a0d323e778b6be3b2fdfe95e8c9123645}{Predict\+Raw} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} \&pred\+Class, double \&dist)
\begin{DoxyCompactList}\small\item\em Returns the distance from the decision border of the S\+VM. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a1c5a892328e992f604e129d6d3f6bdca}{Probabilities\+By\+Class} (\hyperlink{namespace_k_k_m_l_l_a0c5df3d48f45926fbc4fee04f5e3bc04}{Feature\+Vector\+Ptr} example, const \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+ml\+Classes, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$\+\_\+votes, double $\ast$\+\_\+probabilities, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\begin{DoxyCompactList}\small\item\em Will get the probabilities assigned to each class. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ad98423dac9fe89cde21ca69082c2d640}{Read\+X\+ML} (\hyperlink{class_k_k_b_1_1_xml_stream}{Xml\+Stream} \&s, \hyperlink{namespace_k_k_b_a5f1b0b1667d79fec26deeff10c43df23}{Xml\+Tag\+Const\+Ptr} tag, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&cancel\+Flag, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a05b5f25f66cdb59e35655b73a00679e6}{Retrieve\+Cross\+Prob\+Table} (\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&classes, double $\ast$$\ast$cross\+Prob\+Table, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\begin{DoxyCompactList}\small\item\em Will return the probabilities for all pairs of the classes listed in \textquotesingle{}classes\textquotesingle{}. \end{DoxyCompactList}\item 
const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \& \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_abdd9fa3a5a163d03f74d68c2038a9824}{Root\+File\+Name} () const 
\item 
\hyperlink{namespace_k_k_m_l_l_afab7be632987641e5805e770be7f6bf8}{S\+V\+M\+\_\+\+Selection\+Method} \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a84a4af4216530e69ad2ef3c7e536ca09}{Selection\+Method} () const 
\item 
std\+::vector$<$ \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} $>$ \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a21df134c13366bf28399f7e8e0187ab9}{Support\+Vector\+Names} () const 
\item 
std\+::vector$<$ \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} $>$ \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a7b3d8801789dbdae36c5a4494ff853f3}{Support\+Vector\+Names} (\hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} c1, \hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{M\+L\+Class\+Ptr} c2) const 
\item 
void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a99ee5740ffd57c8b04e467592fec4c18}{Support\+Vector\+Statistics} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&num\+S\+Vs, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&total\+Num\+S\+Vs)
\item 
\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam}{S\+V\+Mparam} const $\ast$ \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ada9d0b3d74b6958d36a315ba189e2c59}{S\+V\+M\+Parameters} () const 
\item 
double \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_abaeeabe3857af6e74081b76bf8f93789}{Training\+Time} () const 
\item 
bool \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ad7a9840be2fc4bb5a08fb41fc2896315}{Valid\+Model} () const 
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_acb6a791944907884c0c5992c5215a42c}{Write\+X\+ML} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&var\+Name, std\+::ostream \&o) const 
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 77 of file S\+V\+M\+Model.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!S\+V\+M\+Model@{S\+V\+M\+Model}}
\index{S\+V\+M\+Model@{S\+V\+M\+Model}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{S\+V\+M\+Model()}{SVMModel()}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M\+Model\+::\+S\+V\+M\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ac71a4eca05bef68550eb076582bc90d5}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ac71a4eca05bef68550eb076582bc90d5}


Default constructor used by Xml\+Element\+S\+V\+M\+Model to create and load a new instance from a X\+ML Stream. 



Definition at line 169 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Attribute\+Type\+Vector\+::\+Attribute\+Type\+Vector(), K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+Class\+Assignments(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), and K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+S\+V\+Mparam().


\begin{DoxyCode}
169                    :
170   assignments              (),
171   binaryFeatureEncoders    (NULL),
172   binaryParameters         (NULL),
173   cardinality\_table        (),
174   cancelFlag               (\textcolor{keyword}{false}),
175   classIdxTable            (NULL),
176   crossClassProbTable      (NULL),
177   crossClassProbTableSize  (0),
178   featureEncoder           (NULL),
179   fileDesc                 (NULL),
180   models                   (NULL),
181   numOfClasses             (0),
182   numOfModels              (0),
183   oneVsAllAssignment       (),
184   oneVsAllClassAssignments (NULL),
185   predictXSpace            (NULL),
186   predictXSpaceWorstCase   (0),
187   probabilities            (NULL),
188   rootFileName             (),
189   selectedFeatures         (NULL),
190   svmParam                 (NULL),
191   trainingTime             (0.0),
192   type\_table               (),
193   validModel               (\textcolor{keyword}{true}),
194   votes                    (NULL),
195   xSpaces                  (NULL),
196   xSpacesTotalAllocated    (0)
197 \{
198   svmParam = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_s_v_mparam}{SVMparam} ();
199 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!S\+V\+M\+Model@{S\+V\+M\+Model}}
\index{S\+V\+M\+Model@{S\+V\+M\+Model}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{S\+V\+M\+Model(const S\+V\+Mparam \&\+\_\+svm\+Param, Feature\+Vector\+List \&\+\_\+examples, Class\+Assignments \&\+\_\+assignments, File\+Desc\+Ptr \+\_\+file\+Desc, Run\+Log \&\+\_\+log)}{SVMModel(const SVMparam &_svmParam, FeatureVectorList &_examples, ClassAssignments &_assignments, FileDescPtr _fileDesc, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M\+Model\+::\+S\+V\+M\+Model (
\begin{DoxyParamCaption}
\item[{const {\bf S\+V\+Mparam} \&}]{\+\_\+svm\+Param, }
\item[{{\bf Feature\+Vector\+List} \&}]{\+\_\+examples, }
\item[{{\bf Class\+Assignments} \&}]{\+\_\+assignments, }
\item[{{\bf File\+Desc\+Ptr}}]{\+\_\+file\+Desc, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ab4e84a636f341cbd5eff5b0e9f2cf978}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ab4e84a636f341cbd5eff5b0e9f2cf978}


Constructor that will create a svmlib training model using the features and classes for training purposes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+svm\+Param} & Specifies the parameters to be used for training. These are the same parameters that you would specify in the command line to svm\+\_\+train. Plus the feature numbers to be used. \\
\hline
\mbox{\tt in}  & {\em \+\_\+examples} & Training data for the classifier. \\
\hline
\mbox{\tt in}  & {\em \+\_\+assignments} & List of classes and there associated number ti be used by the S\+VM. You can merge 1 or more classes by assigning them the same number. This number will be used by the S\+VM. When predictions are done by S\+VM it return a number, \+\_\+assignments will then be used to map back-\/to the correct class. \\
\hline
\mbox{\tt in}  & {\em \+\_\+file\+Desc} & File-\/\+Description that describes the training data. \\
\hline
\mbox{\tt out}  & {\em \+\_\+log} & Log file to log messages to. \\
\hline
\end{DoxyParams}


Definition at line 203 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Attribute\+Type\+Vector\+::\+Attribute\+Type\+Vector(), K\+K\+M\+L\+L\+::\+Binary\+Combos, K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Create\+Attribute\+Type\+Table(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Create\+Cardinality\+Table(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type(), K\+K\+M\+L\+L\+::\+One\+Vs\+All, K\+K\+M\+L\+L\+::\+One\+Vs\+One, K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Selected\+Features(), and K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+S\+V\+Mparam().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Train\+Model().


\begin{DoxyCode}
209 :
210   assignments              (\_assignmnets),
211   binaryFeatureEncoders    (NULL),
212   binaryParameters         (NULL),
213   cancelFlag               (\textcolor{keyword}{false}),
214   cardinality\_table        (),
215   classIdxTable            (NULL),
216   crossClassProbTable      (NULL),
217   crossClassProbTableSize  (0),
218   featureEncoder           (NULL),
219   fileDesc                 (\_fileDesc),
220   models                   (NULL),
221   numOfClasses             (0),
222   numOfModels              (0),
223   oneVsAllAssignment       (),
224   oneVsAllClassAssignments (NULL),
225   predictXSpace            (NULL),
226   predictXSpaceWorstCase   (0),
227   probabilities            (NULL),
228   rootFileName             (),
229   selectedFeatures         (NULL),
230   svmParam                 (\textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_s_v_mparam}{SVMparam} (\_svmParam)),
231   trainingTime             (0.0),
232   type\_table               (),
233   validModel               (\textcolor{keyword}{true}),
234   votes                    (NULL),
235   xSpaces                  (NULL),
236   xSpacesTotalAllocated    (0)
237 
238 \{
239   \textcolor{keywordflow}{if}  (\_examples.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} () < 2)
240   \{
241     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
242                     << \textcolor{stringliteral}{"SVMModel  **** ERROR ****      NO EXAMPLES TO TRAIN WITH."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
243                     << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
244     validModel = \textcolor{keyword}{false};
245     \textcolor{keywordflow}{return};
246   \}
247 
248   SetSelectedFeatures (\_svmParam.\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a52c95a964ff1638bb24289967937b29b}{SelectedFeatures} (), \_log);
249 
250   type\_table        = fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a924736ac68c054c64001fe836ba7c1e3}{CreateAttributeTypeTable} ( );
251   cardinality\_table = fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a1f16b3ad912b04745baa9eea8d3111c7}{CreateCardinalityTable} ( );
252   
253   \textcolor{keyword}{struct }\hyperlink{struct_s_v_m233_1_1svm__problem}{svm\_problem}  prob;
254 
255   numOfClasses = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})assignments.size ();
256 
257   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (20) << \textcolor{stringliteral}{"SVMModel::SVMModel - Constructing From Training Data."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
258 
259 
260   \textcolor{keywordflow}{try}
261   \{
262     \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa2cb1a8e8122853731a8eb99f1bd56630}{SVM\_MachineType::OneVsOne})
263     \{
264       ConstructOneVsOneModel (&\_examples, prob, \_log);
265     \}
266     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa0bf7132f9ec5b2de535b831afd3ae75c}{SVM\_MachineType::OneVsAll})
267     \{
268       ConstructOneVsAllModel (&\_examples, prob, \_log);
269     \}
270     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == 
      \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
271     \{
272       ConstructBinaryCombosModel (&\_examples, \_log);
273     \}
274   \}
275   \textcolor{keywordflow}{catch}  (\textcolor{keyword}{const} exception& e)
276   \{
277     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
278       << \textcolor{stringliteral}{"SVMModel  ***ERROR***   Exception occurred constructing model."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
279       << e.what () << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
280       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
281     validModel = \textcolor{keyword}{false};
282   \}
283   \textcolor{keywordflow}{catch}  (...)
284   \{
285     \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
286       << \textcolor{stringliteral}{"SVMModel  ***ERROR***   Exception occurred constructing model."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
287       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
288     validModel = \textcolor{keyword}{false};
289   \}
290 
291   \textcolor{keywordflow}{if}  (cancelFlag)
292     validModel = \textcolor{keyword}{false};
293 
294   \textcolor{keywordflow}{if}  (!validModel)
295     \textcolor{keywordflow}{return};
296 
297   BuildClassIdxTable ();
298   BuildCrossClassProbTable ();
299 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!````~S\+V\+M\+Model@{$\sim$\+S\+V\+M\+Model}}
\index{````~S\+V\+M\+Model@{$\sim$\+S\+V\+M\+Model}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{$\sim$\+S\+V\+M\+Model()}{~SVMModel()}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M\+Model\+::$\sim$\+S\+V\+M\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a70200454d42cc51adbb521f39c6ef0cd}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a70200454d42cc51adbb521f39c6ef0cd}


Frees any memory allocated by, and owned by the \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model}{S\+V\+M\+Model}. 



Definition at line 303 of file S\+V\+M\+Model.\+cpp.


\begin{DoxyCode}
304 \{
305   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
306 
307   DeleteModels ();
308   DeleteXSpaces ();
309 
310   \textcolor{keywordflow}{if}  (oneVsAllClassAssignments)
311   \{
312     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < numOfModels;  x++)
313     \{
314       \textcolor{keywordflow}{if}  (oneVsAllClassAssignments[x])
315       \{
316         \textcolor{keyword}{delete}  oneVsAllClassAssignments[x];
317         oneVsAllClassAssignments[x] = NULL;
318       \}
319     \}
320     \textcolor{keyword}{delete}  oneVsAllClassAssignments;
321     oneVsAllClassAssignments = NULL;
322   \}
323 
324   \textcolor{keyword}{delete}  featureEncoder;  featureEncoder = NULL;
325 
326   \textcolor{keywordflow}{if}  (binaryParameters)
327   \{
328     \textcolor{comment}{// We don't own the binaryParametres them self, only the }
329     \textcolor{comment}{// array pointing to them,  they are owned by svmParam.}
330     \textcolor{comment}{// so we don't want to delete the contents.}
331     \textcolor{keyword}{delete}[]  binaryParameters;
332     binaryParameters = NULL;
333   \}
334 
335   \textcolor{keywordflow}{if}  (binaryFeatureEncoders)
336   \{
337     \textcolor{keywordflow}{for}  (x = 0;  x < numOfModels;  x++)
338     \{
339       \textcolor{keyword}{delete}  binaryFeatureEncoders[x];
340       binaryFeatureEncoders[x] = NULL;
341     \}
342     \textcolor{keyword}{delete}[]  binaryFeatureEncoders;
343     binaryFeatureEncoders = NULL;
344   \}
345 
346   \textcolor{keywordflow}{if}  (crossClassProbTable)
347   \{
348     \textcolor{keywordflow}{for}  (x = 0;  x < crossClassProbTableSize;  x++)
349     \{
350       \textcolor{keyword}{delete}  [] crossClassProbTable[x];
351       crossClassProbTable[x] = NULL;
352     \}
353     \textcolor{keyword}{delete}[]  crossClassProbTable;
354     crossClassProbTable = NULL;
355   \}
356 
357 
358   \textcolor{keyword}{delete}  [] classIdxTable;   classIdxTable   = NULL;
359   \textcolor{keyword}{delete}  [] predictXSpace;   predictXSpace   = NULL;
360   \textcolor{keyword}{delete}  [] probabilities;   probabilities   = NULL;
361   \textcolor{keyword}{delete}  [] votes;           votes           = NULL;
362 
363   \textcolor{keyword}{delete}  selectedFeatures;  selectedFeatures = NULL;
364   \textcolor{keyword}{delete}  svmParam;          svmParam         = NULL;
365 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Assignments@{Assignments}}
\index{Assignments@{Assignments}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Assignments() const }{Assignments() const }}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Class\+Assignments}\& K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Assignments (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ad506eb7f86db4ac26da0f57277bde407}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ad506eb7f86db4ac26da0f57277bde407}


Definition at line 126 of file S\+V\+M\+Model.\+h.



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Assignments().


\begin{DoxyCode}
126 \{\textcolor{keywordflow}{return} assignments;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Cancel\+Flag@{Cancel\+Flag}}
\index{Cancel\+Flag@{Cancel\+Flag}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Cancel\+Flag(bool \+\_\+cancel\+Flag)}{CancelFlag(bool _cancelFlag)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Cancel\+Flag (
\begin{DoxyParamCaption}
\item[{bool}]{\+\_\+cancel\+Flag}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a7dcac874892ae9e161d17ff097bb555e}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a7dcac874892ae9e161d17ff097bb555e}


Definition at line 515 of file S\+V\+M\+Model.\+cpp.


\begin{DoxyCode}
516 \{
517   cancelFlag = \_cancelFlag;
518 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Distance\+From\+Decision\+Boundary@{Distance\+From\+Decision\+Boundary}}
\index{Distance\+From\+Decision\+Boundary@{Distance\+From\+Decision\+Boundary}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Distance\+From\+Decision\+Boundary(\+Feature\+Vector\+Ptr example, M\+L\+Class\+Ptr class1, M\+L\+Class\+Ptr class2)}{DistanceFromDecisionBoundary(FeatureVectorPtr example, MLClassPtr class1, MLClassPtr class2)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M\+Model\+::\+Distance\+From\+Decision\+Boundary (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf M\+L\+Class\+Ptr}}]{class1, }
\item[{{\bf M\+L\+Class\+Ptr}}]{class2}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_abe91fa28c9c6fda597a79e60bcb702da}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_abe91fa28c9c6fda597a79e60bcb702da}


Definition at line 728 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Binary\+Combos, K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Class1(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Class2(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Encode\+A\+Example(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type(), and S\+V\+M233\+::svm\+\_\+predict\+Two\+Classes().


\begin{DoxyCode}
732 \{
733   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () != \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
734   \{
735     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \textcolor{stringliteral}{"SVMModel::DistanceFromDecisionBoundary   ***ERROR***    This method only works
       with BinaryCombos."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
736     \textcolor{keywordflow}{return}  0.0;
737   \}
738 
739   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  modelIDX = 0;
740   \textcolor{keywordtype}{bool}  revClassOrder = \textcolor{keyword}{false};
741   \hyperlink{class_k_k_m_l_l_1_1_feature_encoder}{FeatureEncoderPtr}  encoder  = NULL;
742 
743   \textcolor{keywordflow}{while}  (modelIDX < numOfModels)
744   \{
745     encoder = binaryFeatureEncoders[modelIDX];
746     \textcolor{keywordflow}{if}  ((encoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_a397e19999f5572120b55038835614162}{Class1} () == class1)  &&  (encoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_a70eb189a61d27c7c513085274a7edd75}{Class2} () == class2))
747     \{
748       revClassOrder = \textcolor{keyword}{false};
749       \textcolor{keywordflow}{break};
750     \}
751     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((encoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_a397e19999f5572120b55038835614162}{Class1} () == class2)  &&  (encoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_a70eb189a61d27c7c513085274a7edd75}{Class2} () == class1))
752     \{
753       revClassOrder = \textcolor{keyword}{true};
754       \textcolor{keywordflow}{break};
755     \}
756 
757     encoder = NULL;
758     modelIDX++;
759   \}
760 
761   \textcolor{keywordflow}{if}  (encoder == NULL)
762   \{
763     \textcolor{keywordflow}{return} 0.0;
764   \}
765 
766   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  xSpaceUsed;
767   encoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_af82278dec57d34f3ebcf6ea97cc625d2}{EncodeAExample} (example, predictXSpace, xSpaceUsed);
768 
769   \textcolor{keywordtype}{double}  distance = 0.0;
770 
771   \hyperlink{namespace_s_v_m233_a558a3dbd2873b3211831500197cc7a59}{svm\_predictTwoClasses} (models[modelIDX][0], predictXSpace, distance, -1);
772 
773   \textcolor{keywordflow}{if}  (revClassOrder)
774     distance = 0.0 - distance;
775 
776   \textcolor{keywordflow}{return}  distance;
777 \}  \textcolor{comment}{/* DistanceFromDecisionBoundary */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Find\+Worst\+Support\+Vectors@{Find\+Worst\+Support\+Vectors}}
\index{Find\+Worst\+Support\+Vectors@{Find\+Worst\+Support\+Vectors}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Find\+Worst\+Support\+Vectors(\+Feature\+Vector\+Ptr example, kkint32 num\+To\+Find, M\+L\+Class\+Ptr c1, M\+L\+Class\+Ptr c2)}{FindWorstSupportVectors(FeatureVectorPtr example, kkint32 numToFind, MLClassPtr c1, MLClassPtr c2)}}]{\setlength{\rightskip}{0pt plus 5cm}vector$<$ {\bf Prob\+Name\+Pair} $>$ S\+V\+M\+Model\+::\+Find\+Worst\+Support\+Vectors (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf kkint32}}]{num\+To\+Find, }
\item[{{\bf M\+L\+Class\+Ptr}}]{c1, }
\item[{{\bf M\+L\+Class\+Ptr}}]{c2}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a5edb1c8e3a68a0cd9363ad5c7e70ef43}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a5edb1c8e3a68a0cd9363ad5c7e70ef43}


For a given two class pair return the names of the \textquotesingle{}num\+To\+Find\textquotesingle{} worst S/V\textquotesingle{}s. 

This method will iterate through all the S/V\textquotesingle{}s removing them one at a time and re-\/compute the decision boundary and probability. It will then return the S/V\textquotesingle{}s that when removed improve the probability in \textquotesingle{}c1\textquotesingle{}s the most. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em example} & The Example that was classified incorrectly. \\
\hline
\mbox{\tt in}  & {\em num\+To\+Find} & The number of the worst examples you are looking for. \\
\hline
\mbox{\tt in}  & {\em c1} & Class that the \textquotesingle{}example; parameter should have been classed as. \\
\hline
\mbox{\tt in}  & {\em c2} & Class that it was classified as. \\
\hline
\end{DoxyParams}


Definition at line 1653 of file S\+V\+M\+Model.\+cpp.



References S\+V\+M233\+::svm\+\_\+parameter\+::A, Adj\+Prob(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class1(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class2(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Encode\+A\+Example(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), S\+V\+M233\+::\+Svm\+Model233\+::l, K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Param(), S\+V\+M233\+::\+Svm\+Model233\+::\+Support\+Vector\+Name(), and S\+V\+M233\+::svm\+\_\+predict\+Two\+Classes().


\begin{DoxyCode}
1658 \{
1659   vector<ProbNamePair>  results;
1660   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () != \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1661     \textcolor{keywordflow}{return}  results;
1662 
1663   \textcolor{comment}{// Locate the binary parms in question.}
1664   \textcolor{keywordtype}{bool}  c1RevFlag = \textcolor{keyword}{false};
1665   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  modelIDX = 0;
1666 
1667   \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr}  parms = NULL;
1668 
1669   \textcolor{keywordflow}{for}  (modelIDX = 0;  modelIDX < numOfModels;  modelIDX++)
1670   \{
1671     parms = binaryParameters[modelIDX];
1672     \textcolor{keywordflow}{if}  ((parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} () == c1)  &&  (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} () == c2))
1673     \{
1674       c1RevFlag = \textcolor{keyword}{false};
1675       \textcolor{keywordflow}{break};
1676     \}
1677     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} () == c1)  &&  (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} () == c2))
1678     \{
1679       c1RevFlag = \textcolor{keyword}{true};
1680       \textcolor{keywordflow}{break};
1681     \}
1682   \}
1683 
1684   \textcolor{keywordflow}{if}  (modelIDX >= numOfModels)
1685   \{
1686     \textcolor{comment}{// Binary Combo not found.}
1687     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1688          << \textcolor{stringliteral}{"SVMModel::FindWorstSupportVectors   ***ERROR***  Class1["} << c1->Name () << \textcolor{stringliteral}{"]  Class2["} << c2
      ->Name () << \textcolor{stringliteral}{"]  not part of model."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1689          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1690     \textcolor{keywordflow}{return} results;
1691   \}
1692 
1693   \textcolor{keywordflow}{if}  (binaryFeatureEncoders[modelIDX] == NULL)
1694   \{
1695     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg;
1696     errMsg << \textcolor{stringliteral}{"SVMModel::FindWorstSupportVectors   ***ERROR***   No feature encoder for model["} << modelIDX
       << \textcolor{stringliteral}{"]"};
1697     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1698     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
1699   \}
1700 
1701   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  xSpaceUsed;
1702   binaryFeatureEncoders[modelIDX]->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_af82278dec57d34f3ebcf6ea97cc625d2}{EncodeAExample} (example, predictXSpace, xSpaceUsed);
1703 
1704   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  svIDX = 0;
1705   \textcolor{comment}{//kkint32  numSVs = models[modelIDX][0]->l;}
1706   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numSVs = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ae37947940a05ecebb1352b6f365b4050}{l};
1707 
1708   \textcolor{keywordtype}{double}  origProbabilityC1 = 0.0;
1709   \textcolor{keywordtype}{double}  probabilityC1     = 0.0;
1710   \textcolor{keywordtype}{double}  distance          = 0.0;
1711 
1712   \hyperlink{namespace_s_v_m233_a558a3dbd2873b3211831500197cc7a59}{svm\_predictTwoClasses} (models[modelIDX][0], predictXSpace, distance, -1);
1713   origProbabilityC1 = ((1.0 / (1.0 + exp (-1.0 * (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a8b29f264963789ce9145e8baa589b088}{Param} ().\hyperlink{struct_s_v_m233_1_1svm__parameter_ae77c2459a4305fca375197165412abe2}{A}) * distance))));
1714   origProbabilityC1 = \hyperlink{_s_v_m_model_8cpp_a40759ba6dc57dc1b738f1440a39eda2b}{AdjProb} (origProbabilityC1);  \textcolor{comment}{// KAK 2011-06-10}
1715 
1716   \textcolor{keywordflow}{if}  (c1RevFlag)
1717     origProbabilityC1 = 1.0f - origProbabilityC1;
1718 
1719   vector<ProbNamePair>  candidates;
1720 
1721   \textcolor{keywordflow}{for}  (svIDX = 0;  svIDX < numSVs;  svIDX++)
1722   \{
1723     \hyperlink{namespace_s_v_m233_a558a3dbd2873b3211831500197cc7a59}{svm\_predictTwoClasses} (models[modelIDX][0], predictXSpace, distance, svIDX);
1724     probabilityC1 = ((1.0 / (1.0 + exp (-1.0 * (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a8b29f264963789ce9145e8baa589b088}{Param} ().\hyperlink{struct_s_v_m233_1_1svm__parameter_ae77c2459a4305fca375197165412abe2}{A}) * distance))));
1725     probabilityC1 = \hyperlink{_s_v_m_model_8cpp_a40759ba6dc57dc1b738f1440a39eda2b}{AdjProb} (probabilityC1);  \textcolor{comment}{// KAK 2011-06-10}
1726     \textcolor{keywordflow}{if}  (c1RevFlag)
1727       probabilityC1 = 1.0f - probabilityC1;
1728 
1729     \textcolor{keywordtype}{double}  deltaProb = probabilityC1 - origProbabilityC1;
1730     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}   svName = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_aa21a0480268196554d0976bf73d059ed}{SupportVectorName} (svIDX);
1731     candidates.push\_back (\hyperlink{class_k_k_m_l_l_1_1_prob_name_pair}{ProbNamePair} (svName, deltaProb));
1732   \}
1733 
1734   sort (candidates.begin (), candidates.end (), \hyperlink{namespace_k_k_m_l_l_aed4f24e07be0cb219051de190df720b4}{PairCompareOperator});
1735 
1736   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  zed = 0;
1737   \textcolor{keywordflow}{for}  (zed = 0;  (zed < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})candidates.size ())  &&  (zed < numToFind);  zed++)
1738     results.push\_back (candidates[zed]);
1739 
1740   \textcolor{keywordflow}{return}  results;
1741 \}  \textcolor{comment}{/* FindWorstSupportVectors */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Find\+Worst\+Support\+Vectors2@{Find\+Worst\+Support\+Vectors2}}
\index{Find\+Worst\+Support\+Vectors2@{Find\+Worst\+Support\+Vectors2}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Find\+Worst\+Support\+Vectors2(\+Feature\+Vector\+Ptr example, kkint32 num\+To\+Find, M\+L\+Class\+Ptr c1, M\+L\+Class\+Ptr c2)}{FindWorstSupportVectors2(FeatureVectorPtr example, kkint32 numToFind, MLClassPtr c1, MLClassPtr c2)}}]{\setlength{\rightskip}{0pt plus 5cm}vector$<$ {\bf Prob\+Name\+Pair} $>$ S\+V\+M\+Model\+::\+Find\+Worst\+Support\+Vectors2 (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf kkint32}}]{num\+To\+Find, }
\item[{{\bf M\+L\+Class\+Ptr}}]{c1, }
\item[{{\bf M\+L\+Class\+Ptr}}]{c2}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a79401afd040562c6d7e1439a866a1e54}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a79401afd040562c6d7e1439a866a1e54}


For a given two class pair return the names of the \textquotesingle{}num\+To\+Find\textquotesingle{} worst S/V\textquotesingle{}s. 

This method will iterate through all the S/V\textquotesingle{}s removing them one at a time and retraining a new S\+VM and then comparing with the new prediction results. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em example} & The Example that was classified incorrectly. \\
\hline
\mbox{\tt in}  & {\em num\+To\+Find} & The number of the worst examples you are looking for. \\
\hline
\mbox{\tt in}  & {\em c1} & Class that the \textquotesingle{}example; parameter should have been classed as. \\
\hline
\mbox{\tt in}  & {\em c2} & Class that it was classified as. \\
\hline
\end{DoxyParams}


Definition at line 1745 of file S\+V\+M\+Model.\+cpp.



References S\+V\+M233\+::svm\+\_\+parameter\+::A, Adj\+Prob(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class1(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class2(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Encode\+A\+Example(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), S\+V\+M233\+::\+Svm\+Model233\+::l, S\+V\+M233\+::svm\+\_\+parameter\+::nr\+\_\+class, K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Param(), S\+V\+M233\+::\+Svm\+Model233\+::param, S\+V\+M233\+::\+Svm\+Model233\+::\+Support\+Vector\+Name(), S\+V\+M233\+::svm\+\_\+\+Build\+Prob\+From\+Two\+Class\+Model(), S\+V\+M233\+::svm\+\_\+predict\+Two\+Classes(), and S\+V\+M233\+::svm\+\_\+train().


\begin{DoxyCode}
1750 \{
1751   vector<ProbNamePair>  results;
1752   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () != \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1753     \textcolor{keywordflow}{return}  results;
1754 
1755   \textcolor{comment}{// Locate the binary parms in question.}
1756   \textcolor{keywordtype}{bool}  c1RevFlag = \textcolor{keyword}{false};
1757   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  modelIDX = 0;
1758 
1759   \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr}  parms = NULL;
1760 
1761   \textcolor{keywordflow}{for}  (modelIDX = 0;  modelIDX < numOfModels;  modelIDX++)
1762   \{
1763     parms = binaryParameters[modelIDX];
1764     \textcolor{keywordflow}{if}  ((parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} () == c1)  &&  (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} () == c2))
1765     \{
1766       c1RevFlag = \textcolor{keyword}{false};
1767       \textcolor{keywordflow}{break};
1768     \}
1769     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} () == c1)  &&  (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} () == c2))
1770     \{
1771       c1RevFlag = \textcolor{keyword}{true};
1772       \textcolor{keywordflow}{break};
1773     \}
1774   \}
1775 
1776   \textcolor{keywordflow}{if}  (modelIDX >= numOfModels)
1777   \{
1778     \textcolor{comment}{// Binary Combo not found.}
1779     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1780          << \textcolor{stringliteral}{"SVMModel::FindWorstSupportVectors   ***ERROR***  Class1["} << c1->Name () << \textcolor{stringliteral}{"]  Class2["} << c2
      ->Name () << \textcolor{stringliteral}{"]  not part of model."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1781          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1782     \textcolor{keywordflow}{return} results;
1783   \}
1784 
1785 
1786   \textcolor{keywordflow}{if}  (binaryFeatureEncoders[modelIDX] == NULL)
1787   \{
1788     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg;
1789     errMsg << \textcolor{stringliteral}{"SVMModel::FindWorstSupportVectors2   ***ERROR***   No feature encoder for model["} << 
      modelIDX << \textcolor{stringliteral}{"]"};
1790     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1791     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
1792   \}
1793 
1794   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  xSpaceUsed;
1795   binaryFeatureEncoders[modelIDX]->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_af82278dec57d34f3ebcf6ea97cc625d2}{EncodeAExample} (example, predictXSpace, xSpaceUsed);
1796 
1797   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  svIDX = 0;
1798   \textcolor{comment}{//kkint32  numSVs = models[modelIDX][0]->l;}
1799   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numSVs = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ae37947940a05ecebb1352b6f365b4050}{l};
1800 
1801   \textcolor{keywordtype}{double}  origProbabilityC1 = 0.0;
1802   \textcolor{keywordtype}{double}  probabilityC1     = 0.0;
1803   \textcolor{keywordtype}{double}  distance          = 0.0;
1804 
1805   \hyperlink{namespace_s_v_m233_a558a3dbd2873b3211831500197cc7a59}{svm\_predictTwoClasses} (models[modelIDX][0], predictXSpace, distance, -1);
1806   origProbabilityC1 = ((1.0 / (1.0 + exp (-1.0 * (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a8b29f264963789ce9145e8baa589b088}{Param} ().\hyperlink{struct_s_v_m233_1_1svm__parameter_ae77c2459a4305fca375197165412abe2}{A}) * distance))));
1807   origProbabilityC1 = \hyperlink{_s_v_m_model_8cpp_a40759ba6dc57dc1b738f1440a39eda2b}{AdjProb} (origProbabilityC1);
1808   \textcolor{keywordflow}{if}  (c1RevFlag)
1809     origProbabilityC1 = 1.0 - origProbabilityC1;
1810 
1811   vector<ProbNamePair>  candidates;
1812 
1813   \{
1814     \hyperlink{struct_s_v_m233_1_1svm__problem}{svm\_problem}*  subSetProb = \hyperlink{namespace_s_v_m233_a92802c240a20c37ae50a9d0eb6f74639}{svm\_BuildProbFromTwoClassModel}  (
      models[modelIDX][0], -1);
1815     \hyperlink{struct_s_v_m233_1_1svm__parameter}{svm\_parameter}  parameters = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_aea9d5d416f02777981c7677da2044571}{param};
1816     parameters.\hyperlink{struct_s_v_m233_1_1svm__parameter_a6fa48dd0b10a8f9cbbc8c0d571404345}{nr\_class} = 2;
1817 
1818     \hyperlink{struct_s_v_m233_1_1_svm_model233}{SvmModel233}*  subSetModel = \hyperlink{namespace_s_v_m233_a0f6331f1d29cc73bc32f39c104b8d74c}{svm\_train}  (subSetProb, &parameters);
1819 
1820     \hyperlink{namespace_s_v_m233_a558a3dbd2873b3211831500197cc7a59}{svm\_predictTwoClasses} (subSetModel, predictXSpace, distance, -1);
1821     probabilityC1 = ((1.0 / (1.0 + exp (-1.0 * (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a8b29f264963789ce9145e8baa589b088}{Param} ().\hyperlink{struct_s_v_m233_1_1svm__parameter_ae77c2459a4305fca375197165412abe2}{A}) * distance))));
1822     probabilityC1 = \hyperlink{_s_v_m_model_8cpp_a40759ba6dc57dc1b738f1440a39eda2b}{AdjProb} (probabilityC1);
1823     \textcolor{keywordflow}{if}  (c1RevFlag)
1824       probabilityC1 = 1.0f - probabilityC1;
1825     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} zed = 100;
1826   \}
1827 
1828   \textcolor{keywordflow}{for}  (svIDX = 0;  svIDX < numSVs;  svIDX++)
1829   \{
1830     \hyperlink{struct_s_v_m233_1_1svm__problem}{svm\_problem}*  subSetProb = \hyperlink{namespace_s_v_m233_a92802c240a20c37ae50a9d0eb6f74639}{svm\_BuildProbFromTwoClassModel}  (
      models[modelIDX][0], svIDX);
1831     \hyperlink{struct_s_v_m233_1_1svm__parameter}{svm\_parameter}  parameters = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_aea9d5d416f02777981c7677da2044571}{param};
1832     parameters.\hyperlink{struct_s_v_m233_1_1svm__parameter_a6fa48dd0b10a8f9cbbc8c0d571404345}{nr\_class} = 2;
1833 
1834     \hyperlink{struct_s_v_m233_1_1_svm_model233}{SvmModel233}*  subSetModel = \hyperlink{namespace_s_v_m233_a0f6331f1d29cc73bc32f39c104b8d74c}{svm\_train}  (subSetProb, &parameters);
1835 
1836     \hyperlink{namespace_s_v_m233_a558a3dbd2873b3211831500197cc7a59}{svm\_predictTwoClasses} (subSetModel, predictXSpace, distance, -1);
1837     probabilityC1 = ((1.0 / (1.0 + exp (-1.0 * (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a8b29f264963789ce9145e8baa589b088}{Param} ().\hyperlink{struct_s_v_m233_1_1svm__parameter_ae77c2459a4305fca375197165412abe2}{A}) * distance))));
1838     probabilityC1 = \hyperlink{_s_v_m_model_8cpp_a40759ba6dc57dc1b738f1440a39eda2b}{AdjProb} (probabilityC1);
1839     \textcolor{keywordflow}{if}  (c1RevFlag)
1840       probabilityC1 = 1.0f - probabilityC1;
1841 
1842     \textcolor{keywordtype}{double}  deltaProb = probabilityC1 - origProbabilityC1;
1843 
1844     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  svName = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_aa21a0480268196554d0976bf73d059ed}{SupportVectorName} (svIDX);
1845     candidates.push\_back (\hyperlink{class_k_k_m_l_l_1_1_prob_name_pair}{ProbNamePair} (svName, deltaProb));
1846 
1847     \textcolor{keyword}{delete}  subSetModel;  subSetModel = NULL;
1848     \textcolor{keyword}{delete}  subSetProb;   subSetProb  = NULL;
1849   \}
1850 
1851   sort (candidates.begin (), candidates.end (), \hyperlink{namespace_k_k_m_l_l_aed4f24e07be0cb219051de190df720b4}{PairCompareOperator});
1852 
1853   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  zed = 0;
1854   \textcolor{keywordflow}{for}  (zed = 0;  (zed < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})candidates.size ())  &&  (zed < numToFind);  zed++)
1855     results.push\_back (candidates[zed]);
1856 
1857   \textcolor{keywordflow}{return}  results;
1858 \}  \textcolor{comment}{/* FindWorstSupportVectors2 */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Get\+Feature\+Nums@{Get\+Feature\+Nums}}
\index{Get\+Feature\+Nums@{Get\+Feature\+Nums}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Get\+Feature\+Nums() const }{GetFeatureNums() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Num\+List\+Const\+Ptr} S\+V\+M\+Model\+::\+Get\+Feature\+Nums (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a372e1697fb96ee4ccdbb4d9e3aa3058c}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a372e1697fb96ee4ccdbb4d9e3aa3058c}


Definition at line 701 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Get\+Feature\+Nums().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Get\+Feature\+Nums().


\begin{DoxyCode}
702 \{
703   \textcolor{keywordflow}{return}  svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_ab44a92bf720b8a8fea7e52f8fb7f122a}{GetFeatureNums} ();
704 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Get\+Feature\+Nums@{Get\+Feature\+Nums}}
\index{Get\+Feature\+Nums@{Get\+Feature\+Nums}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Get\+Feature\+Nums(\+File\+Desc\+Ptr file\+Desc) const }{GetFeatureNums(FileDescPtr fileDesc) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Num\+List\+Const\+Ptr} S\+V\+M\+Model\+::\+Get\+Feature\+Nums (
\begin{DoxyParamCaption}
\item[{{\bf File\+Desc\+Ptr}}]{file\+Desc}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_acf508af9c282adcbc835fd3a2b4d5367}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_acf508af9c282adcbc835fd3a2b4d5367}


Definition at line 708 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Get\+Feature\+Nums().


\begin{DoxyCode}
709 \{
710   \textcolor{keywordflow}{return}  svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_ab44a92bf720b8a8fea7e52f8fb7f122a}{GetFeatureNums} (fileDesc);
711 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Get\+Feature\+Nums@{Get\+Feature\+Nums}}
\index{Get\+Feature\+Nums@{Get\+Feature\+Nums}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Get\+Feature\+Nums(\+File\+Desc\+Ptr file\+Desc, M\+L\+Class\+Ptr class1, M\+L\+Class\+Ptr class2) const }{GetFeatureNums(FileDescPtr fileDesc, MLClassPtr class1, MLClassPtr class2) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Num\+List\+Const\+Ptr} S\+V\+M\+Model\+::\+Get\+Feature\+Nums (
\begin{DoxyParamCaption}
\item[{{\bf File\+Desc\+Ptr}}]{file\+Desc, }
\item[{{\bf M\+L\+Class\+Ptr}}]{class1, }
\item[{{\bf M\+L\+Class\+Ptr}}]{class2}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ac5739bfdfcecf78305685b4dcd4b6f7a}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ac5739bfdfcecf78305685b4dcd4b6f7a}


Definition at line 715 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Get\+Feature\+Nums().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Get\+Feature\+Nums().


\begin{DoxyCode}
719 \{
720   \textcolor{keywordflow}{return}  svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_ab44a92bf720b8a8fea7e52f8fb7f122a}{GetFeatureNums} (fileDesc, class1, class2);
721 \}  \textcolor{comment}{/* GetFeatureNums */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Memory\+Consumed\+Estimated@{Memory\+Consumed\+Estimated}}
\index{Memory\+Consumed\+Estimated@{Memory\+Consumed\+Estimated}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Memory\+Consumed\+Estimated() const }{MemoryConsumedEstimated() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M\+Model\+::\+Memory\+Consumed\+Estimated (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a9d8a81b1c6179ac1b0bd7ddbf8df03a3}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a9d8a81b1c6179ac1b0bd7ddbf8df03a3}


Definition at line 437 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+Memory\+Consumed\+Estimated(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Memory\+Consumed\+Estimated(), and S\+V\+M233\+::\+Svm\+Model233\+::\+Memory\+Consumed\+Estimated().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Memory\+Consumed\+Estimated().


\begin{DoxyCode}
438 \{
439   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  memoryConsumedEstimated = \textcolor{keyword}{sizeof} (\hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_ac71a4eca05bef68550eb076582bc90d5}{SVMModel})
440        + assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a9fa44a1925ecd559e96d49a7f4873c27}{MemoryConsumedEstimated} ()
441        + \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16}) * oneVsAllAssignment.size ()
442        + \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}) * cardinality\_table.size ()
443        + rootFileName.\hyperlink{class_k_k_b_1_1_k_k_str_afc335bf98a8d4a77dc34215e72068719}{MemoryConsumedEstimated} ()
444        + svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a8338dec54ee6c5cb7b37a6f809913e35}{MemoryConsumedEstimated} ()
445        + \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555ab}{AttributeType}) * type\_table.size ();
446 
447   \textcolor{keywordflow}{if}  (binaryFeatureEncoders)
448   \{
449     memoryConsumedEstimated += \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_m_l_l_a72cdf9beec1c671ef814e86c1df34874}{FeatureEncoderPtr}) * numOfModels;
450     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < numOfModels;  x++)
451     \{
452       \textcolor{keywordflow}{if}  (binaryFeatureEncoders[x])
453         memoryConsumedEstimated += binaryFeatureEncoders[x]->
      \hyperlink{class_k_k_m_l_l_1_1_feature_encoder_aed7fd3271e7ce09181205874048ef9e8}{MemoryConsumedEstimated} ();
454     \}
455   \}
456 
457   \textcolor{keywordflow}{if}  (binaryParameters)
458     memoryConsumedEstimated += numOfModels * \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_m_l_l_aca399c0744e11553270ffaca507cfee7}{BinaryClassParmsPtr});
459 
460   \textcolor{keywordflow}{if}  (classIdxTable)
461     memoryConsumedEstimated += numOfClasses * \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_m_l_l_ac272393853d59e72e8456f14cd6d8c23}{MLClassPtr});
462 
463   \textcolor{keywordflow}{if}  (crossClassProbTable)
464     memoryConsumedEstimated += crossClassProbTableSize * crossClassProbTableSize * \textcolor{keyword}{sizeof} (double);
465 
466   \textcolor{keywordflow}{if}  (featureEncoder)
467     memoryConsumedEstimated += featureEncoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_aed7fd3271e7ce09181205874048ef9e8}{MemoryConsumedEstimated} ();
468 
469   \textcolor{comment}{// fileDesc  We do not own 'filedesc'.}
470 
471   \textcolor{keywordflow}{if}  (models)
472   \{
473     memoryConsumedEstimated +=  numOfModels * \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_m_l_l_a5e593621576d583bef55408bd6a3cfd5}{ModelPtr});
474     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < numOfModels;  ++x)
475     \{
476       \textcolor{keywordflow}{if}  (models[x])
477       \textcolor{keywordflow}{if}  (models[x][0])
478        memoryConsumedEstimated += models[x][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ad4c875fdeca568622f1d72918e39bb78}{MemoryConsumedEstimated} ();
479     \}
480   \}
481 
482   \textcolor{keywordflow}{if}  (oneVsAllClassAssignments)
483   \{
484     memoryConsumedEstimated += numOfModels * \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_m_l_l_ae085749533329dd0fe12b6221ad79b03}{ClassAssignmentsPtr});
485     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < numOfModels;  ++x)
486     \{
487       \textcolor{keywordflow}{if}  (oneVsAllClassAssignments[x])
488         memoryConsumedEstimated += oneVsAllClassAssignments[x]->
      \hyperlink{class_k_k_m_l_l_1_1_class_assignments_a9fa44a1925ecd559e96d49a7f4873c27}{MemoryConsumedEstimated} ();
489     \}
490   \}
491 
492   \textcolor{keywordflow}{if}  (predictXSpace)
493      memoryConsumedEstimated += \textcolor{keyword}{sizeof} (\hyperlink{struct_s_v_m233_1_1svm__node}{svm\_node}) * predictXSpaceWorstCase;
494 
495   \textcolor{keywordflow}{if}  (probabilities)
496      memoryConsumedEstimated += \textcolor{keyword}{sizeof} (double) * numOfClasses;
497 
498   \textcolor{keywordflow}{if}  (votes)
499      memoryConsumedEstimated += \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}) * numOfClasses;
500 
501   \textcolor{keywordflow}{if}  (xSpaces)
502     memoryConsumedEstimated += xSpacesTotalAllocated * \textcolor{keyword}{sizeof} (\hyperlink{struct_s_v_m233_1_1svm__node}{svm\_node}) + numOfModels * \textcolor{keyword}{sizeof} (
      \hyperlink{struct_s_v_m233_1_1svm__node}{XSpacePtr});
503 
504   \textcolor{keywordflow}{return}  memoryConsumedEstimated;
505 \}  \textcolor{comment}{/* MemoryConsumedEstimated */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Normalize\+Nominal\+Attributes@{Normalize\+Nominal\+Attributes}}
\index{Normalize\+Nominal\+Attributes@{Normalize\+Nominal\+Attributes}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Normalize\+Nominal\+Attributes()}{NormalizeNominalAttributes()}}]{\setlength{\rightskip}{0pt plus 5cm}bool S\+V\+M\+Model\+::\+Normalize\+Nominal\+Attributes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a5ad268eac9df140b1010acf98ed2adef}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a5ad268eac9df140b1010acf98ed2adef}
Return true, if nominal fields need to be normalized. 

Definition at line 2246 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Encoding\+Method(), and K\+K\+M\+L\+L\+::\+No\+Encoding.



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Normalize\+Nominal\+Attributes().


\begin{DoxyCode}
2247 \{
2248   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a64c242e8dc965631a3f3a95de555cd40}{EncodingMethod} () == 
      \hyperlink{namespace_k_k_m_l_l_a1994af1d94ca5bf6e27f0cf803a8d64ca3f6e102acead54bbbf4c704dd88fb94b}{SVM\_EncodingMethod::NoEncoding})
2249     \textcolor{keywordflow}{return}  \textcolor{keyword}{true};
2250   \textcolor{keywordflow}{else}
2251     \textcolor{keywordflow}{return}  \textcolor{keyword}{false};
2252 \}  \textcolor{comment}{/* NormalizeNominalAttributes */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Num\+Of\+Classes@{Num\+Of\+Classes}}
\index{Num\+Of\+Classes@{Num\+Of\+Classes}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Num\+Of\+Classes() const }{NumOfClasses() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Num\+Of\+Classes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a4a5e677c7fda9a28aec7a420966110be}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a4a5e677c7fda9a28aec7a420966110be}


Definition at line 135 of file S\+V\+M\+Model.\+h.


\begin{DoxyCode}
135 \{\textcolor{keywordflow}{return} numOfClasses;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Num\+Of\+Support\+Vectors@{Num\+Of\+Support\+Vectors}}
\index{Num\+Of\+Support\+Vectors@{Num\+Of\+Support\+Vectors}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Num\+Of\+Support\+Vectors() const }{NumOfSupportVectors() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M\+Model\+::\+Num\+Of\+Support\+Vectors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_af26af0c1556652910367e6ecbbfad390}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_af26af0c1556652910367e6ecbbfad390}


Definition at line 1304 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Binary\+Combos, S\+V\+M233\+::\+Svm\+Model233\+::l, and K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Num\+Of\+Support\+Vectors(), and Support\+Vector\+Statistics().


\begin{DoxyCode}
1305 \{
1306   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfSupportVectors = 0;
1307 
1308   \textcolor{keywordflow}{if}  (models == NULL)
1309     \textcolor{keywordflow}{return} 0;
1310 
1311   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1312   \{
1313     vector<KKStr> svNames = \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a21df134c13366bf28399f7e8e0187ab9}{SupportVectorNames} ();
1314     numOfSupportVectors = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})svNames.size ();
1315   \}
1316   \textcolor{keywordflow}{else}
1317   \{
1318     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < numOfModels;  x++)
1319       numOfSupportVectors += models[x][0]->l;
1320   \}
1321 
1322   \textcolor{keywordflow}{return}  numOfSupportVectors;
1323 \}  \textcolor{comment}{/* NumOfSupportVectors */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Predict@{Predict}}
\index{Predict@{Predict}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Predict(\+Feature\+Vector\+Ptr example)}{Predict(FeatureVectorPtr example)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\+L\+Class\+Ptr} S\+V\+M\+Model\+::\+Predict (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a76b4316914f1f272d61010477e41d7f6}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a76b4316914f1f272d61010477e41d7f6}


Definition at line 1131 of file S\+V\+M\+Model.\+cpp.



References Predict().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Predict().


\begin{DoxyCode}
1132 \{
1133   \textcolor{keywordtype}{double}      breakTie         = -1.0f;
1134   \textcolor{keywordtype}{bool}        knownClassOneOfTheWinners = \textcolor{keyword}{false};
1135   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}     numOfWinners     = -1;
1136   \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  pred1            = NULL;
1137   \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  pred2            = NULL;
1138   \textcolor{keywordtype}{double}      predClass1Prob   = -1.0;
1139   \textcolor{keywordtype}{double}      predClass2Prob   = -1.0;
1140   \textcolor{keywordtype}{double}      probOfKnownClass = -1.0;
1141 
1142   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}     predClass1Votes = -1;
1143   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}     predClass2Votes = -1;
1144   
1145   InializeProbClassPairs ();
1146 
1147   \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_a76b4316914f1f272d61010477e41d7f6}{Predict} (example, 
1148            NULL,
1149            pred1,
1150            pred2,
1151            predClass1Votes,
1152            predClass2Votes,
1153            probOfKnownClass,
1154            predClass1Prob,
1155            predClass2Prob,
1156            numOfWinners,
1157            knownClassOneOfTheWinners,
1158            breakTie
1159           );
1160 
1161   \textcolor{keywordflow}{return}  pred1;
1162 \}  \textcolor{comment}{/* Predict */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Predict@{Predict}}
\index{Predict@{Predict}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Predict(\+Feature\+Vector\+Ptr example, M\+L\+Class\+Ptr known\+Class, M\+L\+Class\+Ptr \&pred\+Class1, M\+L\+Class\+Ptr \&pred\+Class2, kkint32 \&pred\+Class1\+Votes, kkint32 \&pred\+Class2\+Votes, double \&prob\+Of\+Known\+Class, double \&pred\+Class1\+Prob, double \&pred\+Class2\+Prob, kkint32 \&num\+Of\+Winners, bool \&known\+Class\+One\+Of\+The\+Winners, double \&break\+Tie)}{Predict(FeatureVectorPtr example, MLClassPtr knownClass, MLClassPtr &predClass1, MLClassPtr &predClass2, kkint32 &predClass1Votes, kkint32 &predClass2Votes, double &probOfKnownClass, double &predClass1Prob, double &predClass2Prob, kkint32 &numOfWinners, bool &knownClassOneOfTheWinners, double &breakTie)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Predict (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf M\+L\+Class\+Ptr}}]{known\+Class, }
\item[{{\bf M\+L\+Class\+Ptr} \&}]{pred\+Class1, }
\item[{{\bf M\+L\+Class\+Ptr} \&}]{pred\+Class2, }
\item[{{\bf kkint32} \&}]{pred\+Class1\+Votes, }
\item[{{\bf kkint32} \&}]{pred\+Class2\+Votes, }
\item[{double \&}]{prob\+Of\+Known\+Class, }
\item[{double \&}]{pred\+Class1\+Prob, }
\item[{double \&}]{pred\+Class2\+Prob, }
\item[{{\bf kkint32} \&}]{num\+Of\+Winners, }
\item[{bool \&}]{known\+Class\+One\+Of\+The\+Winners, }
\item[{double \&}]{break\+Tie}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_acd0c5d26be6a926aebe0bb28e23ae188}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_acd0c5d26be6a926aebe0bb28e23ae188}


Will predict the two most likely classes of \textquotesingle{}example\textquotesingle{}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em example} & The Example to predict on. \\
\hline
\mbox{\tt in}  & {\em known\+Class} & Class that we already no the example to be; can be pointing to N\+U\+LL indicating that you do not know. \\
\hline
\mbox{\tt out}  & {\em pred\+Class1} & Most likely class; depending on classifier parameters this could be by number of votes or probability. \\
\hline
\mbox{\tt out}  & {\em pred\+Class2} & Second most likely class. \\
\hline
\mbox{\tt out}  & {\em pred\+Class1\+Votes} & Number votes \textquotesingle{}pred\+Class1\textquotesingle{} received. \\
\hline
\mbox{\tt out}  & {\em pred\+Class2\+Votes} & Number votes \textquotesingle{}pred\+Class2\textquotesingle{} received. \\
\hline
\mbox{\tt out}  & {\em prob\+Of\+Known\+Class} & Probability of \textquotesingle{}known\+Class\textquotesingle{} if specified. \\
\hline
\mbox{\tt out}  & {\em pred\+Class1\+Prob} & Probability of \textquotesingle{}pred\+Class1\textquotesingle{} if specified. \\
\hline
\mbox{\tt out}  & {\em pred\+Class2\+Prob} & Probability of \textquotesingle{}pred\+Class2\textquotesingle{} if specified. \\
\hline
\mbox{\tt out}  & {\em num\+Of\+Winners} & Number of classes that had the same number of votes as the winning class. \\
\hline
\mbox{\tt out}  & {\em known\+Class\+One\+Of\+The\+Winners} & Will return true if the known class was one of the classes that had the highest number of votes. \\
\hline
\mbox{\tt out}  & {\em break\+Tie} & The difference in probability between the classes with the two highest probabilities. \\
\hline
\end{DoxyParams}


Definition at line 792 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Binary\+Combos, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+Get\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+Get\+Num\+For\+Class(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type(), K\+K\+M\+L\+L\+::\+One\+Vs\+All, and K\+K\+M\+L\+L\+::\+One\+Vs\+One.



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Predict(), and Predict().


\begin{DoxyCode}
805 \{
806   InializeProbClassPairs ();
807 
808   breakTie = 0.0f;   \textcolor{comment}{// experiments.}
809 
810   knownClassOneOfTheWinners = \textcolor{keyword}{false};
811 
812   predClass1 = NULL;
813   predClass2 = NULL;
814 
815   predClass1Votes = -1;
816   predClass2Votes = -1;
817 
818   probOfKnownClass = 0.0;
819   predClass1Prob   = 0.0;
820   predClass2Prob   = -1.0f;
821 
822   numOfWinners = 0;
823 
824   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa0bf7132f9ec5b2de535b831afd3ae75c}{SVM\_MachineType::OneVsAll})
825   \{
826     EncodeExample (example, predictXSpace);
827     PredictOneVsAll (predictXSpace,   \textcolor{comment}{//  used to be xSpace,  }
828                      knownClass,
829                      predClass1,
830                      predClass2,
831                      probOfKnownClass,
832                      predClass1Prob,
833                      predClass2Prob,
834                      numOfWinners,
835                      knownClassOneOfTheWinners,
836                      breakTie
837                     );
838     predClass1Votes = 1;
839     predClass2Votes = 1;
840     \textcolor{comment}{//  free (xSpace);  // We are now allocating only once.}
841   \}
842 
843   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa2cb1a8e8122853731a8eb99f1bd56630}{SVM\_MachineType::OneVsOne})
844   \{  
845     EncodeExample (example, predictXSpace);
846 
847     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  knownClassNum  = -1;
848     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  prediction     = -1;
849     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  prediction2    = -1;
850 
851     \textcolor{keywordflow}{if}  (knownClass)
852       knownClassNum = assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a16bde30c19763d38ebcf9c33f0accd5f}{GetNumForClass} (knownClass);
853 
854     vector<kkint32>  winners;
855 
856     \hyperlink{namespace_k_k_m_l_l_a658f1d24f059e14b27229482d01e0400}{SvmPredictClass} (*svmParam,
857                      models[0],
858                      predictXSpace, 
859                      votes,
860                      probabilities, 
861                      knownClassNum,
862                      prediction,
863                      prediction2,
864                      predClass1Votes,
865                      predClass2Votes,
866                      predClass1Prob,
867                      predClass2Prob,
868                      probOfKnownClass,
869                      winners,
870                      crossClassProbTable,
871                      breakTie
872                     );
873 
874     numOfWinners = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})winners.size ();
875 
876     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} idx = 0;  idx < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})winners.size ();  idx++)
877     \{
878       \textcolor{keywordflow}{if}  (winners[idx] == knownClassNum)
879       \{
880         knownClassOneOfTheWinners = \textcolor{keyword}{true};
881         \textcolor{keywordflow}{break};
882       \}
883     \}
884 
885     predClass1 = assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a1e6deee5eda8bf069953b65f6a0ef187}{GetMLClass} (prediction);
886     predClass2 = assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a1e6deee5eda8bf069953b65f6a0ef187}{GetMLClass} (prediction2);
887     \textcolor{comment}{//free (xSpace);}
888   \}
889 
890   
891   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos}
      )
892   \{
893     PredictByBinaryCombos (example, 
894                            knownClass,
895                            predClass1,
896                            predClass2,
897                            predClass1Votes,
898                            predClass2Votes,
899                            probOfKnownClass,
900                            predClass1Prob,
901                            predClass2Prob,
902                            breakTie,
903                            numOfWinners,
904                            knownClassOneOfTheWinners
905                           );
906   \}
907     
908   \textcolor{keywordflow}{else}
909   \{
910     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"***ERROR*** SVMModel::Predict   Invalid Machine Type Specified."};
911     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
912     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
913   \}
914 
915   \textcolor{keywordflow}{return};
916 \}  \textcolor{comment}{/* Predict */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Predict\+Raw@{Predict\+Raw}}
\index{Predict\+Raw@{Predict\+Raw}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Predict\+Raw(\+Feature\+Vector\+Ptr example, M\+L\+Class\+Ptr \&pred\+Class, double \&dist)}{PredictRaw(FeatureVectorPtr example, MLClassPtr &predClass, double &dist)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Predict\+Raw (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{{\bf M\+L\+Class\+Ptr} \&}]{pred\+Class, }
\item[{double \&}]{dist}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a0d323e778b6be3b2fdfe95e8c9123645}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a0d323e778b6be3b2fdfe95e8c9123645}


Returns the distance from the decision border of the S\+VM. 



Definition at line 921 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+Get\+M\+L\+Class(), and K\+K\+M\+L\+L\+::\+Svm\+Predict\+Raw().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Predict\+Raw().


\begin{DoxyCode}
925 \{
926   InializeProbClassPairs ();
927 
928   dist = 0.0;
929   \textcolor{keywordtype}{double}  label = 0.0;
930   EncodeExample (example, predictXSpace);
931   \hyperlink{namespace_k_k_m_l_l_af6a8aee2aad78a52bbec33f12e9d2960}{SvmPredictRaw} (models[0], predictXSpace, label, dist);
932   predClass  = assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a1e6deee5eda8bf069953b65f6a0ef187}{GetMLClass} ((\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})label);
933   \textcolor{keywordflow}{return};
934 \}  \textcolor{comment}{/* PredictRaw */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Probabilities\+By\+Class@{Probabilities\+By\+Class}}
\index{Probabilities\+By\+Class@{Probabilities\+By\+Class}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Probabilities\+By\+Class(\+Feature\+Vector\+Ptr example, const M\+L\+Class\+List \&\+\_\+ml\+Classes, kkint32 $\ast$\+\_\+votes, double $\ast$\+\_\+probabilities, Run\+Log \&\+\_\+log)}{ProbabilitiesByClass(FeatureVectorPtr example, const MLClassList &_mlClasses, kkint32 *_votes, double *_probabilities, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Probabilities\+By\+Class (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+Ptr}}]{example, }
\item[{const {\bf M\+L\+Class\+List} \&}]{\+\_\+ml\+Classes, }
\item[{{\bf kkint32} $\ast$}]{\+\_\+votes, }
\item[{double $\ast$}]{\+\_\+probabilities, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a1c5a892328e992f604e129d6d3f6bdca}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a1c5a892328e992f604e129d6d3f6bdca}


Will get the probabilities assigned to each class. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em example} & unknown example that we want to get predicted probabilities for. \\
\hline
\mbox{\tt in}  & {\em \+\_\+ml\+Classes} & List classes that caller is aware of. This should be the same list that was used when constructing this \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model}{S\+V\+M\+Model} object. The list must be the same but not necessarily in the same order as when \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model}{S\+V\+M\+Model} was 1st constructed. \\
\hline
\mbox{\tt out}  & {\em \+\_\+votes} & An array that must be as big as the number of classes in \+\_\+ml\+Classes. \\
\hline
\mbox{\tt out}  & {\em \+\_\+probabilities} & An array that must be as big as the number of classes in \+\_\+ml\+Classes. The probability of class in \+\_\+ml\+Classes\mbox{[}x\mbox{]} will be returned in \+\_\+probabilities\mbox{[}x\mbox{]}. \\
\hline
\mbox{\tt in}  & {\em \+\_\+log} & Logging file. \\
\hline
\end{DoxyParams}


Definition at line 1354 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Binary\+Combos, K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Encode\+A\+Example(), K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+Get\+M\+L\+Class(), and K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Probabilities\+By\+Class().


\begin{DoxyCode}
1360 \{
1361   InializeProbClassPairs ();
1362 
1363   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1364   \{
1365     PredictProbabilitiesByBinaryCombos (example, \_mlClasses, \_votes, \_probabilities, \_log);
1366     \textcolor{keywordflow}{return};
1367   \}
1368 
1369   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  predClass1Votes         = -1;
1370   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  predClass2Votes         = -1;
1371   \textcolor{keywordtype}{double}   predClass1Prob          = 0.0;
1372   \textcolor{keywordtype}{double}   predClass2Prob          = 0.0;
1373   \textcolor{keywordtype}{double}   probOfKnownClass        = 0.0;
1374   \textcolor{keywordtype}{double}   smallestDistOfPredClass = 0.0;
1375 
1376   \textcolor{keywordtype}{double}   breakTie                = 0.0f;
1377 
1378   \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  predictedClass  = NULL;
1379   \hyperlink{struct_s_v_m233_1_1svm__node}{XSpacePtr}   xSpace          = NULL;
1380   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}     x, y;
1381 
1382   xSpace = featureEncoder->\hyperlink{class_k_k_m_l_l_1_1_feature_encoder_af82278dec57d34f3ebcf6ea97cc625d2}{EncodeAExample} (example);
1383 
1384   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  knownClassNum = 0;
1385   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  prediction    = 0;
1386   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  prediction2   = 0;
1387 
1388   \textcolor{keywordflow}{for}  (x = 0;  x < numOfClasses;  x++)
1389   \{
1390     probabilities [x] = 0.0;
1391     \_probabilities[x] = 0.0;
1392     \_votes        [x] = 0;
1393   \}
1394 
1395   vector<kkint32>  winners;
1396 
1397   \hyperlink{namespace_k_k_m_l_l_a658f1d24f059e14b27229482d01e0400}{SvmPredictClass} (*svmParam,
1398                    models[0],
1399                    xSpace, 
1400                    votes,
1401                    probabilities, 
1402                    knownClassNum, 
1403                    prediction,
1404                    prediction2,
1405                    predClass1Votes,
1406                    predClass2Votes,
1407                    predClass1Prob,
1408                    predClass2Prob,
1409                    probOfKnownClass,
1410                    winners,
1411                    crossClassProbTable,
1412                    breakTie
1413                   );
1414 
1415   \textcolor{comment}{// We have  to do it this way, so that we pass back the probabilities in the }
1416   \textcolor{comment}{// same order that the user indicated with mlClasses being passed in.}
1417   \textcolor{keywordflow}{for}  (x = 0;  x < numOfClasses;  x++)
1418   \{
1419     predictedClass = assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a1e6deee5eda8bf069953b65f6a0ef187}{GetMLClass} (x);
1420     \textcolor{keywordflow}{if}  (predictedClass)
1421     \{
1422       y = \_mlClasses.\hyperlink{class_k_k_b_1_1_k_k_queue_ac7c26abdf599669a4b0898534f735f99}{PtrToIdx} (predictedClass);
1423       \textcolor{keywordflow}{if}  ((y < 0)   ||   (y >= numOfClasses))
1424       \{
1425         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1426                 << \textcolor{stringliteral}{"SVMModel::ProbabilitiesByClass   ***ERROR***"}                                          
                 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1427                 << \textcolor{stringliteral}{"                                 Invalid classIdx["} << y                       << \textcolor{stringliteral}{"] 
       Specified."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1428                 << \textcolor{stringliteral}{"                                 ClassName       ["} << predictedClass->Name () << \textcolor{stringliteral}{"]"}  
                 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1429                 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1430       \}
1431       \textcolor{keywordflow}{else}
1432       \{
1433         \_votes        [y] = votes        [x];
1434         \_probabilities[y] = probabilities[x];
1435       \}
1436     \}
1437   \}
1438 
1439   \textcolor{keyword}{delete}  xSpace;  
1440   xSpace = NULL;
1441 
1442   \textcolor{keywordflow}{return};
1443 \}  \textcolor{comment}{/* ProbabilitiesByClass */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Read\+X\+ML@{Read\+X\+ML}}
\index{Read\+X\+ML@{Read\+X\+ML}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Read\+X\+M\+L(\+Xml\+Stream \&s, Xml\+Tag\+Const\+Ptr tag, Vol\+Const\+Bool \&cancel\+Flag, Run\+Log \&log)}{ReadXML(XmlStream &s, XmlTagConstPtr tag, VolConstBool &cancelFlag, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Read\+X\+ML (
\begin{DoxyParamCaption}
\item[{{\bf Xml\+Stream} \&}]{s, }
\item[{{\bf Xml\+Tag\+Const\+Ptr}}]{tag, }
\item[{{\bf Vol\+Const\+Bool} \&}]{cancel\+Flag, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ad98423dac9fe89cde21ca69082c2d640}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ad98423dac9fe89cde21ca69082c2d640}


Definition at line 2421 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+C\+\_\+\+Param(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Create\+Attribute\+Type\+Table(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Create\+Cardinality\+Table(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Encoding\+Method(), K\+K\+B\+::\+K\+K\+Str\+::\+Equal\+Ignore\+Case(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Feature\+Encoder(), K\+K\+B\+::\+Xml\+Stream\+::\+Get\+Next\+Token(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type(), K\+K\+M\+L\+L\+::\+One\+Vs\+All, K\+K\+M\+L\+L\+::\+One\+Vs\+One, K\+K\+B\+::\+Xml\+Token\+::tok\+Element, K\+K\+B\+::\+Xml\+Token\+::\+Token\+Type(), K\+K\+M\+L\+L\+::\+Xml\+Element\+File\+Desc\+::\+Value(), and K\+K\+B\+::\+Xml\+Element\+::\+Var\+Name().


\begin{DoxyCode}
2426 \{
2427   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numModeLoaded = 0;
2428   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}    lastBinaryClass1Name = \textcolor{stringliteral}{""};
2429   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}    lastBinaryClass2Name = \textcolor{stringliteral}{""};
2430   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastModelIdx = -1;
2431 
2432   DeleteModels ();
2433   DeleteXSpaces ();
2434 
2435   \textcolor{keyword}{delete}  binaryParameters;       binaryParameters      = NULL;
2436   \textcolor{keyword}{delete}  models;                 models                = NULL;
2437   \textcolor{keyword}{delete}  binaryFeatureEncoders;  binaryFeatureEncoders = NULL;
2438 
2439   numOfClasses = 0;
2440   numOfModels  = 0;
2441 
2442   \hyperlink{class_k_k_b_1_1_date_time}{DateTime}  timeSaved;
2443 
2444   \textcolor{keywordtype}{bool}  errorsFound = \textcolor{keyword}{false};
2445   \hyperlink{class_k_k_b_1_1_xml_token}{XmlTokenPtr}  t = NULL;
2446   \textcolor{keywordflow}{while}  (!errorsFound)
2447   \{
2448     \textcolor{keyword}{delete}  t;
2449     t = s.\hyperlink{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{GetNextToken} (cancelFlag, log);
2450     \textcolor{keywordflow}{if}  ((!t)  ||  cancelFlag)
2451       \textcolor{keywordflow}{break};
2452 
2453     \textcolor{keywordflow}{if}  (t->\hyperlink{class_k_k_b_1_1_xml_token_ae98e2c1a798882647578cae4adcd7176}{TokenType} () == XmlToken::TokenTypes::tokElement)
2454     \{
2455       \hyperlink{class_k_k_b_1_1_xml_element}{XmlElementPtr} e = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_b_1_1_xml_element}{XmlElementPtr}\textcolor{keyword}{>} (t);
2456       \textcolor{keywordflow}{if}  (!e)
2457         \textcolor{keywordflow}{continue};
2458 
2459       \textcolor{keyword}{const} \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}&  varName = e->\hyperlink{class_k_k_b_1_1_xml_element_aef57cf00be66a3a387ce849b35125f51}{VarName} ();
2460 
2461       \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"FileDesc"})  &&  (\textcolor{keyword}{typeid} (*e) == \textcolor{keyword}{typeid} (
      \hyperlink{class_k_k_m_l_l_1_1_xml_element_file_desc}{XmlElementFileDesc})))
2462       \{
2463         fileDesc = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_m_l_l_1_1_xml_element_file_desc}{XmlElementFileDescPtr}\textcolor{keyword}{>} (e)->Value ();
2464       \}
2465 
2466       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"HeaderFields"})  &&  (\textcolor{keyword}{typeid} (*e) == \textcolor{keyword}{typeid} (
      \hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs}{XmlElementKeyValuePairs})))
2467       \{
2468         \hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs}{XmlElementKeyValuePairsPtr} hf = \textcolor{keyword}{dynamic\_cast<}
      \hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs}{XmlElementKeyValuePairsPtr}\textcolor{keyword}{>} (e);
2469         \textcolor{keywordflow}{if}  (!hf)
2470           \textcolor{keywordflow}{continue};
2471 
2472         \textcolor{keywordflow}{for}  (\textcolor{keyword}{auto}  idx: *hf->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_ad9d419323ca34af818aac7304f0bc388}{Value} ())
2473         \{
2474           \textcolor{keywordflow}{if}  (idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"RootFileName"}))
2475             rootFileName = idx.second;
2476 
2477           \textcolor{keywordflow}{else} if  (idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"Time"}))
2478             timeSaved = \hyperlink{class_k_k_b_1_1_date_time}{DateTime} (idx.second);
2479 
2480           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"NumOfModels"}))
2481             numOfModels = idx.second.ToInt32 ();
2482 
2483           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"SelectedFeatures"}))
2484           \{
2485             \textcolor{keyword}{delete}  selectedFeatures;
2486             \textcolor{keywordtype}{bool}  validFeatures = \textcolor{keyword}{false};
2487             selectedFeatures  = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_num_list}{FeatureNumList} (idx.second, validFeatures);
2488           \}
2489 
2490           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"TrainingTime"}))
2491             trainingTime = idx.second.ToDouble ();
2492 
2493           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"Assignments"})  ||  idx.first.EqualIgnoreCase (\textcolor{stringliteral}{"
      ClassAssignments"}))
2494             assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a741ad292e58ea0dcd057776fa0a62da7}{ParseToString} (idx.second, log);
2495 
2496           \textcolor{keywordflow}{else}
2497           \{
2498             log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2499               << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   Unrecognized Header Field: "} << idx.first << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2500               << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2501             errorsFound = \textcolor{keyword}{true};
2502           \}
2503         \}
2504 
2505         \textcolor{keywordflow}{if}  (numOfModels < 1)
2506         \{
2507           log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2508             << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   numOfModels: "} << numOfModels << \textcolor{stringliteral}{" Is invalid."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2509             << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2510           errorsFound = \textcolor{keyword}{true};
2511         \}
2512         \textcolor{keywordflow}{else}
2513         \{
2514           DeleteModels ();
2515           AllocateModels ();
2516           binaryParameters       = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr} [numOfModels];
2517           binaryFeatureEncoders  = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_encoder}{FeatureEncoderPtr}   [numOfModels];
2518 
2519           \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < numOfModels;  x++)
2520           \{
2521             binaryParameters       [x] = NULL;
2522             binaryFeatureEncoders  [x] = NULL;
2523           \}
2524         \}
2525       \}
2526 
2527       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"SvmParam"})  &&  (\textcolor{keyword}{typeid} (*e) == \textcolor{keyword}{typeid} (
      \hyperlink{namespace_k_k_m_l_l_a5ddff9706fdda9d572717e645b404bf1}{XmlElementSVMparam})))
2528       \{
2529         \hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSVMparamPtr} xmlSvmParam = \textcolor{keyword}{dynamic\_cast<}
      \hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSVMparamPtr}\textcolor{keyword}{>} (e);
2530         \textcolor{keywordflow}{if}  (xmlSvmParam)
2531         \{
2532           \textcolor{keyword}{delete}  svmParam;
2533           svmParam = xmlSvmParam->\hyperlink{class_k_k_b_1_1_xml_element_template_a1fd0ce7b0d0ee0d57fb29ca09d3ad6fc}{TakeOwnership} ();
2534         \}
2535       \}
2536 
2537       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"RootFileName"}))
2538       \{
2539         rootFileName = e->\hyperlink{class_k_k_b_1_1_xml_element_a3028fc03b79509e6378749f6a8b426b9}{ToKKStr} ();
2540       \}
2541 
2542       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"OneVsOneModel"})  &&  (\textcolor{keyword}{typeid} (*e) == \textcolor{keyword}{typeid} (
      \hyperlink{namespace_s_v_m233_ac980a127b814b032d64ad46c43530ac0}{XmlElementSvmModel233})))
2543       \{
2544         \hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSvmModel233Ptr} xmlElementModel = \textcolor{keyword}{dynamic\_cast<}
      \hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSvmModel233Ptr}\textcolor{keyword}{>} (e);
2545         \hyperlink{struct_s_v_m233_1_1_svm_model233}{SvmModel233}* m = xmlElementModel->\hyperlink{class_k_k_b_1_1_xml_element_template_a3d671b57251b4b256fecb2197fc4a0f4}{Value} ();
2546         \textcolor{keywordflow}{if}  (m)
2547         \{
2548           \textcolor{keywordflow}{if}  (!m->\hyperlink{struct_s_v_m233_1_1_svm_model233_a875589b5c20a1d5a3b2d21d88706abc0}{valid})
2549           \{
2550             log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2551               << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   'OneVsOneModel'  is invalid."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2552               << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2553           \}
2554           \textcolor{keywordflow}{else}
2555           \{
2556             \textcolor{keywordflow}{if}  (!models)
2557             \{
2558               log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2559                 << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   'OneVsOneModel'   models was not defined/allocated."} <
      < \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2560                 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2561             \}
2562             \textcolor{keywordflow}{else}
2563             \{
2564               models[0][0] = xmlElementModel->\hyperlink{class_k_k_b_1_1_xml_element_template_a1fd0ce7b0d0ee0d57fb29ca09d3ad6fc}{TakeOwnership} ();
2565               ++numModeLoaded;
2566             \}
2567           \}
2568         \}
2569       \}
2570 
2571       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a562f9696417c53f66bc4088eac072ab5}{EqualIgnoreCase} (\textcolor{stringliteral}{"BinaryCombo"})  &&  (\textcolor{keyword}{typeid} (*e) == \textcolor{keyword}{typeid} (
      \hyperlink{class_k_k_b_1_1_xml_element_k_k_str}{XmlElementKKStr})))
2572       \{
2573         \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} s = *(\textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_b_1_1_xml_element_k_k_str}{XmlElementKKStrPtr}\textcolor{keyword}{>} (e)->Value ());
2574         lastModelIdx = s.\hyperlink{class_k_k_b_1_1_k_k_str_ae50047144b908273ffd004bd9379f6d0}{ExtractTokenInt} (\textcolor{stringliteral}{"\(\backslash\)t"});
2575         lastBinaryClass1Name = s.\hyperlink{class_k_k_b_1_1_k_k_str_afe41140cee0520f0be8a3022938a1b03}{ExtractToken2} (\textcolor{stringliteral}{"\(\backslash\)t"});
2576         lastBinaryClass2Name = s.\hyperlink{class_k_k_b_1_1_k_k_str_afe41140cee0520f0be8a3022938a1b03}{ExtractToken2} (\textcolor{stringliteral}{"\(\backslash\)t"});
2577       \}
2578 
2579       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (varName.\hyperlink{class_k_k_b_1_1_k_k_str_a7026d727e15a0e9300b6ba68252accb0}{StartsWith} (\textcolor{stringliteral}{"BinaryComboModel\_"})  &&  (\textcolor{keyword}{typeid} (*e) == \textcolor{keyword}{typeid} (
      \hyperlink{namespace_s_v_m233_ac980a127b814b032d64ad46c43530ac0}{XmlElementSvmModel233})))
2580       \{
2581         \hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSvmModel233Ptr} xmlElementModel = \textcolor{keyword}{dynamic\_cast<}
      \hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSvmModel233Ptr}\textcolor{keyword}{>} (e);
2582         \hyperlink{struct_s_v_m233_1_1_svm_model233}{SvmModel233}* m = xmlElementModel->\hyperlink{class_k_k_b_1_1_xml_element_template_a3d671b57251b4b256fecb2197fc4a0f4}{Value} ();
2583         \textcolor{keywordflow}{if}  ((!m)  ||  (!m->\hyperlink{struct_s_v_m233_1_1_svm_model233_a875589b5c20a1d5a3b2d21d88706abc0}{valid}))
2584         \{
2585           log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2586             << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***  SvmModel233["} << varName << \textcolor{stringliteral}{"] is invalid."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2587             << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2588           errorsFound = \textcolor{keyword}{true};
2589         \}
2590 
2591         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (numModeLoaded >= numOfModels)
2592         \{
2593           log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2594             << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   Number of models being loaded exceeds what was expected."} 
      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2595             << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2596           errorsFound = \textcolor{keyword}{true};
2597         \}
2598 
2599         \textcolor{keywordflow}{else}
2600         \{
2601           \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  class1 = \hyperlink{class_k_k_m_l_l_1_1_m_l_class_a9fd24c617c42d89afc92414575e00e9a}{MLClass::CreateNewMLClass} (
      lastBinaryClass1Name);
2602           \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  class2 = \hyperlink{class_k_k_m_l_l_1_1_m_l_class_a9fd24c617c42d89afc92414575e00e9a}{MLClass::CreateNewMLClass} (
      lastBinaryClass2Name);
2603 
2604           log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (10) << \textcolor{stringliteral}{"SVMModel::ReadXM     Class1["} << lastBinaryClass1Name << \textcolor{stringliteral}{"]  Class2["} << 
      lastBinaryClass2Name << \textcolor{stringliteral}{"]"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2605 
2606           \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr}  binClassParms = svmParam->
      \hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a781fab93d6c2c65ad180c3e8f17358a9}{GetParamtersToUseFor2ClassCombo} (class1, class2);
2607           \textcolor{keywordflow}{if}  (!binClassParms)
2608           \{
2609             log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl
2610               << \textcolor{stringliteral}{"SVMModel::ReadXM    ***ERROR***   Binary Class Parms are missing for classes "} << 
      lastBinaryClass1Name << \textcolor{stringliteral}{" and "} << lastBinaryClass2Name << endl
2611               << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2612             errorsFound = \textcolor{keyword}{true};
2613           \}
2614           \textcolor{keywordflow}{else}
2615           \{
2616             models[numModeLoaded][0] = \textcolor{keyword}{dynamic\_cast<}\hyperlink{class_k_k_b_1_1_xml_element_template}{XmlElementSvmModel233Ptr}\textcolor{keyword}{>} (e)->
      TakeOwnership ();
2617             binaryParameters[numModeLoaded] = binClassParms;
2618 
2619             binaryFeatureEncoders[numModeLoaded] 
2620                 = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_encoder}{FeatureEncoder} (fileDesc,
2621                                       binClassParms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} (),
2622                                       binClassParms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} (),
2623                                       *(binClassParms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a2885a141b7eb3f3230e9c164265adcab}{SelectedFeatures} ()),
2624                                       svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a64c242e8dc965631a3f3a95de555cd40}{EncodingMethod} (),
2625                                       binClassParms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aefb6c5d54ce92e8c8ce96f6b9f2eafc2}{C} ()
2626                                      );
2627             ++numModeLoaded;
2628           \}
2629         \}
2630       \}
2631     \}
2632   \}
2633   \textcolor{keyword}{delete}  t;
2634   t = NULL;
2635 
2636   \textcolor{keywordflow}{if}  (cancelFlag)
2637     errorsFound = \textcolor{keyword}{true};
2638 
2639   \textcolor{keywordflow}{if}  (assignments.size () < 2)
2640   \{
2641    log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl 
2642      << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   'assignments is not properly defined."} << endl
2643      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2644     errorsFound = \textcolor{keyword}{true};
2645   \}
2646 
2647   \textcolor{keywordflow}{if}  (!fileDesc)
2648   \{
2649    log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl 
2650      << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   'fileDesc' is not defined."} << endl
2651      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2652     errorsFound = \textcolor{keyword}{true};
2653   \}
2654 
2655   \textcolor{keywordflow}{if}  (!svmParam)
2656   \{
2657    log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl 
2658      << \textcolor{stringliteral}{"SVMModel::ReadXM   ***ERROR***   'svmParam' is not defined."} << endl
2659      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2660     errorsFound = \textcolor{keyword}{true};
2661   \}
2662 
2663   \textcolor{keywordflow}{if}  (!errorsFound)
2664   \{
2665     type\_table        = fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a924736ac68c054c64001fe836ba7c1e3}{CreateAttributeTypeTable} ( );
2666     cardinality\_table = fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a1f16b3ad912b04745baa9eea8d3111c7}{CreateCardinalityTable} ( );
2667 
2668     numOfClasses = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})assignments.size ();
2669     BuildClassIdxTable ();
2670     BuildCrossClassProbTable ();
2671 
2672     CalculatePredictXSpaceNeeded (log);
2673 
2674     \textcolor{keywordflow}{if}  ((svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () ==  \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa2cb1a8e8122853731a8eb99f1bd56630}{SVM\_MachineType::OneVsOne})  ||  
      (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa0bf7132f9ec5b2de535b831afd3ae75c}{SVM\_MachineType::OneVsAll}))
2675     \{
2676       \textcolor{keyword}{delete}  featureEncoder;
2677       featureEncoder = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_encoder}{FeatureEncoder} (fileDesc,
2678                                            NULL,              \textcolor{comment}{// class1, set to NULL because we are dealing
       with all classes}
2679                                            NULL,              \textcolor{comment}{// class2,     ""          ""            ""  
                ""}
2680                                            *selectedFeatures,
2681                                            svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a64c242e8dc965631a3f3a95de555cd40}{EncodingMethod} (),
2682                                            svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_ae370b8852451329cd5548b790ab5d65a}{C\_Param} ()
2683                                           );
2684     \}
2685   \}
2686 
2687   validModel = !errorsFound;
2688 \}  \textcolor{comment}{/* ReadXML */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Retrieve\+Cross\+Prob\+Table@{Retrieve\+Cross\+Prob\+Table}}
\index{Retrieve\+Cross\+Prob\+Table@{Retrieve\+Cross\+Prob\+Table}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Retrieve\+Cross\+Prob\+Table(\+M\+L\+Class\+List \&classes, double $\ast$$\ast$cross\+Prob\+Table, Run\+Log \&log)}{RetrieveCrossProbTable(MLClassList &classes, double **crossProbTable, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Retrieve\+Cross\+Prob\+Table (
\begin{DoxyParamCaption}
\item[{{\bf M\+L\+Class\+List} \&}]{classes, }
\item[{double $\ast$$\ast$}]{cross\+Prob\+Table, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a05b5f25f66cdb59e35655b73a00679e6}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a05b5f25f66cdb59e35655b73a00679e6}


Will return the probabilities for all pairs of the classes listed in \textquotesingle{}classes\textquotesingle{}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em classes} & The Classes that you wish to get class pair probabilities for; the order will dictate how the two dimensional matrix \textquotesingle{}cross\+Prob\+Table\textquotesingle{} will be populated. \\
\hline
\mbox{\tt out}  & {\em cross\+Prob\+Table} & Will contain the probabilities of all the class pairs that can be formed from the list of classes in \textquotesingle{}classes\textquotesingle{}. \textquotesingle{}cross\+Prob\+Table\textquotesingle{} will be a two dimension square matrix size will be dictated by the number of classes in \textquotesingle{}classes\textquotesingle{}. Ex\+: Entry\mbox{[}3\mbox{]}\mbox{[}2\mbox{]} will have the contain the probability between classes\mbox{[}3\mbox{]} and classes\mbox{[}2\mbox{]}. \\
\hline
\mbox{\tt in}  & {\em log} & Logging file. \\
\hline
\end{DoxyParams}


Definition at line 2279 of file S\+V\+M\+Model.\+cpp.



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Retrieve\+Cross\+Prob\+Table().


\begin{DoxyCode}
2283 \{
2284   \textcolor{keywordflow}{if}  (classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} () != crossClassProbTableSize)
2285   \{
2286     \textcolor{comment}{// There Class List does not have the same number of entries as our 'CrossProbTable'}
2287     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2288                    << \textcolor{stringliteral}{"SVMModel::RetrieveCrossProbTable    ***ERROR***"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2289                    << \textcolor{stringliteral}{"            classes.QueueSize ()["} << classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} () << \textcolor{stringliteral}{"] !=
       crossClassProbTableSize["} << crossClassProbTableSize << \textcolor{stringliteral}{"]"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2290                    << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2291     \textcolor{keywordflow}{return};
2292   \}
2293 
2294   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*  indexTable = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ()];
2295   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x, y;
2296   \textcolor{keywordflow}{for}  (x = 0;  x < classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();  x++)
2297   \{
2298     \textcolor{keywordflow}{for}  (y = 0;  y < classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();  y++)
2299        crossProbTable[x][y] = 0.0;
2300 
2301     indexTable[x] = assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a16bde30c19763d38ebcf9c33f0accd5f}{GetNumForClass} (classes.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (x));
2302     \textcolor{keywordflow}{if}  (indexTable[x] < 0)
2303     \{
2304       log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2305                      << \textcolor{stringliteral}{"SVMModel::RetrieveCrossProbTable      ***WARNING***"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2306                      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2307                      << \textcolor{stringliteral}{"      Class Index["} << x << \textcolor{stringliteral}{"]  Name["} << classes[x].Name () << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2308                      << \textcolor{stringliteral}{"      will populate this index with zeros."}                         << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2309                      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2310     \}
2311   \}
2312 
2313   \textcolor{keywordflow}{if}  (classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} () != crossClassProbTableSize)
2314   \{
2315     log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2316                    << \textcolor{stringliteral}{"SVMModel::RetrieveCrossProbTable      ***ERROR***"}                                  
           << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2317                    << \textcolor{stringliteral}{"                                     'classes.QueueSize () !=
       crossClassProbTableSize'"}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
2318                    << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2319     \textcolor{keywordflow}{return};
2320   \}
2321 
2322 
2323   \textcolor{comment}{// x,y         = 'Callers'   Class Indexes..}
2324   \textcolor{comment}{// xIdx, yIdx  = 'SVMNodel'  Class Indexed.}
2325   \textcolor{keywordflow}{for}  (x = 0;  x < classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();  x++)
2326   \{
2327     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} xIdx = indexTable[x];
2328     \textcolor{keywordflow}{if}  (xIdx >= 0)
2329     \{
2330       \textcolor{keywordflow}{for}  (y = 0;  y < classes.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();  y++)
2331       \{
2332         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  yIdx = indexTable[y];
2333         \textcolor{keywordflow}{if}  (yIdx >= 0)
2334         \{
2335           \textcolor{keywordflow}{if}  ((x != xIdx)  ||  (y != yIdx))
2336           \{
2337             \textcolor{comment}{//kak  I just added this check to see when this situation actually occurs.}
2338             \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} zed = 111;
2339           \}
2340           crossProbTable[x][y] = this->crossClassProbTable[xIdx][yIdx];
2341         \}
2342       \}
2343     \}
2344   \}
2345 
2346   \textcolor{keyword}{delete}[]  indexTable;  indexTable = NULL;
2347   \textcolor{keywordflow}{return};
2348 \}  \textcolor{comment}{/* RetrieveCrossProbTable */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Root\+File\+Name@{Root\+File\+Name}}
\index{Root\+File\+Name@{Root\+File\+Name}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Root\+File\+Name() const }{RootFileName() const }}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf K\+K\+Str}\& K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Root\+File\+Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_abdd9fa3a5a163d03f74d68c2038a9824}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_abdd9fa3a5a163d03f74d68c2038a9824}


Definition at line 145 of file S\+V\+M\+Model.\+h.


\begin{DoxyCode}
145 \{\textcolor{keywordflow}{return} rootFileName;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Selection\+Method@{Selection\+Method}}
\index{Selection\+Method@{Selection\+Method}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Selection\+Method() const }{SelectionMethod() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+V\+M\+\_\+\+Selection\+Method} K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Selection\+Method (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a84a4af4216530e69ad2ef3c7e536ca09}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a84a4af4216530e69ad2ef3c7e536ca09}


Definition at line 148 of file S\+V\+M\+Model.\+h.



References K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Selection\+Method().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Selection\+Method().


\begin{DoxyCode}
148 \{\textcolor{keywordflow}{return} svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a084ed27759d9ef55a14b369da0ad7b93}{SelectionMethod} ();\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Support\+Vector\+Names@{Support\+Vector\+Names}}
\index{Support\+Vector\+Names@{Support\+Vector\+Names}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Support\+Vector\+Names() const }{SupportVectorNames() const }}]{\setlength{\rightskip}{0pt plus 5cm}vector$<$ {\bf K\+K\+Str} $>$ S\+V\+M\+Model\+::\+Support\+Vector\+Names (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a21df134c13366bf28399f7e8e0187ab9}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a21df134c13366bf28399f7e8e0187ab9}


Definition at line 1618 of file S\+V\+M\+Model.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), S\+V\+M233\+::\+Svm\+Model233\+::l, and S\+V\+M233\+::\+Svm\+Model233\+::\+Support\+Vector\+Name().


\begin{DoxyCode}
1619 \{
1620   vector<KKStr>  results;
1621   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () != \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1622     \textcolor{keywordflow}{return}  results;
1623 
1624   map<KKStr,KKStr>  names;
1625   map<KKStr,KKStr>::iterator  svnIDX;
1626 
1627   \textcolor{comment}{// Locate the binary parms in question.}
1628   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  modelIDX = 0;
1629   \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr}  parms = NULL;
1630   \textcolor{keywordflow}{for}  (modelIDX = 0;  modelIDX < numOfModels;  modelIDX++)
1631   \{
1632     parms = binaryParameters[modelIDX];
1633   
1634     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numSVs = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ae37947940a05ecebb1352b6f365b4050}{l};
1635     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  svIDX = 0;
1636     \textcolor{keywordflow}{for}  (svIDX = 0;  svIDX < numSVs;  svIDX++)
1637     \{
1638       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  svName = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_aa21a0480268196554d0976bf73d059ed}{SupportVectorName} (svIDX);
1639       svnIDX = names.find (svName);
1640       \textcolor{keywordflow}{if}  (svnIDX == names.end ())
1641       \{
1642         names.insert (pair<KKStr,KKStr>(svName, svName));
1643         results.push\_back (svName);
1644       \}
1645     \}
1646   \}
1647 
1648   \textcolor{keywordflow}{return}  results;
1649 \}  \textcolor{comment}{/* SupportVectorNames */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Support\+Vector\+Names@{Support\+Vector\+Names}}
\index{Support\+Vector\+Names@{Support\+Vector\+Names}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Support\+Vector\+Names(\+M\+L\+Class\+Ptr c1, M\+L\+Class\+Ptr c2) const }{SupportVectorNames(MLClassPtr c1, MLClassPtr c2) const }}]{\setlength{\rightskip}{0pt plus 5cm}vector$<$ {\bf K\+K\+Str} $>$ S\+V\+M\+Model\+::\+Support\+Vector\+Names (
\begin{DoxyParamCaption}
\item[{{\bf M\+L\+Class\+Ptr}}]{c1, }
\item[{{\bf M\+L\+Class\+Ptr}}]{c2}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a7b3d8801789dbdae36c5a4494ff853f3}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a7b3d8801789dbdae36c5a4494ff853f3}


Definition at line 1576 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class1(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class2(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), S\+V\+M233\+::\+Svm\+Model233\+::l, and S\+V\+M233\+::\+Svm\+Model233\+::\+Support\+Vector\+Name().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Train\+Model().


\begin{DoxyCode}
1579 \{
1580   vector<KKStr>  results;
1581   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () != \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1582     \textcolor{keywordflow}{return}  results;
1583 
1584   \textcolor{comment}{// Locate the binary parms in question.}
1585   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  modelIDX = 0;
1586   \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr}  parms = NULL;
1587   \textcolor{keywordflow}{for}  (modelIDX = 0;  modelIDX < numOfModels;  modelIDX++)
1588   \{
1589     parms = binaryParameters[modelIDX];
1590     \textcolor{keywordflow}{if}  ((parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} () == c1)  &&  (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} () == c2))
1591       \textcolor{keywordflow}{break};
1592 
1593     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ((parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a38ea0c5dd0416d6aef402befeaf7a220}{Class2} () == c1)  &&  (parms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_aa8519ac2f7f7e4553143e12786209415}{Class1} () == c2))
1594       \textcolor{keywordflow}{break};
1595   \}
1596 
1597   \textcolor{keywordflow}{if}  (modelIDX >= numOfModels)
1598   \{
1599     \textcolor{comment}{// Binary Combo not found.}
1600     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1601          << \textcolor{stringliteral}{"SVMModel::SupportVectorNames   ***ERROR***  Class1["} << c1->Name () << \textcolor{stringliteral}{"]  Class2["} << c2->
      Name () << \textcolor{stringliteral}{"]  not part of model."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
1602          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
1603     \textcolor{keywordflow}{return} results;
1604   \}
1605 
1606   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numSVs = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ae37947940a05ecebb1352b6f365b4050}{l};
1607   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  svIDX = 0;
1608   \textcolor{keywordflow}{for}  (svIDX = 0;  svIDX < numSVs;  svIDX++)
1609   \{
1610     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  svName = models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_aa21a0480268196554d0976bf73d059ed}{SupportVectorName} (svIDX);
1611     results.push\_back (svName);
1612   \}
1613   \textcolor{keywordflow}{return}  results;
1614 \}  \textcolor{comment}{/* SupportVectorNames */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Support\+Vector\+Statistics@{Support\+Vector\+Statistics}}
\index{Support\+Vector\+Statistics@{Support\+Vector\+Statistics}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Support\+Vector\+Statistics(kkint32 \&num\+S\+Vs, kkint32 \&total\+Num\+S\+Vs)}{SupportVectorStatistics(kkint32 &numSVs, kkint32 &totalNumSVs)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Support\+Vector\+Statistics (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{num\+S\+Vs, }
\item[{{\bf kkint32} \&}]{total\+Num\+S\+Vs}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_a99ee5740ffd57c8b04e467592fec4c18}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_a99ee5740ffd57c8b04e467592fec4c18}


Definition at line 1328 of file S\+V\+M\+Model.\+cpp.



References K\+K\+M\+L\+L\+::\+Binary\+Combos, S\+V\+M233\+::\+Svm\+Model233\+::l, K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type(), Num\+Of\+Support\+Vectors(), and S\+V\+M233\+::svm\+\_\+\+Get\+Support\+Vector\+Statistics().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Support\+Vector\+Statistics().


\begin{DoxyCode}
1331 \{
1332   numSVs = 0;
1333   totalNumSVs = 0;
1334   \textcolor{keywordflow}{if}  (models == NULL)
1335     \textcolor{keywordflow}{return};
1336 
1337   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos})
1338   \{
1339     numSVs = \hyperlink{class_k_k_m_l_l_1_1_s_v_m_model_af26af0c1556652910367e6ecbbfad390}{NumOfSupportVectors} ();
1340     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} modelIDX = 0;  modelIDX < numOfModels;  modelIDX++)
1341     \{
1342       totalNumSVs += models[modelIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ae37947940a05ecebb1352b6f365b4050}{l};
1343     \}
1344   \}
1345   \textcolor{keywordflow}{else}
1346   \{
1347     \hyperlink{namespace_s_v_m233_a2aca4dba9ab1088b2bf79c8e079dcb68}{svm\_GetSupportVectorStatistics} (models[0][0], numSVs, totalNumSVs);
1348   \}
1349 
1350 \}  \textcolor{comment}{/* SupportVectorStatistics */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!S\+V\+M\+Parameters@{S\+V\+M\+Parameters}}
\index{S\+V\+M\+Parameters@{S\+V\+M\+Parameters}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{S\+V\+M\+Parameters() const }{SVMParameters() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+V\+Mparam} const$\ast$ K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+S\+V\+M\+Parameters (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ada9d0b3d74b6958d36a315ba189e2c59}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ada9d0b3d74b6958d36a315ba189e2c59}


Definition at line 143 of file S\+V\+M\+Model.\+h.



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Description(), and K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Probabilities\+By\+Class().


\begin{DoxyCode}
143 \{\textcolor{keywordflow}{return} svmParam;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Training\+Time@{Training\+Time}}
\index{Training\+Time@{Training\+Time}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Training\+Time() const }{TrainingTime() const }}]{\setlength{\rightskip}{0pt plus 5cm}double K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Training\+Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_abaeeabe3857af6e74081b76bf8f93789}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_abaeeabe3857af6e74081b76bf8f93789}


Definition at line 150 of file S\+V\+M\+Model.\+h.


\begin{DoxyCode}
150 \{\textcolor{keywordflow}{return} trainingTime;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Valid\+Model@{Valid\+Model}}
\index{Valid\+Model@{Valid\+Model}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Valid\+Model() const }{ValidModel() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Valid\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_ad7a9840be2fc4bb5a08fb41fc2896315}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_ad7a9840be2fc4bb5a08fb41fc2896315}


Definition at line 152 of file S\+V\+M\+Model.\+h.



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Read\+X\+M\+L().


\begin{DoxyCode}
152 \{\textcolor{keywordflow}{return} validModel;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}!Write\+X\+ML@{Write\+X\+ML}}
\index{Write\+X\+ML@{Write\+X\+ML}!K\+K\+M\+L\+L\+::\+S\+V\+M\+Model@{K\+K\+M\+L\+L\+::\+S\+V\+M\+Model}}
\subsubsection[{\texorpdfstring{Write\+X\+M\+L(const K\+K\+Str \&var\+Name, std\+::ostream \&o) const }{WriteXML(const KKStr &varName, std::ostream &o) const }}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M\+Model\+::\+Write\+X\+ML (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{var\+Name, }
\item[{std\+::ostream \&}]{o}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_s_v_m_model_acb6a791944907884c0c5992c5215a42c}{}\label{class_k_k_m_l_l_1_1_s_v_m_model_acb6a791944907884c0c5992c5215a42c}


Definition at line 2354 of file S\+V\+M\+Model.\+cpp.



References K\+K\+B\+::\+Xml\+Element\+Key\+Value\+Pairs\+::\+Add(), K\+K\+B\+::\+Xml\+Tag\+::\+Add\+Atribute(), K\+K\+M\+L\+L\+::\+Binary\+Combos, K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class1\+Name(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+::\+Class2\+Name(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+K\+K\+Str\+::\+Empty(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Machine\+Type(), K\+K\+M\+L\+L\+::\+One\+Vs\+All, K\+K\+M\+L\+L\+::\+One\+Vs\+One, K\+K\+B\+::operator+(), K\+K\+B\+::os\+Get\+Local\+Date\+Time(), K\+K\+B\+::\+Str\+Format\+Int(), K\+K\+B\+::\+Xml\+Tag\+::tag\+End, K\+K\+B\+::\+Xml\+Tag\+::tag\+Start, K\+K\+M\+L\+L\+::\+Class\+Assignments\+::\+To\+String(), K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::\+To\+String(), S\+V\+M233\+::\+Svm\+Model233\+::\+Write\+X\+M\+L(), K\+K\+B\+::\+Xml\+Tag\+::\+Write\+X\+M\+L(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Write\+X\+M\+L(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Write\+X\+M\+L(), K\+K\+B\+::\+K\+K\+Str\+::\+Write\+X\+M\+L(), K\+K\+B\+::\+Xml\+Element\+Key\+Value\+Pairs\+::\+Write\+X\+M\+L(), K\+K\+B\+::\+Xml\+Element\+Key\+Value\+Pairs\+::\+Xml\+Element\+Key\+Value\+Pairs(), and K\+K\+B\+::\+Xml\+Tag\+::\+Xml\+Tag().



Referenced by K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Write\+X\+M\+L().


\begin{DoxyCode}
2357 \{
2358   \hyperlink{class_k_k_b_1_1_xml_tag}{XmlTag}  startTag (\textcolor{stringliteral}{"SVMModel"},  XmlTag::TagTypes::tagStart);
2359   \textcolor{keywordflow}{if}  (!varName.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ())
2360     startTag.AddAtribute (\textcolor{stringliteral}{"VarName"}, varName);
2361   startTag.WriteXML (o);
2362   o << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2363 
2364   \textcolor{keywordflow}{if}  (fileDesc)
2365     fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a52dd5520a36027eef50b4d7a613b6fba}{WriteXML} (\textcolor{stringliteral}{"FileDesc"}, o);
2366 
2367   \{
2368     \hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs}{XmlElementKeyValuePairs}*   headerFields = \textcolor{keyword}{new} 
      \hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs}{XmlElementKeyValuePairs} ();
2369 
2370     headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a183f57a4bf399567339851b93fa127c9}{Add} (\textcolor{stringliteral}{"RootFileName"},      rootFileName);
2371     headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a183f57a4bf399567339851b93fa127c9}{Add} (\textcolor{stringliteral}{"Time"},              \hyperlink{namespace_k_k_b_af54c205cde0465bcb2c74f3881a96413}{osGetLocalDateTime} ());
2372     headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a183f57a4bf399567339851b93fa127c9}{Add} (\textcolor{stringliteral}{"NumOfModels"},       numOfModels);
2373     \textcolor{keywordflow}{if}  (selectedFeatures)
2374       headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a183f57a4bf399567339851b93fa127c9}{Add} (\textcolor{stringliteral}{"SelectedFeatures"}, selectedFeatures->\hyperlink{class_k_k_m_l_l_1_1_feature_num_list_ac96d441218dc767332fff806b0103bc3}{ToString} ());
2375 
2376     headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a183f57a4bf399567339851b93fa127c9}{Add} (\textcolor{stringliteral}{"TrainingTime"},      trainingTime);
2377     headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a183f57a4bf399567339851b93fa127c9}{Add} (\textcolor{stringliteral}{"Assignments"},       assignments.\hyperlink{class_k_k_m_l_l_1_1_class_assignments_a43cfc29386642162927f4492d5be7abb}{ToString} ());
2378     headerFields->\hyperlink{class_k_k_b_1_1_xml_element_key_value_pairs_a4966d11afdfcd60157586c3ca56fcc5e}{WriteXML} (\textcolor{stringliteral}{"HeaderFields"}, o);
2379     \textcolor{keyword}{delete}  headerFields;
2380     headerFields = NULL;
2381   \}
2382   svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a1c5b624f8e72edde7bbe2c48f3b5af8e}{WriteXML} (\textcolor{stringliteral}{"svmParam"}, o);
2383 
2384   \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa2cb1a8e8122853731a8eb99f1bd56630}{SVM\_MachineType::OneVsOne})
2385   \{
2386     \textcolor{comment}{//  "<OneVsOne>"}
2387     rootFileName.\hyperlink{class_k_k_b_1_1_k_k_str_a7de8ac49f70cdcdf2cc31786d23b8a62}{WriteXML} (\textcolor{stringliteral}{"RootFileName"}, o);
2388     \textcolor{keywordflow}{if}  (models  &&  (models[0])  &&  models[0][0])
2389       models[0][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ab2d4f8e127af93158ca436d080e80f85}{WriteXML} (\textcolor{stringliteral}{"OneVsOneModel"}, o);
2390   \}
2391 
2392   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa0bf7132f9ec5b2de535b831afd3ae75c}{SVM\_MachineType::OneVsAll})
2393   \{
2394     \textcolor{comment}{// Not Supported}
2395   \}
2396 
2397   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (svmParam->\hyperlink{class_k_k_m_l_l_1_1_s_v_mparam_a30153e00007f9cf65343e0ad97ad61fb}{MachineType} () == \hyperlink{namespace_k_k_m_l_l_ad917464bc631109a3021cf02cd27af9aa01ad67463554c5f5552dcc6b5f4a553f}{SVM\_MachineType::BinaryCombos}
      )
2398   \{
2399     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  modelsIDX = 0;
2400 
2401     \textcolor{keywordflow}{for}  (modelsIDX = 0;  modelsIDX < numOfModels;  modelsIDX++)
2402     \{
2403       \hyperlink{class_k_k_m_l_l_1_1_binary_class_parms}{BinaryClassParmsPtr}  binClassParms = binaryParameters[modelsIDX];
2404       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  binaryClassNames (256);
2405       binaryClassNames << modelsIDX << \textcolor{stringliteral}{"\(\backslash\)t"} << binClassParms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_a2cc986dba48d87b704d539d00fe25c76}{Class1Name} () << \textcolor{stringliteral}{"\(\backslash\)t"}  << 
      binClassParms->\hyperlink{class_k_k_m_l_l_1_1_binary_class_parms_ac587f3be83bd1007dceb8224a977acf9}{Class2Name} ();
2406       binaryClassNames.\hyperlink{class_k_k_b_1_1_k_k_str_a7de8ac49f70cdcdf2cc31786d23b8a62}{WriteXML} (\textcolor{stringliteral}{"BinaryCombo"}, o);
2407       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  binaryComboModelName = \textcolor{stringliteral}{"BinaryComboModel\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (modelsIDX, \textcolor{stringliteral}{"000"});
2408       models[modelsIDX][0]->\hyperlink{struct_s_v_m233_1_1_svm_model233_ab2d4f8e127af93158ca436d080e80f85}{WriteXML} (binaryComboModelName, o);
2409     \}
2410   \}
2411 
2412   \hyperlink{class_k_k_b_1_1_xml_tag}{XmlTag}  endTag (\textcolor{stringliteral}{"SVMModel"}, XmlTag::TagTypes::tagEnd);
2413   endTag.WriteXML (o);
2414   o << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
2415 \}  \textcolor{comment}{/* WriteXML */}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_s_v_m_model_8h}{S\+V\+M\+Model.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_s_v_m_model_8cpp}{S\+V\+M\+Model.\+cpp}\end{DoxyCompactItemize}
