\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix}{}\section{K\+K\+M\+LL\+:\+:Classification\+Bias\+Matrix Class Reference}
\label{class_k_k_m_l_l_1_1_classification_bias_matrix}\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}


Assists in adjusting a Classifiers output for bias of a classifier.  




{\ttfamily \#include $<$Classification\+Bias\+Matrix.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} $\ast$ \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a62b9ebf8fa4f7669dec9248876945bff}{Classification\+Bias\+Matrix\+Ptr}
\item 
typedef \hyperlink{class_k_k_b_1_1_date_time}{K\+K\+B\+::\+Date\+Time} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a572e2991c935f630d576a87a5302f640}{Date\+Time}
\item 
typedef \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+B\+::\+K\+K\+Str} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a80f330b2f5e53d06e2a347b5e16f9f86}{K\+K\+Str}
\item 
typedef \hyperlink{class_k_k_b_1_1_matrix}{K\+K\+B\+::\+Matrix} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_aa42a3655845e9f5e464b49b044cdb11c}{Matrix}
\item 
typedef \hyperlink{namespace_k_k_b_a6e7c1ba6b19bffb29c885d2a62e7d235}{K\+K\+B\+::\+Matrix\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ae298f32248d959dfa0d806e13f2ddd71}{Matrix\+Ptr}
\item 
typedef \hyperlink{class_k_k_b_1_1_run_log}{K\+K\+B\+::\+Run\+Log} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{Run\+Log}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a12699ec8b195fde4b17c3c4e84b33e9d}{Classification\+Bias\+Matrix} (\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{Run\+Log} \&\+\_\+run\+Log)
\begin{DoxyCompactList}\small\item\em Will construct an instance as defined in the Paper. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_aec1e8c3b3c6d63816c7d1e5a878d33bb}{Classification\+Bias\+Matrix} (const \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} \&cbm)
\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a3db082018e09ace8488978def90f92af}{Classification\+Bias\+Matrix} (\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&classes, \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{Run\+Log} \&\+\_\+run\+Log)
\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_aa0961390599cf7c869dc1c00da3dd660}{Classification\+Bias\+Matrix} (const \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a80f330b2f5e53d06e2a347b5e16f9f86}{K\+K\+Str} \&\+\_\+config\+File\+Name, \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+classes, \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{Run\+Log} \&\+\_\+run\+Log)
\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} instance from the parameter file for \textquotesingle{}\+\_\+config\+File\+Name\textquotesingle{}. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ae9be1266ba3a172af394b9e9400bff98}{Classification\+Bias\+Matrix} (const \hyperlink{class_k_k_m_l_l_1_1_confusion_matrix2}{Confusion\+Matrix2} \&cm, \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{Run\+Log} \&\+\_\+run\+Log)
\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} instance from a Confusion\+Matrix object. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a1dd58ef3fcf69e8372ed9acfc177f5ae}{$\sim$\+Classification\+Bias\+Matrix} ()
\item 
\hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a572e2991c935f630d576a87a5302f640}{Date\+Time} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab225f6b96456c89e3e0b67f6003be7ec}{Date\+Time\+File\+Written} () const 
\item 
void \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a4d57dd2cd586fae99f5cd3912f1cda04}{Perform\+Adjustmnts} (const \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{Vector\+Double} \&classified\+Counts, \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{Vector\+Double} \&adj\+Counts, \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{Vector\+Double} \&std\+Errors)
\item 
void \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_acac3b5cbcffffeb06acd539fa7eb452a}{Print\+Adjusted\+Results} (ostream \&sw, const \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{Vector\+Double} \&classified\+Counts)
\item 
void \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a0d1cc871ca38ea9cbb952fcf1704fc38}{Print\+Bias\+Matrix} (ostream \&sw)
\item 
void \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a3235009599809810e11d3cdf36b9a1d0}{Test\+Paper\+Results} (ostream \&sw)
\item 
void \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a7e072997a3195f48c7aaf7016f9b2bbd}{Write\+X\+ML} (ostream \&o)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a62b9ebf8fa4f7669dec9248876945bff}{Classification\+Bias\+Matrix\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_aef44fdb90d915eb9518304e5a527573d}{Build\+From\+Istream\+X\+ML} (istream \&f, \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&classes, \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{Run\+Log} \&log)
\begin{DoxyCompactList}\small\item\em Will construct a \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} instance from a input stream. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Assists in adjusting a Classifiers output for bias of a classifier. 

See the paper\+: 
\begin{DoxyCode}
\textcolor{stringliteral}{"Estimating the Taxonomic composition of a sample when individuals are classified with error"}
by Andrew Solow, Cabll Davis, Qiao Hu
Woods Hole Ocanographic Institution, Woods Hole Massachusetts
Marine Ecology Progresss Series
published 2006-july-06;  vol 216:309-311
\end{DoxyCode}
 This class uses the results of a previous 10 fold cross validation confusion matrix to adjust the results of a classification run. The application \hyperlink{class_k_k_m_l_l_1_1_cross_validation}{Cross\+Validation} will create a parameter file in the directory \char`\"{}\$\{xxxxx\+Home\+Dir\}\textbackslash{}\textbackslash{}\+Classifier\textbackslash{}\textbackslash{}\+Training\+Models\textbackslash{}\textbackslash{}\+Save\char`\"{} that contains the confusion matrix. The option \char`\"{}-\/\+Bias\+Matrix\char`\"{} tells the \hyperlink{class_k_k_m_l_l_1_1_cross_validation}{Cross\+Validation} program to generate this parameter file. It will have the same name as the Configuration file with the extension \char`\"{}.\+Bias\+Matrix.\+txt\char`\"{} appended to the end. There is a managed version of this class in Pices\+Interface called Pices\+Interface\+::\+Classification\+Bias\+Matrix 

Definition at line 44 of file Classification\+Bias\+Matrix.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Classification\+Bias\+Matrix\+Ptr@{Classification\+Bias\+Matrix\+Ptr}}
\index{Classification\+Bias\+Matrix\+Ptr@{Classification\+Bias\+Matrix\+Ptr}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Classification\+Bias\+Matrix\+Ptr}{ClassificationBiasMatrixPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Classification\+Bias\+Matrix}$\ast$ {\bf K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+Classification\+Bias\+Matrix\+Ptr}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a62b9ebf8fa4f7669dec9248876945bff}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a62b9ebf8fa4f7669dec9248876945bff}


Definition at line 47 of file Classification\+Bias\+Matrix.\+h.

\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Date\+Time@{Date\+Time}}
\index{Date\+Time@{Date\+Time}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Date\+Time}{DateTime}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf K\+K\+B\+::\+Date\+Time} {\bf K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+Date\+Time}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a572e2991c935f630d576a87a5302f640}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a572e2991c935f630d576a87a5302f640}


Definition at line 51 of file Classification\+Bias\+Matrix.\+h.

\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!K\+K\+Str@{K\+K\+Str}}
\index{K\+K\+Str@{K\+K\+Str}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{K\+K\+Str}{KKStr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf K\+K\+B\+::\+K\+K\+Str} {\bf K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+K\+K\+Str}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a80f330b2f5e53d06e2a347b5e16f9f86}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a80f330b2f5e53d06e2a347b5e16f9f86}


Definition at line 50 of file Classification\+Bias\+Matrix.\+h.

\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Matrix@{Matrix}}
\index{Matrix@{Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Matrix}{Matrix}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf K\+K\+B\+::\+Matrix} {\bf K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+Matrix}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_aa42a3655845e9f5e464b49b044cdb11c}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_aa42a3655845e9f5e464b49b044cdb11c}


Definition at line 52 of file Classification\+Bias\+Matrix.\+h.

\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Matrix\+Ptr@{Matrix\+Ptr}}
\index{Matrix\+Ptr@{Matrix\+Ptr}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Matrix\+Ptr}{MatrixPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf K\+K\+B\+::\+Matrix\+Ptr} {\bf K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+Matrix\+Ptr}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_ae298f32248d959dfa0d806e13f2ddd71}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_ae298f32248d959dfa0d806e13f2ddd71}


Definition at line 53 of file Classification\+Bias\+Matrix.\+h.

\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Run\+Log@{Run\+Log}}
\index{Run\+Log@{Run\+Log}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Run\+Log}{RunLog}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf K\+K\+B\+::\+Run\+Log} {\bf K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+Run\+Log}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_ab6fc6dde0c82d6a5420851c07efb6184}


Definition at line 49 of file Classification\+Bias\+Matrix.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}}
\index{Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Classification\+Bias\+Matrix(\+Run\+Log \&\+\_\+run\+Log)}{ClassificationBiasMatrix(RunLog &_runLog)}}]{\setlength{\rightskip}{0pt plus 5cm}Classification\+Bias\+Matrix\+::\+Classification\+Bias\+Matrix (
\begin{DoxyParamCaption}
\item[{{\bf Run\+Log} \&}]{\+\_\+run\+Log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a12699ec8b195fde4b17c3c4e84b33e9d}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a12699ec8b195fde4b17c3c4e84b33e9d}


Will construct an instance as defined in the Paper. 



Definition at line 159 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+B\+::\+Date\+Time\+::\+Date\+Time(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+M\+L\+Class\+List(), and K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str().


\begin{DoxyCode}
159                                                                    :
160    biasFileName        (),
161    classes             (\textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{MLClassList} ()),
162    configFileName      (),
163    configFileNameFromMatrixBiasFile (),
164    configDateTime      (),
165    counts              (NULL),
166    dateTimeFileWritten (),
167    errMsgs             (),
168    numClasses          (0),
169    probabilities       (NULL),
170    runLog              (\_runLog),
171    valid               (\textcolor{keyword}{true})
172 \{
173   BuildTestMatrix ();
174 
175   \textcolor{comment}{//ofstream  sw ("c:\(\backslash\)\(\backslash\)Temp\(\backslash\)\(\backslash\)ClassificationBiasMatrix\_Test.txt");}
176   \textcolor{comment}{//TestPaperResults (sw);}
177   \textcolor{comment}{//sw.close ();}
178 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}}
\index{Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Classification\+Bias\+Matrix(const Classification\+Bias\+Matrix \&cbm)}{ClassificationBiasMatrix(const ClassificationBiasMatrix &cbm)}}]{\setlength{\rightskip}{0pt plus 5cm}Classification\+Bias\+Matrix\+::\+Classification\+Bias\+Matrix (
\begin{DoxyParamCaption}
\item[{const {\bf Classification\+Bias\+Matrix} \&}]{cbm}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_aec1e8c3b3c6d63816c7d1e5a878d33bb}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_aec1e8c3b3c6d63816c7d1e5a878d33bb}


Definition at line 84 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+B\+::\+Date\+Time\+::\+Date\+Time(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+B\+::\+Matrix\+::\+Matrix(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+M\+L\+Class\+List(), and K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str().


\begin{DoxyCode}
84                                                                                         :
85    biasFileName        (cbm.biasFileName),
86    classes             (NULL),
87    configFileName      (cbm.configFileName),
88    configFileNameFromMatrixBiasFile (cbm.configFileNameFromMatrixBiasFile),
89    configDateTime      (cbm.configDateTime),
90    counts              (NULL),
91    dateTimeFileWritten (cbm.dateTimeFileWritten),
92    errMsgs             (),
93    numClasses          (cbm.numClasses),
94    probabilities       (NULL),
95    runLog              (cbm.runLog),
96    valid               (\textcolor{keyword}{true})
97 
98 \{
99   \textcolor{keywordflow}{if}  (cbm.counts)
100     counts = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_aa42a3655845e9f5e464b49b044cdb11c}{Matrix} (*cbm.counts);
101 
102   \textcolor{keywordflow}{if}  (cbm.classes)
103     classes = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{MLClassList} (*cbm.classes);
104 
105   \textcolor{keywordflow}{if}  (cbm.probabilities)
106     probabilities = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_aa42a3655845e9f5e464b49b044cdb11c}{Matrix} (*cbm.probabilities);
107 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}}
\index{Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Classification\+Bias\+Matrix(\+M\+L\+Class\+List \&classes, Run\+Log \&\+\_\+run\+Log)}{ClassificationBiasMatrix(MLClassList &classes, RunLog &_runLog)}}]{\setlength{\rightskip}{0pt plus 5cm}Classification\+Bias\+Matrix\+::\+Classification\+Bias\+Matrix (
\begin{DoxyParamCaption}
\item[{{\bf M\+L\+Class\+List} \&}]{classes, }
\item[{{\bf Run\+Log} \&}]{\+\_\+run\+Log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a3db082018e09ace8488978def90f92af}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a3db082018e09ace8488978def90f92af}


Definition at line 136 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+B\+::\+Date\+Time\+::\+Date\+Time(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+M\+L\+Class\+List(), and K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str().



Referenced by Build\+From\+Istream\+X\+M\+L().


\begin{DoxyCode}
138                                                     :
139    biasFileName        (),
140    classes             (\textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{MLClassList} (\_classes)),
141    configFileName      (),
142    configFileNameFromMatrixBiasFile (),
143    configDateTime      (),
144    counts              (NULL),
145    dateTimeFileWritten (),
146    errMsgs             (),
147    numClasses          (0),
148    probabilities       (NULL),
149    runLog              (\_runLog),
150    valid               (\textcolor{keyword}{true})
151 
152 \{
153   numClasses = classes->\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();
154   DeclareMatrix ();
155 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}}
\index{Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Classification\+Bias\+Matrix(const K\+K\+Str \&\+\_\+config\+File\+Name, M\+L\+Class\+List \&\+\_\+classes, Run\+Log \&\+\_\+run\+Log)}{ClassificationBiasMatrix(const KKStr &_configFileName, MLClassList &_classes, RunLog &_runLog)}}]{\setlength{\rightskip}{0pt plus 5cm}Classification\+Bias\+Matrix\+::\+Classification\+Bias\+Matrix (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+config\+File\+Name, }
\item[{{\bf M\+L\+Class\+List} \&}]{\+\_\+classes, }
\item[{{\bf Run\+Log} \&}]{\+\_\+run\+Log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_aa0961390599cf7c869dc1c00da3dd660}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_aa0961390599cf7c869dc1c00da3dd660}


Construct a \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} instance from the parameter file for \textquotesingle{}\+\_\+config\+File\+Name\textquotesingle{}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+config\+File\+Name} & The name of the Bias\+Matrix file will be derived from the configuration file name. the term \textquotesingle{}\+\_\+\+Bias\+Matrix.\+txt\textquotesingle{} will be appended onto the end. \\
\hline
\mbox{\tt in}  & {\em \+\_\+classes} & List of classes that you are expecting to be in the \textquotesingle{}Bias\+Matrix\textquotesingle{} file. \\
\hline
\mbox{\tt in,out}  & {\em \+\_\+run\+Log} & Logging file to use. \\
\hline
\end{DoxyParams}


Definition at line 34 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+B\+::\+Date\+Time\+::\+Date\+Time(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+M\+L\+Class\+List(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::\+K\+K\+Str\+::operator=(), K\+K\+B\+::os\+Remove\+Extension(), and K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str().


\begin{DoxyCode}
37                                                     :
38    biasFileName        (),
39    classes             (\textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{MLClassList} (\_classes)),
40    configFileName      (\_configFileName),
41    configFileNameFromMatrixBiasFile (),
42    configDateTime      (),
43    counts              (NULL),
44    dateTimeFileWritten (),
45    errMsgs             (),
46    numClasses          (0),
47    probabilities       (NULL),
48    runLog              (\_runLog),
49    valid               (\textcolor{keyword}{true})
50 \{
51   biasFileName = \hyperlink{namespace_k_k_b_a13b1a6f4e074969602dbe4bf9022a9c6}{osRemoveExtension} (configFileName) + \textcolor{stringliteral}{".BiasMatrix.txt"};
52 
53   ifstream  sr (biasFileName.\hyperlink{class_k_k_b_1_1_k_k_str_ad574e6c0fe7f6ce1ba3ab0a8ce2fbd52}{Str} ());
54 
55   \textcolor{keywordflow}{if}  (!sr.is\_open ())
56   \{
57     valid = \textcolor{keyword}{false};
58     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errorMsg = \textcolor{stringliteral}{"Error opening ConfigFileName["} + configFileName + \textcolor{stringliteral}{"]"};
59     errMsgs.push\_back (errorMsg);
60     \textcolor{keywordflow}{return};
61   \}
62 
63   DeclareMatrix ();
64 
65   \textcolor{keywordflow}{try}
66   \{
67     ReadXML (sr);
68   \}
69   \textcolor{keywordflow}{catch}  (\textcolor{keyword}{const} exception& e)
70   \{
71     valid = \textcolor{keyword}{false};
72     errMsgs.push\_back (e.what ());
73   \}
74   \textcolor{keywordflow}{catch} (...)
75   \{
76     valid = \textcolor{keyword}{false};
77     errMsgs.push\_back (\textcolor{stringliteral}{"ClassificationBiasMatrix    Exception occurred reading XML File"});
78   \}
79   sr.close ();
80 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}}
\index{Classification\+Bias\+Matrix@{Classification\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Classification\+Bias\+Matrix(const Confusion\+Matrix2 \&cm, Run\+Log \&\+\_\+run\+Log)}{ClassificationBiasMatrix(const ConfusionMatrix2 &cm, RunLog &_runLog)}}]{\setlength{\rightskip}{0pt plus 5cm}Classification\+Bias\+Matrix\+::\+Classification\+Bias\+Matrix (
\begin{DoxyParamCaption}
\item[{const {\bf Confusion\+Matrix2} \&}]{cm, }
\item[{{\bf Run\+Log} \&}]{\+\_\+run\+Log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_ae9be1266ba3a172af394b9e9400bff98}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_ae9be1266ba3a172af394b9e9400bff98}


Construct a \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} instance from a Confusion\+Matrix object. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cm} & Confusion Matrix to get parameters from. \\
\hline
\mbox{\tt in,out}  & {\em \+\_\+run\+Log} & Logging file to use. \\
\hline
\end{DoxyParams}


Definition at line 112 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+B\+::\+Date\+Time\+::\+Date\+Time(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+Confusion\+Matrix2\+::\+M\+L\+Classes(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+M\+L\+Class\+List(), and K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str().


\begin{DoxyCode}
114                                                      :
115    biasFileName        (),
116    classes             (NULL),
117    configFileName      (),
118    configFileNameFromMatrixBiasFile (),
119    configDateTime      (),
120    counts              (NULL),
121    dateTimeFileWritten (),
122    errMsgs             (),
123    numClasses          (0),
124    probabilities       (NULL),
125    runLog              (\_runLog),
126    valid               (\textcolor{keyword}{true})
127 \{
128   classes = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{MLClassList} (cm.\hyperlink{class_k_k_m_l_l_1_1_confusion_matrix2_a3ffbf4a67a233073c85772d5e70b3a82}{MLClasses} ());
129   numClasses = classes->\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ();
130   DeclareMatrix ();
131   BuildFromConfusionMatrix (cm);
132 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!````~Classification\+Bias\+Matrix@{$\sim$\+Classification\+Bias\+Matrix}}
\index{````~Classification\+Bias\+Matrix@{$\sim$\+Classification\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{$\sim$\+Classification\+Bias\+Matrix()}{~ClassificationBiasMatrix()}}]{\setlength{\rightskip}{0pt plus 5cm}Classification\+Bias\+Matrix\+::$\sim$\+Classification\+Bias\+Matrix (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a1dd58ef3fcf69e8372ed9acfc177f5ae}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a1dd58ef3fcf69e8372ed9acfc177f5ae}


Definition at line 183 of file Classification\+Bias\+Matrix.\+cpp.


\begin{DoxyCode}
184 \{
185   \textcolor{keyword}{delete}  probabilities;
186   probabilities = NULL;
187   \textcolor{keyword}{delete}  counts;
188   counts = NULL;
189   \textcolor{keyword}{delete}  classes;
190   classes = NULL;
191 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Build\+From\+Istream\+X\+ML@{Build\+From\+Istream\+X\+ML}}
\index{Build\+From\+Istream\+X\+ML@{Build\+From\+Istream\+X\+ML}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Build\+From\+Istream\+X\+M\+L(istream \&f, M\+L\+Class\+List \&classes, Run\+Log \&log)}{BuildFromIstreamXML(istream &f, MLClassList &classes, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Classification\+Bias\+Matrix\+Ptr} Classification\+Bias\+Matrix\+::\+Build\+From\+Istream\+X\+ML (
\begin{DoxyParamCaption}
\item[{istream \&}]{f, }
\item[{{\bf M\+L\+Class\+List} \&}]{classes, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_aef44fdb90d915eb9518304e5a527573d}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_aef44fdb90d915eb9518304e5a527573d}


Will construct a \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{Classification\+Bias\+Matrix} instance from a input stream. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em f} & Input Stream. \\
\hline
\mbox{\tt in}  & {\em classes} & List of classes we expect to find in the input stream f. \\
\hline
\mbox{\tt in,out}  & {\em log} & Logging File. \\
\hline
\end{DoxyParams}


Definition at line 195 of file Classification\+Bias\+Matrix.\+cpp.



References Classification\+Bias\+Matrix().


\begin{DoxyCode}
199 \{
200   \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix}{ClassificationBiasMatrixPtr} cbm = \textcolor{keyword}{new} 
      \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a12699ec8b195fde4b17c3c4e84b33e9d}{ClassificationBiasMatrix} (classes, log);
201   cbm->ReadXML (f);
202   \textcolor{keywordflow}{return}  cbm;
203 \}  \textcolor{comment}{/* BuildFromIstreamXML */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Date\+Time\+File\+Written@{Date\+Time\+File\+Written}}
\index{Date\+Time\+File\+Written@{Date\+Time\+File\+Written}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Date\+Time\+File\+Written() const }{DateTimeFileWritten() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Date\+Time} K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix\+::\+Date\+Time\+File\+Written (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_ab225f6b96456c89e3e0b67f6003be7ec}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_ab225f6b96456c89e3e0b67f6003be7ec}


Definition at line 105 of file Classification\+Bias\+Matrix.\+h.


\begin{DoxyCode}
105 \{\textcolor{keywordflow}{return}  dateTimeFileWritten;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Perform\+Adjustmnts@{Perform\+Adjustmnts}}
\index{Perform\+Adjustmnts@{Perform\+Adjustmnts}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Perform\+Adjustmnts(const Vector\+Double \&classified\+Counts, Vector\+Double \&adj\+Counts, Vector\+Double \&std\+Errors)}{PerformAdjustmnts(const VectorDouble &classifiedCounts, VectorDouble &adjCounts, VectorDouble &stdErrors)}}]{\setlength{\rightskip}{0pt plus 5cm}void Classification\+Bias\+Matrix\+::\+Perform\+Adjustmnts (
\begin{DoxyParamCaption}
\item[{const {\bf Vector\+Double} \&}]{classified\+Counts, }
\item[{{\bf Vector\+Double} \&}]{adj\+Counts, }
\item[{{\bf Vector\+Double} \&}]{std\+Errors}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a4d57dd2cd586fae99f5cd3912f1cda04}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a4d57dd2cd586fae99f5cd3912f1cda04}


Definition at line 565 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+B\+::\+Matrix\+::\+Inverse(), K\+K\+B\+::\+Matrix\+::\+Matrix(), K\+K\+B\+::\+Matrix\+::operator$\ast$(), K\+K\+B\+::\+Matrix\+::operator\mbox{[}$\,$\mbox{]}(), K\+K\+B\+::\+Row\+::operator\mbox{[}$\,$\mbox{]}(), and K\+K\+B\+::\+Matrix\+::\+Transpose().



Referenced by Print\+Adjusted\+Results().


\begin{DoxyCode}
569 \{
570   \textcolor{comment}{// For description of calc's see the paper: }
571   \textcolor{comment}{//    "Estimating the Taxonomic composition of a sample when individuals are classified with error"}
572   \textcolor{comment}{//     by Andrew Solow, Cabll Davis, Qiao Hu}
573   \textcolor{comment}{//     Woods Hole Oceanographic Institution, Woods Hole Massachusetts}
574   \textcolor{comment}{//     Marine Ecology Progress Series}
575   \textcolor{comment}{//     published 2006-july-06;  vol 216:309-311}
576 
577   \textcolor{keywordflow}{if}  (classifiedCounts.size () != (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})numClasses)
578   \{
579     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"ClassificationBiasMatrix::PerformAdjustmnts  ***ERROR***   Disagreement in length
       of classifiedCounts["} + 
580                    \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})classifiedCounts.size (), \textcolor{stringliteral}{"ZZZ0"}) + 
581                    \textcolor{stringliteral}{"]  and Prev Defined ClassList["} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (numClasses, \textcolor{stringliteral}{"ZZZ0"}) + \textcolor{stringliteral}{"]."};
582     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
583     valid = \textcolor{keyword}{false};
584     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
585   \}
586 
587   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;
588   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  i, j, k;
589 
590 
591   \textcolor{comment}{// We need to deal with the special case when one entry in the probability diagonal is zero.}
592   \{
593     \textcolor{keywordflow}{for} (x = 0;  x < numClasses;  x++)
594     \{
595       \textcolor{keywordflow}{if}  ((*probabilities)[x][x] == 0.0)
596       \{
597         \textcolor{comment}{// This will cause the inversion of the diagonal matrix to fail.  To deal}
598         \textcolor{comment}{// with this situation; I will steal some probability from other buckets on }
599         \textcolor{comment}{// same row.}
600 
601         \textcolor{keywordtype}{double}  totalAmtStolen = 0.0;
602         \textcolor{keywordtype}{double}  percentToSteal = 0.01;
603         \textcolor{keywordflow}{for} (i = 0;  i < numClasses;  i++)
604         \{
605           \textcolor{keywordflow}{if}  ((*probabilities)[x][i] != 0.0)
606           \{
607             \textcolor{keywordtype}{double} amtToSteal = (*probabilities)[x][i] * percentToSteal;
608             (*probabilities)[x][i] = (*probabilities)[x][i] - amtToSteal;
609             totalAmtStolen += amtToSteal;
610           \}
611         \}
612 
613         (*probabilities)[x][x] = totalAmtStolen;
614       \}
615     \}
616   \}
617 
618   \hyperlink{class_k_k_b_1_1_matrix}{Matrix}  m (numClasses, 1);
619   \textcolor{keywordflow}{for}  (x = 0;  x < numClasses;  x++)
620     m[x][0] = classifiedCounts[x];
621 
622   \hyperlink{class_k_k_b_1_1_matrix}{Matrix}  transposed = probabilities->\hyperlink{class_k_k_b_1_1_matrix_af9b74b284027c584dc75ae674e65f58d}{Transpose} ();
623   \hyperlink{class_k_k_b_1_1_matrix}{Matrix}  Q = transposed.\hyperlink{class_k_k_b_1_1_matrix_ac1e575ac083839c44cd50f56e627a320}{Inverse} ();
624   \hyperlink{class_k_k_b_1_1_matrix}{Matrix}  n = Q * m;
625 
626   \hyperlink{class_k_k_b_1_1_matrix}{Matrix}  varM (numClasses, numClasses);
627   \textcolor{keywordflow}{for}  (j = 0;  j < numClasses;  j++)
628   \{
629     \textcolor{keywordtype}{double}  varM\_j = 0.0;
630     \textcolor{keywordflow}{for}  (i = 0;  i < numClasses;  i++)
631     \{
632       \textcolor{keywordtype}{double}  p = (*probabilities)[i][j];
633       varM\_j += n[i][0] * p * (1.0 - p);
634     \}
635     varM[j][j] = varM\_j;
636   \}
637 
638   \textcolor{keywordflow}{for} (j = 0;  j < numClasses;  j++)
639   \{
640     \textcolor{keywordflow}{for}  (k = 0;  k < numClasses;  k++)
641     \{
642       \textcolor{keywordflow}{if}  (j != k)
643       \{
644         \textcolor{keywordtype}{double}  covM\_jk = 0.0;
645         \textcolor{keywordflow}{for}  (i = 0;  i < numClasses;  i++)
646           covM\_jk -= n[i][0] * (*probabilities)[i][j] * (*probabilities)[j][k];
647         varM[j][k] = covM\_jk;
648       \}
649     \}
650   \}
651 
652   \hyperlink{class_k_k_b_1_1_matrix}{Matrix}  varN = Q * varM * Q.\hyperlink{class_k_k_b_1_1_matrix_af9b74b284027c584dc75ae674e65f58d}{Transpose} ();
653 
654   adjCounts.clear ();
655   stdErrors.clear ();
656     
657   \textcolor{keywordflow}{for}  (x = 0;  x < numClasses;  x++)
658   \{
659     adjCounts.push\_back (n[x][0]);
660     stdErrors.push\_back (sqrt (varN[x][x]));
661   \}
662 
663   \textcolor{keywordflow}{return};
664 \}  \textcolor{comment}{/* PerformAdjustmnts */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Print\+Adjusted\+Results@{Print\+Adjusted\+Results}}
\index{Print\+Adjusted\+Results@{Print\+Adjusted\+Results}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Print\+Adjusted\+Results(ostream \&sw, const Vector\+Double \&classified\+Counts)}{PrintAdjustedResults(ostream &sw, const VectorDouble &classifiedCounts)}}]{\setlength{\rightskip}{0pt plus 5cm}void Classification\+Bias\+Matrix\+::\+Print\+Adjusted\+Results (
\begin{DoxyParamCaption}
\item[{ostream \&}]{sw, }
\item[{const {\bf Vector\+Double} \&}]{classified\+Counts}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_acac3b5cbcffffeb06acd539fa7eb452a}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_acac3b5cbcffffeb06acd539fa7eb452a}


Definition at line 741 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Extract\+Three\+Title\+Lines(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), and Perform\+Adjustmnts().


\begin{DoxyCode}
744 \{
745   \textcolor{keywordflow}{if}  (classifiedCounts.size () != (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})numClasses)
746   \{
747     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ClassificationBiasMatrix::PrintAdjustedResults  ***ERROR***    Number of entries
       in 'classifiedCounts' not equal the number of classes"};
748     cerr << \textcolor{stringliteral}{"ClassificationBiasMatrix::PrintAdjustedResults  ***ERROR***  "} << errMsg << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
749     valid = \textcolor{keyword}{false};
750     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
751   \}
752 
753   \textcolor{keywordflow}{try}
754   \{
755     \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}   adjustedReults;
756     \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}   stdErrors;
757     
758     \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a4d57dd2cd586fae99f5cd3912f1cda04}{PerformAdjustmnts} (classifiedCounts, adjustedReults, stdErrors);
759 
760     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  tl1, tl2, tl3;
761     classes->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list_ab333df46b706048637bb7b98ef552f59}{ExtractThreeTitleLines} (tl1, tl2, tl3);
762     sw << \textcolor{stringliteral}{""}             << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{"\(\backslash\)t"} << tl1 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
763     sw << \textcolor{stringliteral}{""}             << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{"\(\backslash\)t"} << tl2 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
764     sw << \textcolor{stringliteral}{"Description"}  << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{"\(\backslash\)t"} << tl3 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
765    
766     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
767 
768     sw << \textcolor{stringliteral}{"Classified Results"} << \textcolor{stringliteral}{"\(\backslash\)t"};
769     \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
770       sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (classifiedCounts[col], \textcolor{stringliteral}{"Z,ZZZ,ZZ0.0"});
771     sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
772 
773     sw << \textcolor{stringliteral}{"Adjusted Results"} << \textcolor{stringliteral}{"\(\backslash\)t"};
774     \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
775       sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (adjustedReults[col], \textcolor{stringliteral}{"Z,ZZZ,ZZ0.0"});
776     sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
777 
778     sw << \textcolor{stringliteral}{"Standard Errors"} << \textcolor{stringliteral}{"\(\backslash\)t"};
779     \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
780       sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (stdErrors[col], \textcolor{stringliteral}{"Z,ZZZ,ZZ0.0"});
781     sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
782   \}
783   \textcolor{keywordflow}{catch}  (\hyperlink{class_k_k_b_1_1_k_k_exception}{KKException}&  e)
784   \{
785     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ClassificationBiasMatrix::PrintAdjustedResults   ***ERROR***  KKException"};
786     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << errMsg << endl << e.\hyperlink{class_k_k_b_1_1_k_k_exception_a9d565e887e90968c5e306c1ea94c6894}{ToString} () << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
787     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg, e);
788   \}
789   \textcolor{keywordflow}{catch}  (std::exception& e2)
790   \{
791     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ClassificationBiasMatrix::PrintAdjustedResults   ***ERROR***  std::exception"};
792     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << errMsg << endl << e2.what() << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
793     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg, e2);
794   \}
795   \textcolor{keywordflow}{catch}  (...)
796   \{
797     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ClassificationBiasMatrix::PrintAdjustedResults   ***ERROR***  Exception(...)"};
798     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
799     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
800   \}
801 \}  \textcolor{comment}{/* PrintAdjustedResults */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Print\+Bias\+Matrix@{Print\+Bias\+Matrix}}
\index{Print\+Bias\+Matrix@{Print\+Bias\+Matrix}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Print\+Bias\+Matrix(ostream \&sw)}{PrintBiasMatrix(ostream &sw)}}]{\setlength{\rightskip}{0pt plus 5cm}void Classification\+Bias\+Matrix\+::\+Print\+Bias\+Matrix (
\begin{DoxyParamCaption}
\item[{ostream \&}]{sw}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a0d1cc871ca38ea9cbb952fcf1704fc38}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a0d1cc871ca38ea9cbb952fcf1704fc38}


Definition at line 668 of file Classification\+Bias\+Matrix.\+cpp.



References K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Extract\+Three\+Title\+Lines(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+Matrix\+::operator\mbox{[}$\,$\mbox{]}(), and K\+K\+B\+::\+Row\+::operator\mbox{[}$\,$\mbox{]}().



Referenced by Test\+Paper\+Results().


\begin{DoxyCode}
669 \{
670   \textcolor{keywordflow}{if}  (classes == NULL)
671   \{
672     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg = \textcolor{stringliteral}{"ClassificationBiasMatrix::PrintBiasMatrix  ***ERROR***   'Classes' not defined; 
       this indicates that this object was not properly initialized."};
673     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
674     valid = \textcolor{keyword}{false};
675     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
676   \}
677 
678   sw << \textcolor{stringliteral}{"BiasMatrix File Name            ["} << biasFileName                     << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
679      << \textcolor{stringliteral}{"Date Bias Matrix was Created    ["} << dateTimeFileWritten              << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
680      << \textcolor{stringliteral}{"Configuration File Name         ["} << configFileName                   << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
681      << \textcolor{stringliteral}{"ConfigFile Used for Bias Matrix ["} << configFileNameFromMatrixBiasFile << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
682      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
683      << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
684 
685   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  tl1, tl2, tl3;
686 
687   classes->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list_ab333df46b706048637bb7b98ef552f59}{ExtractThreeTitleLines} (tl1, tl2, tl3);
688   \{
689     sw << \textcolor{stringliteral}{""}      << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{""}      << \textcolor{stringliteral}{"\(\backslash\)t"} << tl1 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
690     sw << \textcolor{stringliteral}{"Class"} << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{""}      << \textcolor{stringliteral}{"\(\backslash\)t"} << tl2 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
691     sw << \textcolor{stringliteral}{"Name"}  << \textcolor{stringliteral}{"\(\backslash\)t"} << \textcolor{stringliteral}{"Count"} << \textcolor{stringliteral}{"\(\backslash\)t"} << tl3 << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
692   \}
693 
694   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;
695   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
696   
697   \textcolor{keywordtype}{double}  total = 0.0;
698 
699   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}  colTotals (numClasses, 0.0);
700   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}  rowTotals (numClasses, 0.0);
701 
702   \textcolor{keywordflow}{for}  (row = 0;  row < numClasses;  row++)
703   \{
704     \textcolor{keywordtype}{double}  rowTotal = 0;
705     \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
706     \{
707       rowTotal += (*counts)[row][col];
708       colTotals[col] += (*counts)[row][col];
709     \}
710     rowTotals[row] = rowTotal;
711 
712     sw << (*classes)[row].Name () << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (rowTotal, \textcolor{stringliteral}{"zzz,zz0.00"});
713     \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
714       sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} ((*counts)[row][col], \textcolor{stringliteral}{"###,##0.00"});
715     sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
716     total += rowTotal;
717   \}
718   sw << \textcolor{stringliteral}{"Total"} << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (total, \textcolor{stringliteral}{"###,##0.00"});
719   \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
720      sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (colTotals[col], \textcolor{stringliteral}{"ZZZ,ZZ0.00"});
721   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
722  
723   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
724  
725   \textcolor{keywordflow}{for}  (row = 0; row < numClasses;  row++)
726   \{
727     sw << (*classes)[row].Name ();
728     \textcolor{keywordtype}{double}  rowPercent = 100.0 * rowTotals[row] / total;
729     sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (rowPercent, \textcolor{stringliteral}{"ZZ0.0000"}) + \textcolor{stringliteral}{"%"};
730 
731     \textcolor{keywordflow}{for}  (col = 0;  col < numClasses;  col++)
732       sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (100.0 * (*probabilities)[row][col], \textcolor{stringliteral}{"ZZZ,ZZ0.00"}) << \textcolor{stringliteral}{"%
      "};
733     sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
734   \}
735   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
736 \}  \textcolor{comment}{/* PrintBiasMatrix */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Test\+Paper\+Results@{Test\+Paper\+Results}}
\index{Test\+Paper\+Results@{Test\+Paper\+Results}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Test\+Paper\+Results(ostream \&sw)}{TestPaperResults(ostream &sw)}}]{\setlength{\rightskip}{0pt plus 5cm}void Classification\+Bias\+Matrix\+::\+Test\+Paper\+Results (
\begin{DoxyParamCaption}
\item[{ostream \&}]{sw}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a3235009599809810e11d3cdf36b9a1d0}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a3235009599809810e11d3cdf36b9a1d0}


Definition at line 264 of file Classification\+Bias\+Matrix.\+cpp.



References Print\+Bias\+Matrix().


\begin{DoxyCode}
265 \{
266   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble} classCounts (7, 0.0);
267   classCounts[0] = 2891;
268   classCounts[1] = 1965;
269   classCounts[2] = 495;
270   classCounts[3] = 1399;
271   classCounts[4] = 676; 
272   classCounts[5] = 1191;
273   classCounts[6] = 1752;
274 
275   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}   adjCounts; 
276   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}   stdErrors;
277 
278   \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a4d57dd2cd586fae99f5cd3912f1cda04}{PerformAdjustmnts} (classCounts, adjCounts, stdErrors);
279 
280   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x = 0;
281 
282   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
283 
284   \hyperlink{class_k_k_m_l_l_1_1_classification_bias_matrix_a0d1cc871ca38ea9cbb952fcf1704fc38}{PrintBiasMatrix} (sw);
285 
286   sw << endl << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
287 
288   sw << \textcolor{stringliteral}{"Desc"};
289   \textcolor{keywordflow}{for}  (x = 0;  x < 7;  x++)
290     sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (x, \textcolor{stringliteral}{"ZZ0"});
291   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
292 
293   sw << \textcolor{stringliteral}{"ClassifiedCounts"};
294   \textcolor{keywordflow}{for}  (x = 0;  x < 7;  x++)
295     sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (classCounts[x], \textcolor{stringliteral}{"ZZ,ZZ0.0"});
296   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
297 
298   sw << \textcolor{stringliteral}{"adjCounts"};
299   \textcolor{keywordflow}{for}  (x = 0;  x < 7;  x++)
300     sw  << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (adjCounts[x], \textcolor{stringliteral}{"ZZZ,ZZ0.0"});
301   sw << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
302 
303   sw << \textcolor{stringliteral}{"stdErrors"};
304   \textcolor{keywordflow}{for}  (x = 0;  x < 7;  x++)
305     sw << \textcolor{stringliteral}{"\(\backslash\)t"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} (stdErrors[x], \textcolor{stringliteral}{"ZZ,ZZ0.0"});
306 
307   sw << endl << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
308 \}  \textcolor{comment}{/* TestPaperResults*/}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}!Write\+X\+ML@{Write\+X\+ML}}
\index{Write\+X\+ML@{Write\+X\+ML}!K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix@{K\+K\+M\+L\+L\+::\+Classification\+Bias\+Matrix}}
\subsubsection[{\texorpdfstring{Write\+X\+M\+L(ostream \&o)}{WriteXML(ostream &o)}}]{\setlength{\rightskip}{0pt plus 5cm}void Classification\+Bias\+Matrix\+::\+Write\+X\+ML (
\begin{DoxyParamCaption}
\item[{ostream \&}]{o}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_classification_bias_matrix_a7e072997a3195f48c7aaf7016f9b2bbd}{}\label{class_k_k_m_l_l_1_1_classification_bias_matrix_a7e072997a3195f48c7aaf7016f9b2bbd}


Definition at line 487 of file Classification\+Bias\+Matrix.\+cpp.


\begin{DoxyCode}
488 \{
489   o << \textcolor{stringliteral}{"<ClassificationBiasMatrix>"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
490 
491   o << \textcolor{stringliteral}{"BiasFileName"} << \textcolor{stringliteral}{"\(\backslash\)t"} << biasFileName << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
492 
493   \textcolor{keywordflow}{if}  ((!classes)  ||  (!counts)  ||  (!probabilities))
494   \{
495     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \textcolor{stringliteral}{"ClassificationBiasMatrix::WriteXML    ***ERROR***   Not all data is defined.
      "} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
496     \textcolor{keywordflow}{return};
497   \}
498 
499   \textcolor{keywordflow}{if}  ((numClasses != classes->\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ())  ||  
500        (numClasses != counts->\hyperlink{class_k_k_b_1_1_matrix_adb748900cbb5c55303eb71c682b0089f}{NumOfRows}  ())  ||  
501        (numClasses != probabilities->\hyperlink{class_k_k_b_1_1_matrix_adb748900cbb5c55303eb71c682b0089f}{NumOfRows} ())
502       )
503   \{
504     runLog.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \textcolor{stringliteral}{"ClassificationBiasMatrix::WriteXML    ***ERROR***   Disagreement in variable
       dimensions."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
505     \textcolor{keywordflow}{return};
506   \}
507 
508   o << \textcolor{stringliteral}{"NumClasses"}          << \textcolor{stringliteral}{"\(\backslash\)t"} << numClasses                      << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
509   o << \textcolor{stringliteral}{"Classes"}             << \textcolor{stringliteral}{"\(\backslash\)t"} << classes->\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list_a2842ee0f0a658c29988b02bf5cbe19d7}{ToCommaDelimitedStr} () << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
510   o << \textcolor{stringliteral}{"ConfigFileName"}      << \textcolor{stringliteral}{"\(\backslash\)t"} << configFileName                  << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
511   o << \textcolor{stringliteral}{"ConfigDateTime"}      << \textcolor{stringliteral}{"\(\backslash\)t"} << configDateTime                  << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
512   o << \textcolor{stringliteral}{"DateTimeFileWritten"} << \textcolor{stringliteral}{"\(\backslash\)t"} << dateTimeFileWritten             << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
513 
514   o << \textcolor{stringliteral}{"<SimpleConfusionMatrix>"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
515   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} rowIdx = 0;  rowIdx < numClasses;  rowIdx++)
516   \{
517     o << \textcolor{stringliteral}{"DataRow"}                  << \textcolor{stringliteral}{"\(\backslash\)t"} 
518       << (*classes)[rowIdx].Name () << \textcolor{stringliteral}{"\(\backslash\)t"};
519 
520     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} colIdx = 0;  colIdx < numClasses;  colIdx++)
521     \{
522       \textcolor{keywordflow}{if}  (colIdx > 0)
523         o << \textcolor{stringliteral}{","};
524       o << ((*counts)[rowIdx][colIdx]) << \textcolor{stringliteral}{":"} << \hyperlink{namespace_k_k_b_a1a40a40e955fa5417a7cdd990e0021b1}{StrFormatDouble} ((*probabilities)[rowIdx][
      colIdx], \textcolor{stringliteral}{"ZZ0.0000"});
525     \}
526     o << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
527   \}
528 
529   o << \textcolor{stringliteral}{"</SimpleConfusionMatrix>"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
530 
531   o << \textcolor{stringliteral}{"</ClassificationBiasMatrix>"}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
532 
533 \}  \textcolor{comment}{/* WriteXML */}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_classification_bias_matrix_8h}{Classification\+Bias\+Matrix.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_classification_bias_matrix_8cpp}{Classification\+Bias\+Matrix.\+cpp}\end{DoxyCompactItemize}
