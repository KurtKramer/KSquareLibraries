\hypertarget{class_s_v_m233_1_1_solver}{}\section{S\+V\+M233\+:\+:Solver Class Reference}
\label{class_s_v_m233_1_1_solver}\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
Inheritance diagram for S\+V\+M233\+:\+:Solver\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_s_v_m233_1_1_solver}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_s_v_m233_1_1_solver_1_1_solution_info}{Solution\+Info}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_s_v_m233_1_1_solver_a9b14539a3db38b9127000f73b35d39fc}{Solver} ()
\item 
virtual \hyperlink{class_s_v_m233_1_1_solver_a91ca99776c17141c1a5ab4ba2cc2dc0c}{$\sim$\+Solver} ()
\item 
void \hyperlink{class_s_v_m233_1_1_solver_a311741b5b976facb36d49110b0a8fa9a}{Solve} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}, const \hyperlink{class_s_v_m233_1_1_kernel}{Kernel} \&\hyperlink{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{Q}, const double $\ast$b\+\_\+, const \hyperlink{namespace_s_v_m233_afb4ec48497a25626275d52266ac9d7d8}{schar} $\ast$y\+\_\+, double $\ast$alpha\+\_\+, double Cp, double Cn, double \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps}, \hyperlink{struct_s_v_m233_1_1_solver_1_1_solution_info}{Solution\+Info} $\ast$si, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} shrinking)
\item 
void \hyperlink{class_s_v_m233_1_1_solver_a97fd3737bfad95bdce3bb35fa894ff4b}{Solve} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}, const \hyperlink{class_s_v_m233_1_1_kernel}{Kernel} \&\hyperlink{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{Q}, const double $\ast$b\+\_\+, const \hyperlink{namespace_s_v_m233_afb4ec48497a25626275d52266ac9d7d8}{schar} $\ast$y\+\_\+, double $\ast$alpha\+\_\+, double $\ast$C\+\_\+, double \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps}, \hyperlink{struct_s_v_m233_1_1_solver_1_1_solution_info}{Solution\+Info} $\ast$si, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} shrinking)
\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa564c861d6783d9e64c559b7a843e9c47}{L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND}, 
\hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa5c2ee4859d9c24409ccc71736245f617}{U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND}, 
\hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fac13ca8c90dd94d7ebc0325ad0896fd38}{F\+R\+EE}
 \}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual double \hyperlink{class_s_v_m233_1_1_solver_a13eb797fa25522e9fcb3ed9f2d8c6b75}{calculate\+\_\+rho} ()
\item 
virtual void \hyperlink{class_s_v_m233_1_1_solver_a53a70e8c7d704fd1df943d8ccbdf7558}{do\+\_\+shrinking} ()
\item 
double \hyperlink{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}{get\+\_\+C} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i)
\item 
bool \hyperlink{class_s_v_m233_1_1_solver_a33c89aff34ffee2a9c8eab39f66ab7ae}{is\+\_\+free} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i)
\item 
bool \hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\+\_\+lower\+\_\+bound} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i)
\item 
bool \hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\+\_\+upper\+\_\+bound} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i)
\item 
void \hyperlink{class_s_v_m233_1_1_solver_a21d6f3b1705e3c52f4dd46889eea473e}{reconstruct\+\_\+gradient} ()
\item 
virtual \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m233_1_1_solver_ae0275309f3d4ae9dccf0843bb944cc76}{select\+\_\+working\+\_\+set} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&i, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&j)
\item 
void \hyperlink{class_s_v_m233_1_1_solver_a416ad5ff13353d12ee210bf287c8cddc}{swap\+\_\+index} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j)
\item 
void \hyperlink{class_s_v_m233_1_1_solver_a867866316d6029b4e9f1c22376bd1e0f}{update\+\_\+alpha\+\_\+status} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$ \hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\+\_\+set}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\+\_\+size}
\item 
double $\ast$ \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}
\item 
char $\ast$ \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\+\_\+status}
\item 
double $\ast$ \hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}
\item 
double $\ast$ \hyperlink{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{C}
\item 
double \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps}
\item 
double $\ast$ \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}
\item 
double $\ast$ \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\+\_\+bar}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}
\item 
const \hyperlink{class_s_v_m233_1_1_kernel}{Kernel} $\ast$ \hyperlink{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{Q}
\item 
bool \hyperlink{class_s_v_m233_1_1_solver_a5cf7673b38cdd6d71056e904ec1cb6b9}{unshrinked}
\item 
\hyperlink{namespace_s_v_m233_afb4ec48497a25626275d52266ac9d7d8}{schar} $\ast$ \hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 532 of file svm.\+cpp.



\subsection{Member Enumeration Documentation}
\subsubsection[{\texorpdfstring{anonymous enum}{anonymous enum}}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72f}{}\label{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72f}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND@{L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND@{L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND}}\item[{\em 
L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND\hypertarget{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa564c861d6783d9e64c559b7a843e9c47}{}\label{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa564c861d6783d9e64c559b7a843e9c47}
}]\index{U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND@{U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND@{U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND}}\item[{\em 
U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND\hypertarget{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa5c2ee4859d9c24409ccc71736245f617}{}\label{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa5c2ee4859d9c24409ccc71736245f617}
}]\index{F\+R\+EE@{F\+R\+EE}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!F\+R\+EE@{F\+R\+EE}}\item[{\em 
F\+R\+EE\hypertarget{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fac13ca8c90dd94d7ebc0325ad0896fd38}{}\label{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fac13ca8c90dd94d7ebc0325ad0896fd38}
}]\end{description}
\end{Desc}


Definition at line 573 of file svm.\+cpp.


\begin{DoxyCode}
573 \{\hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa564c861d6783d9e64c559b7a843e9c47}{LOWER\_BOUND}, \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa5c2ee4859d9c24409ccc71736245f617}{UPPER\_BOUND}, \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fac13ca8c90dd94d7ebc0325ad0896fd38}{FREE}\};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!Solver@{Solver}}
\index{Solver@{Solver}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{Solver()}{Solver()}}]{\setlength{\rightskip}{0pt plus 5cm}S\+V\+M233\+::\+Solver\+::\+Solver (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_s_v_m233_1_1_solver_a9b14539a3db38b9127000f73b35d39fc}{}\label{class_s_v_m233_1_1_solver_a9b14539a3db38b9127000f73b35d39fc}


Definition at line 535 of file svm.\+cpp.


\begin{DoxyCode}
535 \{\};
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!````~Solver@{$\sim$\+Solver}}
\index{````~Solver@{$\sim$\+Solver}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{$\sim$\+Solver()}{~Solver()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual S\+V\+M233\+::\+Solver\+::$\sim$\+Solver (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{class_s_v_m233_1_1_solver_a91ca99776c17141c1a5ab4ba2cc2dc0c}{}\label{class_s_v_m233_1_1_solver_a91ca99776c17141c1a5ab4ba2cc2dc0c}


Definition at line 536 of file svm.\+cpp.


\begin{DoxyCode}
536 \{\};
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!calculate\+\_\+rho@{calculate\+\_\+rho}}
\index{calculate\+\_\+rho@{calculate\+\_\+rho}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{calculate\+\_\+rho()}{calculate_rho()}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M233\+::\+Solver\+::calculate\+\_\+rho (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{class_s_v_m233_1_1_solver_a13eb797fa25522e9fcb3ed9f2d8c6b75}{}\label{class_s_v_m233_1_1_solver_a13eb797fa25522e9fcb3ed9f2d8c6b75}


Definition at line 2348 of file svm.\+cpp.



References active\+\_\+size, G, is\+\_\+lower\+\_\+bound(), is\+\_\+upper\+\_\+bound(), and y.



Referenced by Solve().


\begin{DoxyCode}
2349 \{
2350   \textcolor{keywordtype}{double} r;
2351   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} nr\_free = 0;
2352   \textcolor{keywordtype}{double} ub = \hyperlink{svm_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}{INF}, lb = -\hyperlink{svm_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}{INF}, sum\_free = 0;
2353   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i = 0;  i < \hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};  i++)
2354   \{
2355     \textcolor{keywordtype}{double} yG = \hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i]*\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i];
2356 
2357     \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\_lower\_bound}(i))
2358     \{
2359       \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i] > 0)
2360         ub = \hyperlink{namespace_s_v_m233_a1ffcc19cad97bf20039eaa77c0040425}{min}(ub,yG);
2361       \textcolor{keywordflow}{else}
2362         lb = \hyperlink{namespace_s_v_m233_af89e72ffe29dd42949c494bc4ec751e6}{max}(lb,yG);
2363     \}
2364     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(i))
2365     \{
2366       \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i] < 0)
2367         ub = \hyperlink{namespace_s_v_m233_a1ffcc19cad97bf20039eaa77c0040425}{min}(ub,yG);
2368       \textcolor{keywordflow}{else}
2369         lb = \hyperlink{namespace_s_v_m233_af89e72ffe29dd42949c494bc4ec751e6}{max}(lb,yG);
2370     \}
2371     \textcolor{keywordflow}{else}
2372     \{
2373       ++nr\_free;
2374       sum\_free += yG;
2375     \}
2376   \}
2377 
2378   \textcolor{keywordflow}{if}(nr\_free>0)
2379     r = sum\_free/nr\_free;
2380   \textcolor{keywordflow}{else}
2381     r = (ub+lb)/2;
2382 
2383   \textcolor{keywordflow}{return} r;
2384 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!do\+\_\+shrinking@{do\+\_\+shrinking}}
\index{do\+\_\+shrinking@{do\+\_\+shrinking}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{do\+\_\+shrinking()}{do_shrinking()}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Solver\+::do\+\_\+shrinking (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{class_s_v_m233_1_1_solver_a53a70e8c7d704fd1df943d8ccbdf7558}{}\label{class_s_v_m233_1_1_solver_a53a70e8c7d704fd1df943d8ccbdf7558}


Definition at line 2276 of file svm.\+cpp.



References active\+\_\+size, eps, G, is\+\_\+lower\+\_\+bound(), is\+\_\+upper\+\_\+bound(), l, reconstruct\+\_\+gradient(), select\+\_\+working\+\_\+set(), swap\+\_\+index(), unshrinked, and y.



Referenced by Solve().


\begin{DoxyCode}
2277 \{
2278   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i,j,k;
2279   \textcolor{keywordflow}{if}  (\hyperlink{class_s_v_m233_1_1_solver_ae0275309f3d4ae9dccf0843bb944cc76}{select\_working\_set} (i,j) != 0) 
2280     \textcolor{keywordflow}{return};
2281 
2282   \textcolor{keywordtype}{double} Gm1 = -\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[j]*\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[j];
2283   \textcolor{keywordtype}{double} Gm2 = \hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i]*G[i];
2284 
2285   \textcolor{comment}{// shrink}
2286 
2287   \textcolor{keywordflow}{for}  (k = 0;  k < \hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};  k++)
2288   \{
2289     \textcolor{keywordflow}{if}  (\hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\_lower\_bound} (k))
2290     \{
2291       \textcolor{keywordflow}{if}  (\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[k]==+1)
2292       \{
2293         \textcolor{keywordflow}{if}(-G[k] >= Gm1) \textcolor{keywordflow}{continue};
2294       \}
2295       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (-G[k] >= Gm2) \textcolor{keywordflow}{continue};
2296     \}
2297     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (\hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(k))
2298     \{
2299       \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[k]==+1)
2300       \{
2301         \textcolor{keywordflow}{if}(G[k] >= Gm2) \textcolor{keywordflow}{continue};
2302       \}
2303       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(G[k] >= Gm1) \textcolor{keywordflow}{continue};
2304     \}
2305     \textcolor{keywordflow}{else} \textcolor{keywordflow}{continue};
2306 
2307     --\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};
2308     \hyperlink{class_s_v_m233_1_1_solver_a416ad5ff13353d12ee210bf287c8cddc}{swap\_index}(k,active\_size);
2309     --k;  \textcolor{comment}{// look at the newcomer}
2310   \}
2311 
2312   \textcolor{comment}{// unshrink, check all variables again before final iterations}
2313 
2314   \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a5cf7673b38cdd6d71056e904ec1cb6b9}{unshrinked} || -(Gm1 + Gm2) > \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps}*10) \textcolor{keywordflow}{return};
2315 
2316   \hyperlink{class_s_v_m233_1_1_solver_a5cf7673b38cdd6d71056e904ec1cb6b9}{unshrinked} = \textcolor{keyword}{true};
2317   \hyperlink{class_s_v_m233_1_1_solver_a21d6f3b1705e3c52f4dd46889eea473e}{reconstruct\_gradient}();
2318 
2319   \textcolor{keywordflow}{for}(k=\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}-1;k>=\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};k--)
2320   \{
2321     \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\_lower\_bound}(k))
2322     \{
2323       \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[k]==+1)
2324       \{
2325         \textcolor{keywordflow}{if}(-G[k] < Gm1) \textcolor{keywordflow}{continue};
2326       \}
2327       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(-G[k] < Gm2) \textcolor{keywordflow}{continue};
2328     \}
2329     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(k))
2330     \{
2331       \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[k]==+1)
2332       \{
2333         \textcolor{keywordflow}{if}(G[k] < Gm2) \textcolor{keywordflow}{continue};
2334       \}
2335       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(G[k] < Gm1) \textcolor{keywordflow}{continue};
2336     \}
2337     \textcolor{keywordflow}{else} \textcolor{keywordflow}{continue};
2338 
2339     \hyperlink{class_s_v_m233_1_1_solver_a416ad5ff13353d12ee210bf287c8cddc}{swap\_index}(k,active\_size);
2340     active\_size++;
2341     ++k;  \textcolor{comment}{// look at the newcomer}
2342   \}
2343 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!get\+\_\+C@{get\+\_\+C}}
\index{get\+\_\+C@{get\+\_\+C}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{get\+\_\+\+C(kkint32 i)}{get_C(kkint32 i)}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M233\+::\+Solver\+::get\+\_\+C (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}{}\label{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}


Definition at line 585 of file svm.\+cpp.



References C.



Referenced by Solve(), and update\+\_\+alpha\+\_\+status().


\begin{DoxyCode}
586     \{
587       \textcolor{keywordflow}{return} \hyperlink{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{C}[i];
588     \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!is\+\_\+free@{is\+\_\+free}}
\index{is\+\_\+free@{is\+\_\+free}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{is\+\_\+free(kkint32 i)}{is_free(kkint32 i)}}]{\setlength{\rightskip}{0pt plus 5cm}bool S\+V\+M233\+::\+Solver\+::is\+\_\+free (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a33c89aff34ffee2a9c8eab39f66ab7ae}{}\label{class_s_v_m233_1_1_solver_a33c89aff34ffee2a9c8eab39f66ab7ae}


Definition at line 603 of file svm.\+cpp.



References alpha\+\_\+status, and F\+R\+EE.



Referenced by reconstruct\+\_\+gradient().


\begin{DoxyCode}
603 \{ \textcolor{keywordflow}{return} \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i] == \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fac13ca8c90dd94d7ebc0325ad0896fd38}{FREE}; \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!is\+\_\+lower\+\_\+bound@{is\+\_\+lower\+\_\+bound}}
\index{is\+\_\+lower\+\_\+bound@{is\+\_\+lower\+\_\+bound}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{is\+\_\+lower\+\_\+bound(kkint32 i)}{is_lower_bound(kkint32 i)}}]{\setlength{\rightskip}{0pt plus 5cm}bool S\+V\+M233\+::\+Solver\+::is\+\_\+lower\+\_\+bound (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{}\label{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}


Definition at line 602 of file svm.\+cpp.



References alpha\+\_\+status, and L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND.



Referenced by calculate\+\_\+rho(), do\+\_\+shrinking(), select\+\_\+working\+\_\+set(), and Solve().


\begin{DoxyCode}
602 \{ \textcolor{keywordflow}{return} \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i] == \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa564c861d6783d9e64c559b7a843e9c47}{LOWER\_BOUND}; \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!is\+\_\+upper\+\_\+bound@{is\+\_\+upper\+\_\+bound}}
\index{is\+\_\+upper\+\_\+bound@{is\+\_\+upper\+\_\+bound}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{is\+\_\+upper\+\_\+bound(kkint32 i)}{is_upper_bound(kkint32 i)}}]{\setlength{\rightskip}{0pt plus 5cm}bool S\+V\+M233\+::\+Solver\+::is\+\_\+upper\+\_\+bound (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{}\label{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}


Definition at line 601 of file svm.\+cpp.



References alpha\+\_\+status, and U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND.



Referenced by calculate\+\_\+rho(), do\+\_\+shrinking(), select\+\_\+working\+\_\+set(), and Solve().


\begin{DoxyCode}
601 \{ \textcolor{keywordflow}{return} \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i] == \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa5c2ee4859d9c24409ccc71736245f617}{UPPER\_BOUND}; \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!reconstruct\+\_\+gradient@{reconstruct\+\_\+gradient}}
\index{reconstruct\+\_\+gradient@{reconstruct\+\_\+gradient}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{reconstruct\+\_\+gradient()}{reconstruct_gradient()}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Solver\+::reconstruct\+\_\+gradient (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a21d6f3b1705e3c52f4dd46889eea473e}{}\label{class_s_v_m233_1_1_solver_a21d6f3b1705e3c52f4dd46889eea473e}


Definition at line 1897 of file svm.\+cpp.



References active\+\_\+size, alpha, b, G, G\+\_\+bar, S\+V\+M233\+::\+Kernel\+::get\+\_\+\+Q(), is\+\_\+free(), l, and Q.



Referenced by do\+\_\+shrinking(), and Solve().


\begin{DoxyCode}
1898 \{
1899   \textcolor{comment}{// reconstruct inactive elements of G from G\_bar and free variables}
1900 
1901   \textcolor{keywordflow}{if}  (\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size} == \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}) 
1902     \textcolor{keywordflow}{return};
1903 
1904   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
1905   \textcolor{keywordflow}{for}(i=\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
1906     \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] = \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[i] + \hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}[i];
1907 
1908   \textcolor{keywordflow}{for}(i=0;i<\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};i++)
1909     \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a33c89aff34ffee2a9c8eab39f66ab7ae}{is\_free}(i))
1910     \{
1911       \textcolor{keyword}{const} \hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} *Q\_i = \hyperlink{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{Q}->\hyperlink{class_s_v_m233_1_1_kernel_ab300ecdac57b04f74f4f279bc4e60c33}{get\_Q}(i,l);
1912       \textcolor{keywordtype}{double} alpha\_i = \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i];
1913       \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j=active\_size;j<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};j++)
1914         \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[j] += alpha\_i * Q\_i[j];
1915     \}
1916 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!select\+\_\+working\+\_\+set@{select\+\_\+working\+\_\+set}}
\index{select\+\_\+working\+\_\+set@{select\+\_\+working\+\_\+set}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{select\+\_\+working\+\_\+set(kkint32 \&i, kkint32 \&j)}{select_working_set(kkint32 &i, kkint32 &j)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M233\+::\+Solver\+::select\+\_\+working\+\_\+set (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{i, }
\item[{{\bf kkint32} \&}]{j}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{class_s_v_m233_1_1_solver_ae0275309f3d4ae9dccf0843bb944cc76}{}\label{class_s_v_m233_1_1_solver_ae0275309f3d4ae9dccf0843bb944cc76}


Definition at line 2212 of file svm.\+cpp.



References active\+\_\+size, eps, G, is\+\_\+lower\+\_\+bound(), is\+\_\+upper\+\_\+bound(), and y.



Referenced by do\+\_\+shrinking(), and Solve().


\begin{DoxyCode}
2213 \{
2214   \textcolor{comment}{// return i,j which maximize -grad(f)^T d , under constraint}
2215   \textcolor{comment}{// if alpha\_i == C, d != +1}
2216   \textcolor{comment}{// if alpha\_i == 0, d != -1}
2217 
2218   \textcolor{keywordtype}{double} Gmax1 = -\hyperlink{svm_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}{INF};  \textcolor{comment}{// max \{ -grad(f)\_i * d | y\_i*d = +1 \}}
2219   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} Gmax1\_idx = -1;
2220 
2221   \textcolor{keywordtype}{double} Gmax2 = -\hyperlink{svm_8cpp_a12c2040f25d8e3a7b9e1c2024c618cb6}{INF};  \textcolor{comment}{// max \{ -grad(f)\_i * d | y\_i*d = -1 \}}
2222   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} Gmax2\_idx = -1;
2223 
2224   \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};i++)
2225   \{
2226     \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i]==+1)  \textcolor{comment}{// y = +1}
2227     \{
2228       \textcolor{keywordflow}{if}(!\hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(i))  \textcolor{comment}{// d = +1}
2229       \{
2230         \textcolor{keywordflow}{if}(-\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] > Gmax1)
2231         \{
2232           Gmax1 = -\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i];
2233           Gmax1\_idx = i;
2234         \}
2235       \}
2236       \textcolor{keywordflow}{if}(!\hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\_lower\_bound}(i))  \textcolor{comment}{// d = -1}
2237       \{
2238         \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] > Gmax2)
2239         \{
2240           Gmax2 = \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i];
2241           Gmax2\_idx = i;
2242         \}
2243       \}
2244     \}
2245     \textcolor{keywordflow}{else}  \textcolor{comment}{// y = -1}
2246     \{
2247       \textcolor{keywordflow}{if}(!\hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(i))  \textcolor{comment}{// d = +1}
2248       \{
2249         \textcolor{keywordflow}{if}(-\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] > Gmax2)
2250         \{
2251           Gmax2 = -\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i];
2252           Gmax2\_idx = i;
2253         \}
2254       \}
2255       \textcolor{keywordflow}{if}(!\hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\_lower\_bound}(i))  \textcolor{comment}{// d = -1}
2256       \{
2257         \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] > Gmax1)
2258         \{
2259           Gmax1 = \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i];
2260           Gmax1\_idx = i;
2261         \}
2262       \}
2263     \}
2264   \}
2265 
2266   \textcolor{keywordflow}{if}(Gmax1+Gmax2 < \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps})
2267     \textcolor{keywordflow}{return} 1;
2268 
2269   out\_i = Gmax1\_idx;
2270   out\_j = Gmax2\_idx;
2271   \textcolor{keywordflow}{return} 0;
2272 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!Solve@{Solve}}
\index{Solve@{Solve}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{Solve(kkint32 l, const Kernel \&\+Q, const double $\ast$b\+\_\+, const schar $\ast$y\+\_\+, double $\ast$alpha\+\_\+, double Cp, double Cn, double eps, Solution\+Info $\ast$si, kkint32 shrinking)}{Solve(kkint32 l, const Kernel &Q, const double *b_, const schar *y_, double *alpha_, double Cp, double Cn, double eps, SolutionInfo *si, kkint32 shrinking)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Solver\+::\+Solve (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{l, }
\item[{const {\bf Kernel} \&}]{Q, }
\item[{const double $\ast$}]{b\+\_\+, }
\item[{const {\bf schar} $\ast$}]{y\+\_\+, }
\item[{double $\ast$}]{alpha\+\_\+, }
\item[{double}]{Cp, }
\item[{double}]{Cn, }
\item[{double}]{eps, }
\item[{{\bf Solution\+Info} $\ast$}]{si, }
\item[{{\bf kkint32}}]{shrinking}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m233_1_1_solver_a311741b5b976facb36d49110b0a8fa9a}{}\label{class_s_v_m233_1_1_solver_a311741b5b976facb36d49110b0a8fa9a}


Definition at line 2186 of file svm.\+cpp.



References Solve(), S\+V\+M233\+::\+Solver\+::\+Solution\+Info\+::upper\+\_\+bound\+\_\+n, and S\+V\+M233\+::\+Solver\+::\+Solution\+Info\+::upper\+\_\+bound\+\_\+p.



Referenced by S\+V\+M233\+::\+Solver\+\_\+\+N\+U\+::\+Solve(), S\+V\+M233\+::solve\+\_\+c\+\_\+svc(), S\+V\+M233\+::solve\+\_\+epsilon\+\_\+svr(), and S\+V\+M233\+::solve\+\_\+one\+\_\+class().


\begin{DoxyCode}
2197 \{
2198   \textcolor{keywordtype}{double}* C\_ = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}];
2199   \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
2200     C\_[i] = (y\_[i] > 0 ? Cp : Cn);
2201 
2202   \hyperlink{class_s_v_m233_1_1_solver_a311741b5b976facb36d49110b0a8fa9a}{Solve} (l, Q, b\_, y\_, alpha\_, C\_, \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps}, si, shrinking);
2203 
2204   si->upper\_bound\_p = Cp;
2205   si->upper\_bound\_n = Cn;
2206   \textcolor{keyword}{delete} [] C\_;
2207 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!Solve@{Solve}}
\index{Solve@{Solve}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{Solve(kkint32 l, const Kernel \&\+Q, const double $\ast$b\+\_\+, const schar $\ast$y\+\_\+, double $\ast$alpha\+\_\+, double $\ast$\+C\+\_\+, double eps, Solution\+Info $\ast$si, kkint32 shrinking)}{Solve(kkint32 l, const Kernel &Q, const double *b_, const schar *y_, double *alpha_, double *C_, double eps, SolutionInfo *si, kkint32 shrinking)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Solver\+::\+Solve (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{l, }
\item[{const {\bf Kernel} \&}]{Q, }
\item[{const double $\ast$}]{b\+\_\+, }
\item[{const {\bf schar} $\ast$}]{y\+\_\+, }
\item[{double $\ast$}]{alpha\+\_\+, }
\item[{double $\ast$}]{C\+\_\+, }
\item[{double}]{eps, }
\item[{{\bf Solution\+Info} $\ast$}]{si, }
\item[{{\bf kkint32}}]{shrinking}
\end{DoxyParamCaption}
)}\hypertarget{class_s_v_m233_1_1_solver_a97fd3737bfad95bdce3bb35fa894ff4b}{}\label{class_s_v_m233_1_1_solver_a97fd3737bfad95bdce3bb35fa894ff4b}


Definition at line 1920 of file svm.\+cpp.



References active\+\_\+set, active\+\_\+size, alpha, alpha\+\_\+status, b, C, calculate\+\_\+rho(), do\+\_\+shrinking(), eps, G, G\+\_\+bar, get\+\_\+\+C(), S\+V\+M233\+::\+Kernel\+::get\+\_\+\+Q(), S\+V\+M233\+::info(), S\+V\+M233\+::info\+\_\+flush(), is\+\_\+lower\+\_\+bound(), is\+\_\+upper\+\_\+bound(), l, S\+V\+M233\+::\+Solver\+::\+Solution\+Info\+::obj, Q, reconstruct\+\_\+gradient(), S\+V\+M233\+::\+Solver\+::\+Solution\+Info\+::rho, select\+\_\+working\+\_\+set(), unshrinked, update\+\_\+alpha\+\_\+status(), and y.



Referenced by Solve(), and S\+V\+M233\+::solve\+\_\+c\+\_\+svc().


\begin{DoxyCode}
1930 \{
1931   this->\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l} = \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};
1932   this->Q = &\hyperlink{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{Q};
1933   \hyperlink{namespace_s_v_m233_a042890ae5011103ccc6062a677cff472}{clone} (\hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}, b\_,\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l});
1934   \hyperlink{namespace_s_v_m233_a042890ae5011103ccc6062a677cff472}{clone} (\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}, y\_,\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l});
1935   \hyperlink{namespace_s_v_m233_a042890ae5011103ccc6062a677cff472}{clone} (\hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha},alpha\_,\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l});
1936   \hyperlink{namespace_s_v_m233_a042890ae5011103ccc6062a677cff472}{clone} (\hyperlink{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{C}, C\_, \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l});
1937   this->\hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps} = \hyperlink{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{eps};
1938   \hyperlink{class_s_v_m233_1_1_solver_a5cf7673b38cdd6d71056e904ec1cb6b9}{unshrinked} = \textcolor{keyword}{false};
1939 
1940   \textcolor{comment}{// initialize alpha\_status}
1941   \{
1942     \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status} = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}];
1943     \textcolor{keywordflow}{for} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)\{
1944       \hyperlink{class_s_v_m233_1_1_solver_a867866316d6029b4e9f1c22376bd1e0f}{update\_alpha\_status}(i);
1945     \}
1946   \}
1947 
1948   \textcolor{comment}{// initialize active set (for shrinking)}
1949   \{
1950     \hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\_set} = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}];
1951     \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
1952       \hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\_set}[i] = i;
1953     \hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size} = \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};
1954   \}
1955 
1956   \textcolor{comment}{// initialize gradient}
1957   \{
1958     \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}];
1959     \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar} = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l}];
1960     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
1961     \textcolor{keywordflow}{for}(i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
1962     \{
1963       \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] = \hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}[i];
1964       \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[i] = 0;
1965     \}
1966     \textcolor{keywordflow}{for} (i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
1967       \textcolor{keywordflow}{if}  (!\hyperlink{class_s_v_m233_1_1_solver_a4385cbb679a61f75e464f545e8f1b7b9}{is\_lower\_bound}(i))
1968       \{
1969         \hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} *Q\_i = Q.\hyperlink{class_s_v_m233_1_1_kernel_ab300ecdac57b04f74f4f279bc4e60c33}{get\_Q}(i,l);
1970         \textcolor{keywordtype}{double} alpha\_i = \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i];
1971         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} j;
1972         \textcolor{keywordflow}{for}(j=0;j<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};j++)
1973           \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[j] += alpha\_i*Q\_i[j];
1974         \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(i))
1975           \textcolor{keywordflow}{for}(j=0;j<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};j++)
1976             \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[j] += \hyperlink{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}{get\_C}(i) * Q\_i[j];
1977       \}
1978   \}
1979 
1980   \textcolor{comment}{// optimization step}
1981 
1982   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} iter = 0;
1983   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} counter = \hyperlink{namespace_s_v_m233_a1ffcc19cad97bf20039eaa77c0040425}{min} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})l, (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})1000) + 1;
1984 
1985   \textcolor{keywordflow}{while}(1)
1986   \{
1987     \textcolor{comment}{// show progress and do shrinking}
1988 
1989     \textcolor{keywordflow}{if}(--counter == 0)
1990     \{
1991       counter = \hyperlink{namespace_s_v_m233_a1ffcc19cad97bf20039eaa77c0040425}{min}(l,1000);
1992       \textcolor{keywordflow}{if}(shrinking) \hyperlink{class_s_v_m233_1_1_solver_a53a70e8c7d704fd1df943d8ccbdf7558}{do\_shrinking}();
1993       \hyperlink{namespace_s_v_m233_a0ebae296798b259c5fe4850260bc3d60}{info}(\textcolor{stringliteral}{"."}); \hyperlink{namespace_s_v_m233_aa9479af6b244e998b5b35f52720c309e}{info\_flush}();
1994     \}
1995 
1996     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i,j;
1997     \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_ae0275309f3d4ae9dccf0843bb944cc76}{select\_working\_set}(i,j)!=0)
1998     \{
1999       \textcolor{comment}{// reconstruct the whole gradient}
2000       \hyperlink{class_s_v_m233_1_1_solver_a21d6f3b1705e3c52f4dd46889eea473e}{reconstruct\_gradient}();
2001       \textcolor{comment}{// reset active set size and check}
2002       \hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size} = \hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};
2003       \hyperlink{namespace_s_v_m233_a0ebae296798b259c5fe4850260bc3d60}{info}(\textcolor{stringliteral}{"*"}); \hyperlink{namespace_s_v_m233_aa9479af6b244e998b5b35f52720c309e}{info\_flush}();
2004       \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_ae0275309f3d4ae9dccf0843bb944cc76}{select\_working\_set}(i,j)!=0)
2005         \textcolor{keywordflow}{break};
2006       \textcolor{keywordflow}{else}
2007         counter = 1;  \textcolor{comment}{// do shrinking next iteration}
2008     \}
2009 
2010     ++iter;
2011 
2012     \textcolor{comment}{// update alpha[i] and alpha[j], handle bounds carefully}
2013 
2014     \textcolor{keyword}{const} \hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} *Q\_i = Q.\hyperlink{class_s_v_m233_1_1_kernel_ab300ecdac57b04f74f4f279bc4e60c33}{get\_Q}(i,\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size});
2015     \textcolor{keyword}{const} \hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat} *Q\_j = Q.\hyperlink{class_s_v_m233_1_1_kernel_ab300ecdac57b04f74f4f279bc4e60c33}{get\_Q}(j,\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size});
2016 
2017     \textcolor{keywordtype}{double} C\_i = \hyperlink{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}{get\_C}(i);
2018     \textcolor{keywordtype}{double} C\_j = \hyperlink{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}{get\_C}(j);
2019 
2020     \textcolor{keywordtype}{double} old\_alpha\_i = \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i];
2021     \textcolor{keywordtype}{double} old\_alpha\_j = \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[j];
2022 
2023     \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i]!=\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[j])
2024     \{
2025       \textcolor{keywordtype}{double} delta = (-\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i]-\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[j])/\hyperlink{namespace_s_v_m233_af89e72ffe29dd42949c494bc4ec751e6}{max}(Q\_i[i]+Q\_j[j]+2*Q\_i[j],(\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat})0);
2026       \textcolor{keywordtype}{double} diff = \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i] - \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[j];
2027       alpha[i] += delta;
2028       alpha[j] += delta;
2029 
2030       \textcolor{keywordflow}{if}(diff > 0)
2031       \{
2032         \textcolor{keywordflow}{if}(alpha[j] < 0)
2033         \{
2034           alpha[j] = 0;
2035           alpha[i] = diff;
2036         \}
2037       \}
2038       \textcolor{keywordflow}{else}
2039       \{
2040         \textcolor{keywordflow}{if}(alpha[i] < 0)
2041         \{
2042           alpha[i] = 0;
2043           alpha[j] = -diff;
2044         \}
2045       \}
2046       \textcolor{keywordflow}{if}(diff > C\_i - C\_j)
2047       \{
2048         \textcolor{keywordflow}{if}(alpha[i] > C\_i)
2049         \{
2050           alpha[i] = C\_i;
2051           alpha[j] = C\_i - diff;
2052         \}
2053       \}
2054       \textcolor{keywordflow}{else}
2055       \{
2056         \textcolor{keywordflow}{if}(alpha[j] > C\_j)
2057         \{
2058           alpha[j] = C\_j;
2059           alpha[i] = C\_j + diff;
2060         \}
2061       \}
2062     \}
2063     \textcolor{keywordflow}{else}
2064     \{
2065       \textcolor{keywordtype}{double} delta = (\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i]-\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[j])/\hyperlink{namespace_s_v_m233_af89e72ffe29dd42949c494bc4ec751e6}{max}(Q\_i[i]+Q\_j[j]-2*Q\_i[j],(\hyperlink{namespace_s_v_m289___m_f_s_a440663a1b8d42bc10329401883645ae1}{Qfloat})0);
2066       \textcolor{keywordtype}{double} sum = alpha[i] + alpha[j];
2067       alpha[i] -= delta;
2068       alpha[j] += delta;
2069       \textcolor{keywordflow}{if}(sum > C\_i)
2070       \{
2071         \textcolor{keywordflow}{if}(alpha[i] > C\_i)
2072         \{
2073           alpha[i] = C\_i;
2074           alpha[j] = sum - C\_i;
2075         \}
2076       \}
2077       \textcolor{keywordflow}{else}
2078       \{
2079         \textcolor{keywordflow}{if}(alpha[j] < 0)
2080         \{
2081           alpha[j] = 0;
2082           alpha[i] = sum;
2083         \}
2084       \}
2085       \textcolor{keywordflow}{if}(sum > C\_j)
2086       \{
2087         \textcolor{keywordflow}{if}(alpha[j] > C\_j)
2088         \{
2089           alpha[j] = C\_j;
2090           alpha[i] = sum - C\_j;
2091         \}
2092       \}
2093       \textcolor{keywordflow}{else}
2094       \{
2095         \textcolor{keywordflow}{if}(alpha[i] < 0)
2096         \{
2097           alpha[i] = 0;
2098           alpha[j] = sum;
2099         \}
2100       \}
2101     \}
2102 
2103     \textcolor{comment}{// update G}
2104 
2105     \textcolor{keywordtype}{double} delta\_alpha\_i = alpha[i] - old\_alpha\_i;
2106     \textcolor{keywordtype}{double} delta\_alpha\_j = alpha[j] - old\_alpha\_j;
2107 
2108     \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k=0;k<\hyperlink{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{active\_size};k++)
2109     \{
2110       \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[k] += Q\_i[k]*delta\_alpha\_i + Q\_j[k]*delta\_alpha\_j;
2111     \}
2112 
2113     \textcolor{comment}{// update alpha\_status and G\_bar}
2114 
2115     \{
2116       \textcolor{keywordtype}{bool} ui = \hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(i);
2117       \textcolor{keywordtype}{bool} uj = \hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(j);
2118       \hyperlink{class_s_v_m233_1_1_solver_a867866316d6029b4e9f1c22376bd1e0f}{update\_alpha\_status}(i);
2119       \hyperlink{class_s_v_m233_1_1_solver_a867866316d6029b4e9f1c22376bd1e0f}{update\_alpha\_status}(j);
2120       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} k;
2121       \textcolor{keywordflow}{if}(ui != \hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(i))
2122       \{
2123         Q\_i = Q.\hyperlink{class_s_v_m233_1_1_kernel_ab300ecdac57b04f74f4f279bc4e60c33}{get\_Q}(i,l);
2124         \textcolor{keywordflow}{if}(ui)
2125           \textcolor{keywordflow}{for}(k=0;k<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};k++)
2126             \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[k] -= C\_i * Q\_i[k];
2127         \textcolor{keywordflow}{else}
2128           \textcolor{keywordflow}{for}(k=0;k<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};k++)
2129             \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[k] += C\_i * Q\_i[k];
2130       \}
2131 
2132       \textcolor{keywordflow}{if}(uj != \hyperlink{class_s_v_m233_1_1_solver_a5a357c7baa23e6899939e3571284d652}{is\_upper\_bound}(j))
2133       \{
2134         Q\_j = Q.\hyperlink{class_s_v_m233_1_1_kernel_ab300ecdac57b04f74f4f279bc4e60c33}{get\_Q}(j,l);
2135         \textcolor{keywordflow}{if}(uj)
2136           \textcolor{keywordflow}{for}(k=0;k<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};k++)
2137             \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[k] -= C\_j * Q\_j[k];
2138         \textcolor{keywordflow}{else}
2139           \textcolor{keywordflow}{for}(k=0;k<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};k++)
2140             \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[k] += C\_j * Q\_j[k];
2141       \}
2142     \}
2143   \}
2144 
2145   \textcolor{comment}{// calculate rho}
2146 
2147   si->rho = \hyperlink{class_s_v_m233_1_1_solver_a13eb797fa25522e9fcb3ed9f2d8c6b75}{calculate\_rho}();
2148 
2149   \textcolor{comment}{// calculate objective value}
2150   \{
2151     \textcolor{keywordtype}{double} v = 0;
2152     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i;
2153     \textcolor{keywordflow}{for}(i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
2154       v += alpha[i] * (\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i] + \hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}[i]);
2155 
2156     si->obj = v/2;
2157   \}
2158 
2159   \textcolor{comment}{// put back the solution}
2160   \{
2161     \textcolor{keywordflow}{for}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} i=0;i<\hyperlink{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{l};i++)
2162       alpha\_[\hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\_set}[i]] = alpha[i];
2163   \}
2164 
2165   \textcolor{comment}{// juggle everything back}
2166   \textcolor{comment}{/*\{}
2167 \textcolor{comment}{  for(kkint32 i=0;i<l;i++)}
2168 \textcolor{comment}{  while(active\_set[i] != i)}
2169 \textcolor{comment}{  swap\_index(i,active\_set[i]);}
2170 \textcolor{comment}{  // or Q.swap\_index(i,active\_set[i]);}
2171 \textcolor{comment}{  \}*/}
2172 
2173   \hyperlink{namespace_s_v_m233_a0ebae296798b259c5fe4850260bc3d60}{info}(\textcolor{stringliteral}{"\(\backslash\)noptimization finished, #iter = %d\(\backslash\)n"},iter);
2174 
2175   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{C};
2176   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b};
2177   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y};
2178   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha};
2179   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status};
2180   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\_set};
2181   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G};
2182   \textcolor{keyword}{delete}[] \hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar};
2183 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!swap\+\_\+index@{swap\+\_\+index}}
\index{swap\+\_\+index@{swap\+\_\+index}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{swap\+\_\+index(kkint32 i, kkint32 j)}{swap_index(kkint32 i, kkint32 j)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Solver\+::swap\+\_\+index (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i, }
\item[{{\bf kkint32}}]{j}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a416ad5ff13353d12ee210bf287c8cddc}{}\label{class_s_v_m233_1_1_solver_a416ad5ff13353d12ee210bf287c8cddc}


Definition at line 1881 of file svm.\+cpp.



References Q, and S\+V\+M233\+::\+Kernel\+::swap\+\_\+index().



Referenced by do\+\_\+shrinking().


\begin{DoxyCode}
1882 \{
1883   \hyperlink{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{Q}->\hyperlink{class_s_v_m233_1_1_kernel_a8d1cb5b8206297192aaedd5ff682d89c}{swap\_index}(i,j);
1884   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[i],\hyperlink{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{y}[j]);
1885   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[i],\hyperlink{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{G}[j]);
1886   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i],\hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[j]);
1887   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i],\hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[j]);
1888   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}[i],\hyperlink{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{b}[j]);
1889   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\_set}[i],\hyperlink{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{active\_set}[j]);
1890   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[i],\hyperlink{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{G\_bar}[j]);
1891   \hyperlink{namespace_s_v_m233_aba73cf189d50b3a4379e512f9ea2a303}{Swap}(\hyperlink{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{C}[i], \hyperlink{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{C}[j]);
1892 \}
\end{DoxyCode}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!update\+\_\+alpha\+\_\+status@{update\+\_\+alpha\+\_\+status}}
\index{update\+\_\+alpha\+\_\+status@{update\+\_\+alpha\+\_\+status}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{update\+\_\+alpha\+\_\+status(kkint32 i)}{update_alpha_status(kkint32 i)}}]{\setlength{\rightskip}{0pt plus 5cm}void S\+V\+M233\+::\+Solver\+::update\+\_\+alpha\+\_\+status (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{i}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a867866316d6029b4e9f1c22376bd1e0f}{}\label{class_s_v_m233_1_1_solver_a867866316d6029b4e9f1c22376bd1e0f}


Definition at line 589 of file svm.\+cpp.



References alpha, alpha\+\_\+status, F\+R\+EE, get\+\_\+\+C(), L\+O\+W\+E\+R\+\_\+\+B\+O\+U\+ND, and U\+P\+P\+E\+R\+\_\+\+B\+O\+U\+ND.



Referenced by Solve().


\begin{DoxyCode}
590     \{
591       \textcolor{keywordflow}{if}  (\hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i] >= \hyperlink{class_s_v_m233_1_1_solver_a403b18fda4eb67c8a51804a23f928960}{get\_C} (i))
592         \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i] = \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa5c2ee4859d9c24409ccc71736245f617}{UPPER\_BOUND};
593   
594       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{alpha}[i] <= 0)
595         \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i] = \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fa564c861d6783d9e64c559b7a843e9c47}{LOWER\_BOUND};
596   
597       \textcolor{keywordflow}{else} 
598         \hyperlink{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{alpha\_status}[i] = \hyperlink{class_s_v_m233_1_1_solver_a0aa061a12d646a89f5a9a3895984e72fac13ca8c90dd94d7ebc0325ad0896fd38}{FREE};
599     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!active\+\_\+set@{active\+\_\+set}}
\index{active\+\_\+set@{active\+\_\+set}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{active\+\_\+set}{active_set}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32}$\ast$ S\+V\+M233\+::\+Solver\+::active\+\_\+set\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}{}\label{class_s_v_m233_1_1_solver_a19878aa39178001e48466e2562c72360}


Definition at line 580 of file svm.\+cpp.



Referenced by Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!active\+\_\+size@{active\+\_\+size}}
\index{active\+\_\+size@{active\+\_\+size}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{active\+\_\+size}{active_size}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M233\+::\+Solver\+::active\+\_\+size\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}{}\label{class_s_v_m233_1_1_solver_aaa5d0e6b5e847cf0f05d5e5a44c96d1e}


Definition at line 570 of file svm.\+cpp.



Referenced by calculate\+\_\+rho(), do\+\_\+shrinking(), reconstruct\+\_\+gradient(), select\+\_\+working\+\_\+set(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!alpha@{alpha}}
\index{alpha@{alpha}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{alpha}{alpha}}]{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ S\+V\+M233\+::\+Solver\+::alpha\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}{}\label{class_s_v_m233_1_1_solver_ade1450d3dbc0633ad00958cf2b78eb0b}


Definition at line 575 of file svm.\+cpp.



Referenced by reconstruct\+\_\+gradient(), Solve(), and update\+\_\+alpha\+\_\+status().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!alpha\+\_\+status@{alpha\+\_\+status}}
\index{alpha\+\_\+status@{alpha\+\_\+status}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{alpha\+\_\+status}{alpha_status}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ S\+V\+M233\+::\+Solver\+::alpha\+\_\+status\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}{}\label{class_s_v_m233_1_1_solver_a53fe33a3d4e7904b9b26343eb3942309}


Definition at line 574 of file svm.\+cpp.



Referenced by is\+\_\+free(), is\+\_\+lower\+\_\+bound(), is\+\_\+upper\+\_\+bound(), Solve(), and update\+\_\+alpha\+\_\+status().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!b@{b}}
\index{b@{b}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{b}{b}}]{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ S\+V\+M233\+::\+Solver\+::b\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}{}\label{class_s_v_m233_1_1_solver_ae7665148726947abe81ad6e54fdfca14}


Definition at line 579 of file svm.\+cpp.



Referenced by reconstruct\+\_\+gradient(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!C@{C}}
\index{C@{C}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{C}{C}}]{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ S\+V\+M233\+::\+Solver\+::C\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}{}\label{class_s_v_m233_1_1_solver_ab02bb338fce4d113399e8cfc66588dac}


Definition at line 578 of file svm.\+cpp.



Referenced by get\+\_\+\+C(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!eps@{eps}}
\index{eps@{eps}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{eps}{eps}}]{\setlength{\rightskip}{0pt plus 5cm}double S\+V\+M233\+::\+Solver\+::eps\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}{}\label{class_s_v_m233_1_1_solver_a5332bb5b52696238e1a9e784e187a901}


Definition at line 577 of file svm.\+cpp.



Referenced by do\+\_\+shrinking(), select\+\_\+working\+\_\+set(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!G@{G}}
\index{G@{G}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{G}{G}}]{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ S\+V\+M233\+::\+Solver\+::G\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}{}\label{class_s_v_m233_1_1_solver_a429fc1d5724c8e7547e02b74cac19f40}


Definition at line 572 of file svm.\+cpp.



Referenced by calculate\+\_\+rho(), do\+\_\+shrinking(), reconstruct\+\_\+gradient(), select\+\_\+working\+\_\+set(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!G\+\_\+bar@{G\+\_\+bar}}
\index{G\+\_\+bar@{G\+\_\+bar}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{G\+\_\+bar}{G_bar}}]{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ S\+V\+M233\+::\+Solver\+::\+G\+\_\+bar\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}{}\label{class_s_v_m233_1_1_solver_a10333392b693eae19adc14427c277036}


Definition at line 581 of file svm.\+cpp.



Referenced by reconstruct\+\_\+gradient(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!l@{l}}
\index{l@{l}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{l}{l}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} S\+V\+M233\+::\+Solver\+::l\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}{}\label{class_s_v_m233_1_1_solver_a258ab441755a415c6b1f0b19f55f36fc}


Definition at line 582 of file svm.\+cpp.



Referenced by do\+\_\+shrinking(), reconstruct\+\_\+gradient(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!Q@{Q}}
\index{Q@{Q}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{Q}{Q}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Kernel}$\ast$ S\+V\+M233\+::\+Solver\+::Q\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}{}\label{class_s_v_m233_1_1_solver_a09e21006f46841e5c9c6f97b87995743}


Definition at line 576 of file svm.\+cpp.



Referenced by reconstruct\+\_\+gradient(), Solve(), and swap\+\_\+index().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!unshrinked@{unshrinked}}
\index{unshrinked@{unshrinked}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{unshrinked}{unshrinked}}]{\setlength{\rightskip}{0pt plus 5cm}bool S\+V\+M233\+::\+Solver\+::unshrinked\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a5cf7673b38cdd6d71056e904ec1cb6b9}{}\label{class_s_v_m233_1_1_solver_a5cf7673b38cdd6d71056e904ec1cb6b9}


Definition at line 583 of file svm.\+cpp.



Referenced by do\+\_\+shrinking(), and Solve().

\index{S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}!y@{y}}
\index{y@{y}!S\+V\+M233\+::\+Solver@{S\+V\+M233\+::\+Solver}}
\subsubsection[{\texorpdfstring{y}{y}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf schar}$\ast$ S\+V\+M233\+::\+Solver\+::y\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}{}\label{class_s_v_m233_1_1_solver_a17e4f05ccc46afc5b9bf686eac10928d}


Definition at line 571 of file svm.\+cpp.



Referenced by calculate\+\_\+rho(), do\+\_\+shrinking(), select\+\_\+working\+\_\+set(), and Solve().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{svm_8cpp}{svm.\+cpp}\end{DoxyCompactItemize}
