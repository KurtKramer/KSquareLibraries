\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i}{}\section{K\+K\+M\+LL\+:\+:Feature\+File\+I\+O\+U\+CI Class Reference}
\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i}\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}


Supports the reading and writing of Feature data from a file format commonly used by many dataset\textquotesingle{}s in the U\+CI repository.  




{\ttfamily \#include $<$Feature\+File\+I\+O\+U\+C\+I.\+h$>$}

Inheritance diagram for K\+K\+M\+LL\+:\+:Feature\+File\+I\+O\+U\+CI\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i}{Feature\+File\+I\+O\+U\+CI} $\ast$ \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1453fcbcafd3fd7327385f77a2c94aa2}{Feature\+File\+I\+O\+U\+C\+I\+Ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a300cd20d7506d1c382089bc97c617957}{Feature\+File\+I\+O\+U\+CI} ()
\item 
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_af98eca146701c43558a6d597771ad47c}{$\sim$\+Feature\+File\+I\+O\+U\+CI} ()
\item 
virtual \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a5155c78c2b768c52561f07629d617520}{Get\+File\+Desc} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, istream \&\+\_\+in, \hyperlink{namespace_k_k_m_l_l_af091cde3f4a4315658b41a5e7583fc26}{M\+L\+Class\+List\+Ptr} \+\_\+class\+List, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&\+\_\+est\+Size, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual \hyperlink{namespace_k_k_m_l_l_acf2ba92a3cf03e2b19674b24ff488ef6}{Feature\+Vector\+List\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1ab937c31396a935887daabb73f40d0b}{Load\+File} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, const \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \+\_\+file\+Desc, \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+classes, istream \&\+\_\+in, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+max\+Count, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+changes\+Made, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_ae96e480ad4c47d3d5b43acc49dc2b60d}{Save\+File} (\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{Feature\+Vector\+List} \&\+\_\+data, const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, \hyperlink{namespace_k_k_m_l_l_ad276a9ed309552a63300bce930bdfebd}{Feature\+Num\+List\+Const} \&\+\_\+sel\+Features, ostream \&\+\_\+out, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} \&\+\_\+num\+Examples\+Written, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1453fcbcafd3fd7327385f77a2c94aa2}{Feature\+File\+I\+O\+U\+C\+I\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a92ebde5cbd4c01809413a7e75d1d9cda}{Driver} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Supports the reading and writing of Feature data from a file format commonly used by many dataset\textquotesingle{}s in the U\+CI repository. 


\begin{DoxyCode}
************************************************************************************************
*  \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a300cd20d7506d1c382089bc97c617957}{FeatureFileIOUCI}  Sub-classed from \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a820170380cfca6a036a29d2c51b8441a}{FeatureFileIO}.  It supports the reading 
      and writing      *
*  of many of the files found in the UCI repository.                                           *
*                                                                                              *
*  1) One example per row.                                                                     *
*  2) Each field is separated by comma.                                                        *
*  3) Each row has the same number of fields.                                                  *
*  4) The last field is the ClassName.                                                         *
*  5) Each field is numeric except the last one which is the ClassName                         *
************************************************************************************************
\end{DoxyCode}
 \begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o}{Feature\+File\+IO} 
\end{DoxySeeAlso}


Definition at line 28 of file Feature\+File\+I\+O\+U\+C\+I.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!Feature\+File\+I\+O\+U\+C\+I\+Ptr@{Feature\+File\+I\+O\+U\+C\+I\+Ptr}}
\index{Feature\+File\+I\+O\+U\+C\+I\+Ptr@{Feature\+File\+I\+O\+U\+C\+I\+Ptr}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{Feature\+File\+I\+O\+U\+C\+I\+Ptr}{FeatureFileIOUCIPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Feature\+File\+I\+O\+U\+CI}$\ast$ {\bf K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+C\+I\+::\+Feature\+File\+I\+O\+U\+C\+I\+Ptr}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1453fcbcafd3fd7327385f77a2c94aa2}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1453fcbcafd3fd7327385f77a2c94aa2}


Definition at line 35 of file Feature\+File\+I\+O\+U\+C\+I.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!Feature\+File\+I\+O\+U\+CI@{Feature\+File\+I\+O\+U\+CI}}
\index{Feature\+File\+I\+O\+U\+CI@{Feature\+File\+I\+O\+U\+CI}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{Feature\+File\+I\+O\+U\+C\+I()}{FeatureFileIOUCI()}}]{\setlength{\rightskip}{0pt plus 5cm}Feature\+File\+I\+O\+U\+C\+I\+::\+Feature\+File\+I\+O\+U\+CI (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a300cd20d7506d1c382089bc97c617957}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a300cd20d7506d1c382089bc97c617957}


Definition at line 35 of file Feature\+File\+I\+O\+U\+C\+I.\+cpp.



References K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Feature\+File\+I\+O().


\begin{DoxyCode}
35                                    :
36   \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a820170380cfca6a036a29d2c51b8441a}{FeatureFileIO} (\textcolor{stringliteral}{"UCI"}, \textcolor{keyword}{true}, \textcolor{keyword}{true})
37 \{
38 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!````~Feature\+File\+I\+O\+U\+CI@{$\sim$\+Feature\+File\+I\+O\+U\+CI}}
\index{````~Feature\+File\+I\+O\+U\+CI@{$\sim$\+Feature\+File\+I\+O\+U\+CI}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{$\sim$\+Feature\+File\+I\+O\+U\+C\+I()}{~FeatureFileIOUCI()}}]{\setlength{\rightskip}{0pt plus 5cm}Feature\+File\+I\+O\+U\+C\+I\+::$\sim$\+Feature\+File\+I\+O\+U\+CI (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_af98eca146701c43558a6d597771ad47c}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_af98eca146701c43558a6d597771ad47c}


Definition at line 42 of file Feature\+File\+I\+O\+U\+C\+I.\+cpp.


\begin{DoxyCode}
43 \{
44 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!Driver@{Driver}}
\index{Driver@{Driver}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{Driver()}{Driver()}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Feature\+File\+I\+O\+U\+C\+I\+Ptr} K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+C\+I\+::\+Driver (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a92ebde5cbd4c01809413a7e75d1d9cda}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a92ebde5cbd4c01809413a7e75d1d9cda}


Definition at line 37 of file Feature\+File\+I\+O\+U\+C\+I.\+h.


\begin{DoxyCode}
37 \{\textcolor{keywordflow}{return} &driver;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!Get\+File\+Desc@{Get\+File\+Desc}}
\index{Get\+File\+Desc@{Get\+File\+Desc}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{Get\+File\+Desc(const K\+K\+Str \&\+\_\+file\+Name, istream \&\+\_\+in, M\+L\+Class\+List\+Ptr \+\_\+class\+List, kkint32 \&\+\_\+est\+Size, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{GetFileDesc(const KKStr &_fileName, istream &_in, MLClassListPtr _classList, kkint32 &_estSize, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf File\+Desc\+Ptr} Feature\+File\+I\+O\+U\+C\+I\+::\+Get\+File\+Desc (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{istream \&}]{\+\_\+in, }
\item[{{\bf M\+L\+Class\+List\+Ptr}}]{\+\_\+class\+List, }
\item[{{\bf kkint32} \&}]{\+\_\+est\+Size, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a5155c78c2b768c52561f07629d617520}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a5155c78c2b768c52561f07629d617520}


Definition at line 48 of file Feature\+File\+I\+O\+U\+C\+I.\+cpp.



References K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Add\+A\+Attribute(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+K\+K\+Str\+::\+Empty(), K\+K\+B\+::\+K\+K\+Str\+::\+Extract\+Token(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+File\+Desc(), K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Get\+Line(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Get\+M\+L\+Class\+Ptr(), K\+K\+M\+L\+L\+::\+Numeric, K\+K\+B\+::\+K\+K\+Str\+::operator!=(), K\+K\+B\+::operator+(), K\+K\+B\+::\+K\+K\+Str\+::operator=(), K\+K\+B\+::\+Str\+Format\+Int(), K\+K\+B\+::\+K\+K\+Str\+::\+Sub\+Str\+Part(), K\+K\+B\+::\+K\+K\+Str\+::\+Trim\+Left(), and K\+K\+B\+::\+K\+K\+Str\+::\+Trim\+Right().


\begin{DoxyCode}
55 \{
56   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (20) << \textcolor{stringliteral}{"FeatureFileIOUCI::GetFileDesc     FileName["} << \_fileName << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
57 
58 
59   \textcolor{comment}{// We are just going to read the first few lines to determine number of fields, etc}
60  
61   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfFields       = 0;
62   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numFieldsThisLine = 0;
63 
64 
65   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  ln;
66   \textcolor{keywordtype}{bool}   eof;
67 
68   \_estSize = 0;
69 
70   \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);
71   \textcolor{keywordflow}{while}  (!eof)
72   \{
73     ln.\hyperlink{class_k_k_b_1_1_k_k_str_af7c102c53103ddff3f48270b4a198c89}{TrimLeft} ();
74     ln.\hyperlink{class_k_k_b_1_1_k_k_str_aa912161f17871e2d6fec7bbac033221c}{TrimRight} ();
75     \textcolor{keywordflow}{if}  ((ln.\hyperlink{class_k_k_b_1_1_k_k_str_a5f20b2ddfc9f07c8ef99592810332ddb}{SubStrPart} (0, 1) != \textcolor{stringliteral}{"//"})  &&  (!ln.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ()))
76     \{
77       numFieldsThisLine = 0;
78 
79       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  className = ln.\hyperlink{class_k_k_b_1_1_k_k_str_acc31c95308d6d699debde883c11e5802}{ExtractToken} (\textcolor{stringliteral}{" ,\(\backslash\)n\(\backslash\)r\(\backslash\)t"});
80       \textcolor{keywordflow}{while} (!ln.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ())
81       \{
82         numFieldsThisLine++;
83         className = ln.\hyperlink{class_k_k_b_1_1_k_k_str_acc31c95308d6d699debde883c11e5802}{ExtractToken} (\textcolor{stringliteral}{" ,\(\backslash\)n\(\backslash\)r\(\backslash\)t"});
84       \}
85 
86       \textcolor{keywordflow}{if}  (className.\hyperlink{class_k_k_b_1_1_k_k_str_ac69942f73fffd672ec2a6e1c410afdb6}{Empty} ())
87         className = \textcolor{stringliteral}{"UnKnown"};
88 
89       \textcolor{comment}{// make sure that 'className' exists in '\_classes'.}
90       \_classes->GetMLClassPtr (className);
91 
92       numOfFields = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (numOfFields, numFieldsThisLine);
93       \_estSize++;
94     \}
95     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);
96   \}
97 
98   \textcolor{keywordtype}{bool}  alreadyExists = \textcolor{keyword}{false};
99   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  fieldNum = 0;
100 
101   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr}  fileDesc = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDesc} ();
102 
103   \textcolor{keywordflow}{for}  (fieldNum = 0;  fieldNum < numOfFields;  fieldNum++)
104   \{
105     fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_ab920163b3e6155197bfc1bf2045555ca}{AddAAttribute} (\textcolor{stringliteral}{"Field\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (fieldNum, \textcolor{stringliteral}{"ZZZZ0"}), 
      \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555aba87322391cc6e8948ce9fd5d6cb84fced}{AttributeType::Numeric}, alreadyExists);
106   \}
107 
108   \textcolor{keywordflow}{return}  fileDesc;
109 \}  \textcolor{comment}{/* GetFileDesc */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!Load\+File@{Load\+File}}
\index{Load\+File@{Load\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{Load\+File(const K\+K\+Str \&\+\_\+file\+Name, const File\+Desc\+Ptr \+\_\+file\+Desc, M\+L\+Class\+List \&\+\_\+classes, istream \&\+\_\+in, kkint32 \+\_\+max\+Count, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+changes\+Made, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{LoadFile(const KKStr &_fileName, const FileDescPtr _fileDesc, MLClassList &_classes, istream &_in, kkint32 _maxCount, VolConstBool &_cancelFlag, bool &_changesMade, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Vector\+List\+Ptr} Feature\+File\+I\+O\+U\+C\+I\+::\+Load\+File (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{const {\bf File\+Desc\+Ptr}}]{\+\_\+file\+Desc, }
\item[{{\bf M\+L\+Class\+List} \&}]{\+\_\+classes, }
\item[{istream \&}]{\+\_\+in, }
\item[{{\bf kkint32}}]{\+\_\+max\+Count, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+changes\+Made, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1ab937c31396a935887daabb73f40d0b}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_a1ab937c31396a935887daabb73f40d0b}


Definition at line 116 of file Feature\+File\+I\+O\+U\+C\+I.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+K\+K\+Str\+::\+Empty(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Example\+File\+Name(), K\+K\+B\+::\+K\+K\+Str\+::\+Extract\+Token(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Feature\+Vector(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Feature\+Vector\+List(), K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Get\+Line(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Get\+M\+L\+Class\+Ptr(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Num\+Of\+Fields(), K\+K\+B\+::\+K\+K\+Str\+::operator!=(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::os\+Get\+Root\+Name(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Push\+On\+Back(), K\+K\+B\+::\+Str\+Format\+Int(), K\+K\+B\+::\+K\+K\+Str\+::\+Sub\+Str\+Part(), K\+K\+B\+::\+K\+K\+Str\+::\+Trim\+Left(), and K\+K\+B\+::\+K\+K\+Str\+::\+Trim\+Right().


\begin{DoxyCode}
126 \{
127   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (20) << \textcolor{stringliteral}{"FeatureFileIOUCI::LoadFile   FileName["} << \_fileName << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
128 
129 
130   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  rootName = \hyperlink{namespace_k_k_b_af5b668ed9902d7f93b62529664a739f0}{osGetRootName} (\_fileName);
131 
132 
133   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfFeatures = \_fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a07abdfb77949dee565c555c7651581c2}{NumOfFields} ();
134   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lineCount = 0;
135 
136   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  ln (256);
137   \textcolor{keywordtype}{bool}  eof;
138 
139   \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorListPtr}  examples = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorList} (\_fileDesc, \textcolor{keyword}{
      true});
140 
141   \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);
142   \textcolor{keywordflow}{while}  (!eof)
143   \{
144     ln.TrimLeft ();
145     ln.TrimRight ();
146 
147     \textcolor{keywordflow}{if}  ((ln.SubStrPart (0, 1) != \textcolor{stringliteral}{"//"})  &&  (!ln.Empty ()))
148     \{
149 
150       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  featureNum = 0;
151       \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  example = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVector} (numOfFeatures);
152   
153       \textcolor{keywordflow}{for}  (featureNum = 0;  featureNum < numOfFeatures;  featureNum++)
154       \{
155         \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  featureStr = ln.\hyperlink{class_k_k_b_1_1_k_k_str_acc31c95308d6d699debde883c11e5802}{ExtractToken} (\textcolor{stringliteral}{" ,\(\backslash\)n\(\backslash\)r\(\backslash\)t"});
156         example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_abf364e3348c041cd7be6f14d6c4567cf}{AddFeatureData} (featureNum, (\textcolor{keywordtype}{float})atof (featureStr.
      \hyperlink{class_k_k_b_1_1_k_k_str_ad574e6c0fe7f6ce1ba3ab0a8ce2fbd52}{Str} ()));
157       \}
158 
159       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  className = ln.\hyperlink{class_k_k_b_1_1_k_k_str_acc31c95308d6d699debde883c11e5802}{ExtractToken} (\textcolor{stringliteral}{" ,\(\backslash\)n\(\backslash\)r\(\backslash\)t"});
160       \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr} mlClass = \_classes.\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list_ab751a744d6e0d8937ca64b9cdde1488b}{GetMLClassPtr} (className);
161       example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a3c8fe002c6e868f8c00059c004fb32fd}{MLClass} (mlClass);
162 
163       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  imageFileName = rootName + \textcolor{stringliteral}{"\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (lineCount, \textcolor{stringliteral}{"ZZZZZZ0"});
164       example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_ab47c89ab1e9396664fdc0dc34b6e1ab5}{ExampleFileName} (imageFileName);
165 
166       examples->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (example);
167 
168       lineCount++;
169     \}
170     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a61ca11485d2c14368c1019bfcc53ab16}{GetLine} (\_in, ln, eof);
171   \}
172 
173   \textcolor{keywordflow}{return}  examples;
174 \}  \textcolor{comment}{/* LoadFile */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}!Save\+File@{Save\+File}}
\index{Save\+File@{Save\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+U\+CI}}
\subsubsection[{\texorpdfstring{Save\+File(\+Feature\+Vector\+List \&\+\_\+data, const K\+K\+Str \&\+\_\+file\+Name, Feature\+Num\+List\+Const \&\+\_\+sel\+Features, ostream \&\+\_\+out, kkuint32 \&\+\_\+num\+Examples\+Written, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{SaveFile(FeatureVectorList &_data, const KKStr &_fileName, FeatureNumListConst &_selFeatures, ostream &_out, kkuint32 &_numExamplesWritten, VolConstBool &_cancelFlag, bool &_successful, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Feature\+File\+I\+O\+U\+C\+I\+::\+Save\+File (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+List} \&}]{\+\_\+data, }
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{{\bf Feature\+Num\+List\+Const} \&}]{\+\_\+sel\+Features, }
\item[{ostream \&}]{\+\_\+out, }
\item[{{\bf kkuint32} \&}]{\+\_\+num\+Examples\+Written, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+successful, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_ae96e480ad4c47d3d5b43acc49dc2b60d}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_u_c_i_ae96e480ad4c47d3d5b43acc49dc2b60d}


Definition at line 181 of file Feature\+File\+I\+O\+U\+C\+I.\+cpp.



References K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Class\+Name(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+File\+Desc(), K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::\+Num\+Of\+Features(), K\+K\+B\+::operator$<$$<$(), and K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::operator\mbox{[}$\,$\mbox{]}().


\begin{DoxyCode}
192 \{
193   \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}   example = NULL;
194 
195   \_numExamplesWritten = 0;
196 
197   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  idx;
198   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
199 
200   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr}  fileDesc = \_data.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_a736923be9c4ac7553a5aa87dd24efd16}{FileDesc} ();
201 
202   \_out << \textcolor{stringliteral}{"ExampleFileName"};
203   \textcolor{keywordflow}{for}  (x = 0; x < \_selFeatures.NumOfFeatures (); x++)
204   \{
205     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} featureNum = \_selFeatures[x];
206     \_out << \textcolor{stringliteral}{","} << fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a703b2f8283fc0cd4dfbf03308a9d0938}{FieldName} (featureNum);
207   \}
208   \_out << \textcolor{stringliteral}{","} << \textcolor{stringliteral}{"ClassLabel"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
209 
210   \textcolor{keywordflow}{for}  (idx = 0; idx < \_data.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} (); idx++)
211   \{
212     example = \_data.\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (idx);
213 
214     \_out << (\textcolor{stringliteral}{"Train\_"} + \hyperlink{namespace_k_k_b_af5b668ed9902d7f93b62529664a739f0}{KKB::osGetRootName} (example->
      \hyperlink{class_k_k_m_l_l_1_1_feature_vector_ab47c89ab1e9396664fdc0dc34b6e1ab5}{ExampleFileName} ())) << \textcolor{stringliteral}{","};
215 
216     \textcolor{keywordflow}{for}  (x = 0; x < \_selFeatures.NumOfFeatures (); x++)
217     \{
218       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  featureNum = \_selFeatures[x];
219       \_out << example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_af055b7c725a4d80a31cd2f6606cc37b6}{FeatureData} (featureNum) << \textcolor{stringliteral}{","};
220     \}
221     \_out << example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a7c410c4ab70f5f2fdc8fca66ea8000ba}{ClassName} ();
222     \_out << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
223     \_numExamplesWritten++;
224   \}
225 
226   \_successful = \textcolor{keyword}{true};
227   \textcolor{keywordflow}{return};
228 \}  \textcolor{comment}{/* WriteUCIFile */}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_feature_file_i_o_u_c_i_8h}{Feature\+File\+I\+O\+U\+C\+I.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_feature_file_i_o_u_c_i_8cpp}{Feature\+File\+I\+O\+U\+C\+I.\+cpp}\end{DoxyCompactItemize}
