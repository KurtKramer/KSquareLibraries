\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column}{}\section{K\+K\+M\+LL\+:\+:Feature\+File\+I\+O\+Column Class Reference}
\label{class_k_k_m_l_l_1_1_feature_file_i_o_column}\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}


Supports a simple Feature File format where each column represents a example and each row a feature value.  




{\ttfamily \#include $<$Feature\+File\+I\+O\+Column.\+h$>$}

Inheritance diagram for K\+K\+M\+LL\+:\+:Feature\+File\+I\+O\+Column\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_k_k_m_l_l_1_1_feature_file_i_o_column}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column}{Feature\+File\+I\+O\+Column} $\ast$ \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_aa10d6d26b30e5280faf79e11863b49bc}{Feature\+File\+I\+O\+Column\+Ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_a0dfa4260d0338abd417efc09b8c719c3}{Feature\+File\+I\+O\+Column} ()
\item 
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_a3eaf1c6b7b4b607d23f6b12370f0c719}{$\sim$\+Feature\+File\+I\+O\+Column} ()
\item 
virtual \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_a944f29afcf4a7aeb04eed0a63eaff995}{Get\+File\+Desc} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, istream \&\+\_\+in, \hyperlink{namespace_k_k_m_l_l_af091cde3f4a4315658b41a5e7583fc26}{M\+L\+Class\+List\+Ptr} \+\_\+class\+List, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&\+\_\+est\+Size, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual \hyperlink{namespace_k_k_m_l_l_acf2ba92a3cf03e2b19674b24ff488ef6}{Feature\+Vector\+List\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_ae60b12143b480db4c365aa74dcc2aa08}{Load\+File} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, const \hyperlink{namespace_k_k_m_l_l_aa0d0b6ab4ec18868a399b8455b05d914}{File\+Desc\+Ptr} \+\_\+file\+Desc, \hyperlink{class_k_k_m_l_l_1_1_m_l_class_list}{M\+L\+Class\+List} \&\+\_\+classes, istream \&\+\_\+in, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+max\+Count, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+changes\+Made, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual void \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_a85931981577246071102aa45c059cf40}{Save\+File} (\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{Feature\+Vector\+List} \&\+\_\+data, const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, \hyperlink{namespace_k_k_m_l_l_ad276a9ed309552a63300bce930bdfebd}{Feature\+Num\+List\+Const} \&\+\_\+sel\+Features, ostream \&\+\_\+out, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} \&\+\_\+num\+Examples\+Written, \hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+error\+Message, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_aa10d6d26b30e5280faf79e11863b49bc}{Feature\+File\+I\+O\+Column\+Ptr} \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_a6e2c6df90f161e3354737d040a2340de}{Driver} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Supports a simple Feature File format where each column represents a example and each row a feature value. 


\begin{DoxyCode}
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_column_a0dfa4260d0338abd417efc09b8c719c3}{FeatureFileIOColumn}    Sub-classed from \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a820170380cfca6a036a29d2c51b8441a}{FeatureFileIO}.  A simple format 
      where each column   *
represents a  example and each row an attribute.  The First line has the Classes Names.     *
\end{DoxyCode}
 \begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o}{Feature\+File\+IO} 
\end{DoxySeeAlso}


Definition at line 21 of file Feature\+File\+I\+O\+Column.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!Feature\+File\+I\+O\+Column\+Ptr@{Feature\+File\+I\+O\+Column\+Ptr}}
\index{Feature\+File\+I\+O\+Column\+Ptr@{Feature\+File\+I\+O\+Column\+Ptr}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{Feature\+File\+I\+O\+Column\+Ptr}{FeatureFileIOColumnPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Feature\+File\+I\+O\+Column}$\ast$ {\bf K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column\+::\+Feature\+File\+I\+O\+Column\+Ptr}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_aa10d6d26b30e5280faf79e11863b49bc}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_aa10d6d26b30e5280faf79e11863b49bc}


Definition at line 27 of file Feature\+File\+I\+O\+Column.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!Feature\+File\+I\+O\+Column@{Feature\+File\+I\+O\+Column}}
\index{Feature\+File\+I\+O\+Column@{Feature\+File\+I\+O\+Column}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{Feature\+File\+I\+O\+Column()}{FeatureFileIOColumn()}}]{\setlength{\rightskip}{0pt plus 5cm}Feature\+File\+I\+O\+Column\+::\+Feature\+File\+I\+O\+Column (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_a0dfa4260d0338abd417efc09b8c719c3}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_a0dfa4260d0338abd417efc09b8c719c3}


Definition at line 33 of file Feature\+File\+I\+O\+Column.\+cpp.



References K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Feature\+File\+I\+O().


\begin{DoxyCode}
33                                          :
34     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_a820170380cfca6a036a29d2c51b8441a}{FeatureFileIO} (\textcolor{stringliteral}{"Column"}, \textcolor{keyword}{true}, \textcolor{keyword}{true})
35 \{
36 \}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!````~Feature\+File\+I\+O\+Column@{$\sim$\+Feature\+File\+I\+O\+Column}}
\index{````~Feature\+File\+I\+O\+Column@{$\sim$\+Feature\+File\+I\+O\+Column}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{$\sim$\+Feature\+File\+I\+O\+Column()}{~FeatureFileIOColumn()}}]{\setlength{\rightskip}{0pt plus 5cm}Feature\+File\+I\+O\+Column\+::$\sim$\+Feature\+File\+I\+O\+Column (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_a3eaf1c6b7b4b607d23f6b12370f0c719}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_a3eaf1c6b7b4b607d23f6b12370f0c719}


Definition at line 40 of file Feature\+File\+I\+O\+Column.\+cpp.


\begin{DoxyCode}
41 \{
42 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!Driver@{Driver}}
\index{Driver@{Driver}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{Driver()}{Driver()}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Feature\+File\+I\+O\+Column\+Ptr} K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column\+::\+Driver (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_a6e2c6df90f161e3354737d040a2340de}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_a6e2c6df90f161e3354737d040a2340de}


Definition at line 29 of file Feature\+File\+I\+O\+Column.\+h.


\begin{DoxyCode}
29 \{\textcolor{keywordflow}{return} &driver;\}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!Get\+File\+Desc@{Get\+File\+Desc}}
\index{Get\+File\+Desc@{Get\+File\+Desc}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{Get\+File\+Desc(const K\+K\+Str \&\+\_\+file\+Name, istream \&\+\_\+in, M\+L\+Class\+List\+Ptr \+\_\+class\+List, kkint32 \&\+\_\+est\+Size, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{GetFileDesc(const KKStr &_fileName, istream &_in, MLClassListPtr _classList, kkint32 &_estSize, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf File\+Desc\+Ptr} Feature\+File\+I\+O\+Column\+::\+Get\+File\+Desc (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{istream \&}]{\+\_\+in, }
\item[{{\bf M\+L\+Class\+List\+Ptr}}]{\+\_\+class\+List, }
\item[{{\bf kkint32} \&}]{\+\_\+est\+Size, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_a944f29afcf4a7aeb04eed0a63eaff995}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_a944f29afcf4a7aeb04eed0a63eaff995}


Definition at line 46 of file Feature\+File\+I\+O\+Column.\+cpp.



References K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Add\+A\+Attribute(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+File\+Desc(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Get\+M\+L\+Class\+Ptr(), K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Get\+Token(), K\+K\+M\+L\+L\+::\+Numeric, K\+K\+B\+::operator+(), and K\+K\+B\+::\+Str\+Format\+Int().


\begin{DoxyCode}
53 \{
54   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (20) << \textcolor{stringliteral}{"FeatureFileIOColumn::GetFileDesc    FileName["} << \_fileName << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
55 
56   \textcolor{keywordtype}{bool}  alreadyExists;
57   \textcolor{keywordtype}{bool}  eof = \textcolor{keyword}{false};
58   \textcolor{keywordtype}{bool}  eol = \textcolor{keyword}{false};
59  
60   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowNum = 0;
61 
62   \_estSize = 0;
63 
64   \{
65     \textcolor{comment}{// Read first Row to get number of examples.}
66     \textcolor{comment}{// First row specifies the Class for the corresponding Column.}
67     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  field;
68     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);  rowNum++;
69     \textcolor{keywordflow}{while}  ((!eol)  &&  (!eof))
70     \{
71       \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  mlClass = \_classes->GetMLClassPtr (field);
72       \_estSize++;
73       \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);
74     \}
75   \}
76 
77   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr}  fileDesc = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDesc} ();
78 
79 
80   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfFeatures = 0;
81   \textcolor{keywordflow}{while}  (!eof)
82   \{
83     \textcolor{comment}{// Read rest of file to get number of features.  There will be on row per attribute.}
84     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  field;
85     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol); 
86     \textcolor{keywordflow}{if}  (!eof)
87     \{
88       rowNum++;
89       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfExamples = 0;
90 
91       \textcolor{keywordflow}{while}  ((!eol)  &&  (!eof))
92       \{
93         numOfExamples++;
94         \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);
95       \}
96 
97       \textcolor{keywordflow}{if}  (numOfExamples != \_estSize)
98       \{
99         \textcolor{comment}{// We have a bad row of data}
100         \_errorMessage << \textcolor{stringliteral}{"Row["} << rowNum << \textcolor{stringliteral}{"] missing columns;  Expected["} << \_estSize << \textcolor{stringliteral}{"] found["} << 
      numOfExamples << \textcolor{stringliteral}{"]"};
101         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl << endl 
102                         << \textcolor{stringliteral}{"ReadColumnFile    *** Invalid Row in File["} << \_fileName << \textcolor{stringliteral}{"]"} << endl
103                         << \textcolor{stringliteral}{"         Row         ["} << rowNum           << \textcolor{stringliteral}{"]"} << endl
104                         << \textcolor{stringliteral}{"         Num Examples["} << numOfExamples    << \textcolor{stringliteral}{"]"} << endl
105                         << \textcolor{stringliteral}{"         Not Match Header Row["} << \_estSize << \textcolor{stringliteral}{"]"} << endl
106                         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
107 
108         \textcolor{comment}{// Can not delete an instance of a 'FileDesc' class once it has been created.}
109         \textcolor{comment}{// delete  fileDesc;}
110 
111         \textcolor{keywordflow}{return} NULL;
112       \}
113 
114 
115       fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_ab920163b3e6155197bfc1bf2045555ca}{AddAAttribute} (\textcolor{stringliteral}{"Field\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (numOfFeatures, \textcolor{stringliteral}{"ZZZZ0"}), 
      \hyperlink{namespace_k_k_m_l_l_a99973706982b59debba670e2480555aba87322391cc6e8948ce9fd5d6cb84fced}{AttributeType::Numeric}, alreadyExists);
116       numOfFeatures++;
117     \}
118   \}
119 
120   \textcolor{keywordflow}{return}  fileDesc;
121 \}  \textcolor{comment}{/* GetFileDesc */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!Load\+File@{Load\+File}}
\index{Load\+File@{Load\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{Load\+File(const K\+K\+Str \&\+\_\+file\+Name, const File\+Desc\+Ptr \+\_\+file\+Desc, M\+L\+Class\+List \&\+\_\+classes, istream \&\+\_\+in, kkint32 \+\_\+max\+Count, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+changes\+Made, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{LoadFile(const KKStr &_fileName, const FileDescPtr _fileDesc, MLClassList &_classes, istream &_in, kkint32 _maxCount, VolConstBool &_cancelFlag, bool &_changesMade, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Feature\+Vector\+List\+Ptr} Feature\+File\+I\+O\+Column\+::\+Load\+File (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{const {\bf File\+Desc\+Ptr}}]{\+\_\+file\+Desc, }
\item[{{\bf M\+L\+Class\+List} \&}]{\+\_\+classes, }
\item[{istream \&}]{\+\_\+in, }
\item[{{\bf kkint32}}]{\+\_\+max\+Count, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+changes\+Made, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_ae60b12143b480db4c365aa74dcc2aa08}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_ae60b12143b480db4c365aa74dcc2aa08}


Definition at line 127 of file Feature\+File\+I\+O\+Column.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Example\+File\+Name(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+Feature\+Vector(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Feature\+Vector\+List(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+List\+::\+Get\+M\+L\+Class\+Ptr(), K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+::\+Get\+Token(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+::\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Num\+Of\+Fields(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::os\+Get\+Root\+Name(), K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+Push\+On\+Back(), and K\+K\+B\+::\+Str\+Format\+Int().


\begin{DoxyCode}
137 \{
138   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (20) << \textcolor{stringliteral}{"FeatureFileIOColumn::LoadFile   FileName["} << \_fileName << \textcolor{stringliteral}{"]"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
139 
140   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  rootName = \hyperlink{namespace_k_k_b_af5b668ed9902d7f93b62529664a739f0}{osGetRootName} (\_fileName);
141 
142   \textcolor{keywordtype}{bool}        eof           = \textcolor{keyword}{false};
143   \textcolor{keywordtype}{bool}        eol           = \textcolor{keyword}{false};
144   \hyperlink{class_k_k_m_l_l_1_1_m_l_class}{MLClassPtr}  exampleClass  = NULL;
145   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}       field;
146   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}     lineCount     = 0;
147   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}     numOfFeatures = \_fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a07abdfb77949dee565c555c7651581c2}{NumOfFields} ();
148 
149   \textcolor{comment}{// Each row will represent a specific feature}
150   \textcolor{comment}{// Will initially create empty examples, then populate}
151   \textcolor{comment}{// each feature value as row's are read in.}
152 
153   \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorListPtr}  examples = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector_list}{FeatureVectorList} (\_fileDesc, \textcolor{keyword}{
      true});
154 
155   \{
156     \textcolor{comment}{// Read first row to get count of number of examples,}
157 
158     lineCount = 0;
159 
160     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);
161     \textcolor{keywordflow}{while}  ((!eof)  &&  (!eol))
162     \{
163       exampleClass = \_classes.\hyperlink{class_k_k_m_l_l_1_1_m_l_class_list_ab751a744d6e0d8937ca64b9cdde1488b}{GetMLClassPtr} (field);
164       \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr}  example = \textcolor{keyword}{new} \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVector} (numOfFeatures);
165       example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_a3c8fe002c6e868f8c00059c004fb32fd}{MLClass} (exampleClass);
166       example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_ab47c89ab1e9396664fdc0dc34b6e1ab5}{ExampleFileName} (rootName + \textcolor{stringliteral}{"\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} (lineCount, \textcolor{stringliteral}{"00000
      "}));
167       examples->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_abd43779a90a6aa3db1de8092be877bdb}{PushOnBack} (example);
168       lineCount++;
169       \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);
170     \}
171   \}
172 
173   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  featureNum = 0;
174 
175   \textcolor{keywordflow}{while}  (!eof)
176   \{
177     \textcolor{comment}{// Process Next Row}
178     \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);
179     \textcolor{keywordflow}{if}  (eof  ||  eol)
180       \textcolor{keywordflow}{continue};
181 
182     \textcolor{keywordflow}{if}  (featureNum >= numOfFeatures)
183     \{
184       \textcolor{comment}{// We have more rows than there are supposed to be features.  Something }
185       \textcolor{comment}{// has gone VERY WRONG.  Will abort load.}
186       \_errorMessage << \textcolor{stringliteral}{"Line more rows that there are supposed to be features."};
187       \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl << endl
188                       << \textcolor{stringliteral}{"FeatureFileIOColumn::LoadFile    ***ERROR***"} << endl
189                       << endl
190                       << \textcolor{stringliteral}{"          FileName ["} << \_fileName    << \textcolor{stringliteral}{"]"} << endl
191                       << \textcolor{stringliteral}{"          Line Num ["} << featureNum   << \textcolor{stringliteral}{"]"} << endl
192                       << \textcolor{stringliteral}{"          Error    ["} << \textcolor{stringliteral}{"Number of rows exceed number of features."} << \textcolor{stringliteral}{"]"} << 
      endl
193                       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
194       \textcolor{keyword}{delete}  examples;
195       \textcolor{keywordflow}{return}  NULL;
196     \}
197 
198 
199     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lineNum = 0;
200     \textcolor{keywordflow}{while}  ((!eof)  &&  (!eol))
201     \{
202       \textcolor{keywordflow}{if}  (lineNum >= lineCount)
203       \{
204         \textcolor{comment}{// We have more columns in this line than we have examples.}
205         \textcolor{comment}{// This is not a very good situation.  We will need to flag }
206         \textcolor{comment}{// as error and abort loading.}
207         \_errorMessage << \textcolor{stringliteral}{"Line["} << featureNum << \textcolor{stringliteral}{"]  More columns than there are supposed to be examples."}
      ;
208         \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << endl << endl << endl
209                         << \textcolor{stringliteral}{"FeatureFileIOColumn::LoadFile    ***ERROR***"} << endl
210                         << endl
211                         << \textcolor{stringliteral}{"          FileName ["} << \_fileName << \textcolor{stringliteral}{"]"} << endl
212                         << \textcolor{stringliteral}{"          Line Num ["} << lineNum   << \textcolor{stringliteral}{"]"} << endl
213                         << \textcolor{stringliteral}{"          Error    ["} << \textcolor{stringliteral}{"Number of columns exceeds number of examples defined
       in first row."} << \textcolor{stringliteral}{"]"} << endl
214                         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
215         \textcolor{keyword}{delete} examples;
216         \textcolor{keywordflow}{return}  NULL;
217       \}
218 
219       \hyperlink{class_k_k_m_l_l_1_1_feature_vector}{FeatureVectorPtr} example = examples->\hyperlink{class_k_k_b_1_1_k_k_queue_acce2bdd8b3327e38266cf198382cd852}{IdxToPtr} (lineNum);
220       example->\hyperlink{class_k_k_m_l_l_1_1_feature_vector_abf364e3348c041cd7be6f14d6c4567cf}{AddFeatureData} (featureNum, \textcolor{keywordtype}{float} (atof (field.\hyperlink{class_k_k_b_1_1_k_k_str_ad574e6c0fe7f6ce1ba3ab0a8ce2fbd52}{Str} ())));
221 
222       lineNum++;
223       \hyperlink{class_k_k_m_l_l_1_1_feature_file_i_o_ae79ac82b32e63fa7e7d96c833b5631f2}{GetToken} (\_in, \textcolor{stringliteral}{" "}, field, eof, eol);
224     \}
225 
226     featureNum++;
227   \}
228 
229 
230   \textcolor{keywordflow}{return}  examples;
231 \}  \textcolor{comment}{/* LoadFile */}
\end{DoxyCode}
\index{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}!Save\+File@{Save\+File}}
\index{Save\+File@{Save\+File}!K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column@{K\+K\+M\+L\+L\+::\+Feature\+File\+I\+O\+Column}}
\subsubsection[{\texorpdfstring{Save\+File(\+Feature\+Vector\+List \&\+\_\+data, const K\+K\+Str \&\+\_\+file\+Name, Feature\+Num\+List\+Const \&\+\_\+sel\+Features, ostream \&\+\_\+out, kkuint32 \&\+\_\+num\+Examples\+Written, Vol\+Const\+Bool \&\+\_\+cancel\+Flag, bool \&\+\_\+successful, K\+K\+Str \&\+\_\+error\+Message, Run\+Log \&\+\_\+log)}{SaveFile(FeatureVectorList &_data, const KKStr &_fileName, FeatureNumListConst &_selFeatures, ostream &_out, kkuint32 &_numExamplesWritten, VolConstBool &_cancelFlag, bool &_successful, KKStr &_errorMessage, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}void Feature\+File\+I\+O\+Column\+::\+Save\+File (
\begin{DoxyParamCaption}
\item[{{\bf Feature\+Vector\+List} \&}]{\+\_\+data, }
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{{\bf Feature\+Num\+List\+Const} \&}]{\+\_\+sel\+Features, }
\item[{ostream \&}]{\+\_\+out, }
\item[{{\bf kkuint32} \&}]{\+\_\+num\+Examples\+Written, }
\item[{{\bf Vol\+Const\+Bool} \&}]{\+\_\+cancel\+Flag, }
\item[{bool \&}]{\+\_\+successful, }
\item[{{\bf K\+K\+Str} \&}]{\+\_\+error\+Message, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_m_l_l_1_1_feature_file_i_o_column_a85931981577246071102aa45c059cf40}{}\label{class_k_k_m_l_l_1_1_feature_file_i_o_column_a85931981577246071102aa45c059cf40}


Definition at line 237 of file Feature\+File\+I\+O\+Column.\+cpp.



References K\+K\+M\+L\+L\+::\+Feature\+Vector\+List\+::\+File\+Desc(), K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::\+Num\+Sel\+Features(), and K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::operator\mbox{[}$\,$\mbox{]}().


\begin{DoxyCode}
247 \{
248   \_log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (20) << \textcolor{stringliteral}{"FeatureFileIOColumn::SaveFile     FileName["} << \_fileName << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
249   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  p = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})\_out.precision ();
250   \_out.precision (9);
251 
252   \hyperlink{class_k_k_m_l_l_1_1_file_desc}{FileDescPtr}  fileDesc = \_data.\hyperlink{class_k_k_m_l_l_1_1_feature_vector_list_a736923be9c4ac7553a5aa87dd24efd16}{FileDesc} ();
253 
254   \{
255     \textcolor{comment}{// Lets first write out the ClassName row}
256 
257     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lineNum = 0;
258 
259     \textcolor{keywordflow}{while}  (lineNum < \_data.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ())
260     \{
261       \textcolor{keywordflow}{if}  (lineNum > 0)
262         \_out << \textcolor{stringliteral}{" "};
263       \_out << \_data[lineNum].MLClassName ();
264     \}
265     \_out << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
266   \}
267 
268   \hyperlink{namespace_k_k_b_aa8c7d4d30381c8a0b6fce68974a9c8a9}{kkuint16}  idx = 0;
269   \textcolor{keywordflow}{for}  (idx = 0;  idx < \_selFeatures.NumSelFeatures ();  ++idx)
270   \{
271     \hyperlink{namespace_k_k_b_aa8c7d4d30381c8a0b6fce68974a9c8a9}{kkuint16}  featureNum = \_selFeatures[idx];
272     \{
273       \hyperlink{class_k_k_b_1_1_k_k_queue_aeb057c9c010446f46f57c1e355f981f1}{FeatureVectorList::const\_iterator}  idx2 = \_data.begin ();
274       ++idx2;
275       \_out  << (*idx2)->FeatureData (featureNum);
276       \textcolor{keywordflow}{while}  (idx2 != \_data.end ())
277       \{
278         \_out  << \textcolor{stringliteral}{"\(\backslash\)t"} << (*idx2)->FeatureData (featureNum);
279         ++idx2;
280       \}
281     \}
282     \_out << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
283 
284     \_numExamplesWritten = (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})((\textcolor{keywordtype}{double})(\_data.\hyperlink{class_k_k_b_1_1_k_k_queue_a1dab601f75ee6a65d97f02bddf71c40d}{QueueSize} ()) * ((\textcolor{keywordtype}{double})featureNum / 
      (double)(fileDesc->\hyperlink{class_k_k_m_l_l_1_1_file_desc_a07abdfb77949dee565c555c7651581c2}{NumOfFields} ())));
285   \}
286 
287   \_out.precision (p);
288 
289   \_successful = \textcolor{keyword}{true};
290   \textcolor{keywordflow}{return};
291 \}  \textcolor{comment}{/* SaveFile */}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_feature_file_i_o_column_8h}{Feature\+File\+I\+O\+Column.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Machine\+Learning/\hyperlink{_feature_file_i_o_column_8cpp}{Feature\+File\+I\+O\+Column.\+cpp}\end{DoxyCompactItemize}
