\hypertarget{class_k_k_b_1_1_xml_stream}{}\section{K\+KB\+:\+:Xml\+Stream Class Reference}
\label{class_k_k_b_1_1_xml_stream}\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}


Manages the reading and writing of objects in a simple X\+ML format. For a class to be supported by \hyperlink{class_k_k_b_1_1_xml_stream}{Xml\+Stream} it must implement\+:  




{\ttfamily \#include $<$Xml\+Stream.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_b_1_1_xml_stream}{Xml\+Stream} $\ast$ \hyperlink{class_k_k_b_1_1_xml_stream_ae184ca80435ddeade4130fb7ccd7a422}{Xml\+Stream\+Ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_b_1_1_xml_stream_a6703ccd123b23bacb7303162d05604a5}{Xml\+Stream} (\hyperlink{namespace_k_k_b_a0272123692093dc63b5e530719bc874e}{Xml\+Tokenizer\+Ptr} \+\_\+token\+Stream)
\item 
\hyperlink{class_k_k_b_1_1_xml_stream_a5f27764abb4e5b6f18ad0a4b57dbadc0}{Xml\+Stream} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&\+\_\+log)
\item 
virtual \hyperlink{class_k_k_b_1_1_xml_stream_a64586630d4215b52a77b3816bb4cdf54}{$\sim$\+Xml\+Stream} ()
\item 
virtual \hyperlink{namespace_k_k_b_a0ac08d955397a4ffcc62ce7aab18105f}{Xml\+Content\+Ptr} \hyperlink{class_k_k_b_1_1_xml_stream_a1709dd71d4311c8c7bab36c24f4b90ff}{Get\+Next\+Content} (\hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
virtual \hyperlink{namespace_k_k_b_af349a060847626df6b468fe15d373972}{Xml\+Token\+Ptr} \hyperlink{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{Get\+Next\+Token} (\hyperlink{namespace_k_k_b_a7d390f568e2831fb76b86b56c87bf92f}{Vol\+Const\+Bool} \&cancel\+Flag, \hyperlink{class_k_k_b_1_1_run_log}{Run\+Log} \&log)
\item 
void \hyperlink{class_k_k_b_1_1_xml_stream_a2ac75e5851d105268ebb9d361f552a67}{Register\+Factory} (\hyperlink{namespace_k_k_b_a39be21bf55480cb360e2fd785ad60af1}{Xml\+Factory\+Ptr} factory)
\begin{DoxyCompactList}\small\item\em Registers a Factory at the current hierarchy that is being processed. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Manages the reading and writing of objects in a simple X\+ML format. For a class to be supported by \hyperlink{class_k_k_b_1_1_xml_stream}{Xml\+Stream} it must implement\+: 


\begin{DoxyItemize}
\item Default constructor.
\item Helper Class derived form \hyperlink{class_k_k_b_1_1_xml_element}{Xml\+Element}
\item Helper Class derived from \hyperlink{class_k_k_b_1_1_xml_factory}{Xml\+Factory}
\item Method Xml\+Read
\item Method Xml\+Write 
\end{DoxyItemize}

Definition at line 46 of file Xml\+Stream.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!Xml\+Stream\+Ptr@{Xml\+Stream\+Ptr}}
\index{Xml\+Stream\+Ptr@{Xml\+Stream\+Ptr}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{Xml\+Stream\+Ptr}{XmlStreamPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Xml\+Stream}$\ast$ {\bf K\+K\+B\+::\+Xml\+Stream\+::\+Xml\+Stream\+Ptr}}\hypertarget{class_k_k_b_1_1_xml_stream_ae184ca80435ddeade4130fb7ccd7a422}{}\label{class_k_k_b_1_1_xml_stream_ae184ca80435ddeade4130fb7ccd7a422}


Definition at line 49 of file Xml\+Stream.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!Xml\+Stream@{Xml\+Stream}}
\index{Xml\+Stream@{Xml\+Stream}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{Xml\+Stream(\+Xml\+Tokenizer\+Ptr \+\_\+token\+Stream)}{XmlStream(XmlTokenizerPtr _tokenStream)}}]{\setlength{\rightskip}{0pt plus 5cm}Xml\+Stream\+::\+Xml\+Stream (
\begin{DoxyParamCaption}
\item[{{\bf Xml\+Tokenizer\+Ptr}}]{\+\_\+token\+Stream}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_xml_stream_a6703ccd123b23bacb7303162d05604a5}{}\label{class_k_k_b_1_1_xml_stream_a6703ccd123b23bacb7303162d05604a5}


Definition at line 29 of file Xml\+Stream.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), and K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str().


\begin{DoxyCode}
29                                                  :
30     endOfElementTagNames (),
31     endOfElemenReached   (\textcolor{keyword}{false}),
32     fileName             (),
33     nameOfLastEndTag     (),
34     tokenStream          (\_tokenStream),
35     weOwnTokenStream     (\textcolor{keyword}{false})
36 \{
37 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!Xml\+Stream@{Xml\+Stream}}
\index{Xml\+Stream@{Xml\+Stream}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{Xml\+Stream(const K\+K\+Str \&\+\_\+file\+Name, Run\+Log \&\+\_\+log)}{XmlStream(const KKStr &_fileName, RunLog &_log)}}]{\setlength{\rightskip}{0pt plus 5cm}Xml\+Stream\+::\+Xml\+Stream (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name, }
\item[{{\bf Run\+Log} \&}]{\+\_\+log}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_xml_stream_a5f27764abb4e5b6f18ad0a4b57dbadc0}{}\label{class_k_k_b_1_1_xml_stream_a5f27764abb4e5b6f18ad0a4b57dbadc0}


Definition at line 41 of file Xml\+Stream.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Vector\+K\+K\+Str(), and K\+K\+B\+::\+Xml\+Tokenizer\+::\+Xml\+Tokenizer().



Referenced by K\+K\+M\+L\+L\+::\+Training\+Process2\+::\+Load\+Existing\+Training\+Process(), and K\+K\+M\+L\+L\+::\+Normalization\+Parms\+::\+Read\+From\+File().


\begin{DoxyCode}
41                                                           :
42     endOfElementTagNames (),
43     endOfElemenReached   (\textcolor{keyword}{false}),
44     fileName             (\_fileName),
45     nameOfLastEndTag     (),
46     tokenStream          (NULL),
47     weOwnTokenStream     (\textcolor{keyword}{false})
48 \{
49   \textcolor{keywordtype}{bool} fileOpened = \textcolor{keyword}{false};
50   tokenStream = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_xml_tokenizer}{XmlTokenizer} (fileName, fileOpened);
51   weOwnTokenStream = \textcolor{keyword}{true};
52 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!````~Xml\+Stream@{$\sim$\+Xml\+Stream}}
\index{````~Xml\+Stream@{$\sim$\+Xml\+Stream}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{$\sim$\+Xml\+Stream()}{~XmlStream()}}]{\setlength{\rightskip}{0pt plus 5cm}Xml\+Stream\+::$\sim$\+Xml\+Stream (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_xml_stream_a64586630d4215b52a77b3816bb4cdf54}{}\label{class_k_k_b_1_1_xml_stream_a64586630d4215b52a77b3816bb4cdf54}


Definition at line 56 of file Xml\+Stream.\+cpp.


\begin{DoxyCode}
57 \{
58   \textcolor{keyword}{delete} tokenStream;
59   tokenStream = NULL;
60 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!Get\+Next\+Content@{Get\+Next\+Content}}
\index{Get\+Next\+Content@{Get\+Next\+Content}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{Get\+Next\+Content(\+Run\+Log \&log)}{GetNextContent(RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Xml\+Content\+Ptr} Xml\+Stream\+::\+Get\+Next\+Content (
\begin{DoxyParamCaption}
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_xml_stream_a1709dd71d4311c8c7bab36c24f4b90ff}{}\label{class_k_k_b_1_1_xml_stream_a1709dd71d4311c8c7bab36c24f4b90ff}
Will return any content that may exist before the next tag; if there is no content before the next tag will return N\+U\+LL 

Definition at line 210 of file Xml\+Stream.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+First\+Char(), K\+K\+B\+::\+Xml\+Tokenizer\+::\+Get\+Next\+Token(), K\+K\+B\+::\+Xml\+Tokenizer\+::\+Peek(), and K\+K\+B\+::\+Xml\+Content\+::\+Xml\+Content().


\begin{DoxyCode}
211 \{
212   \textcolor{keywordflow}{if}  (!tokenStream)
213     \textcolor{keywordflow}{return} NULL;
214 
215   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStrConstPtr}  peekNext = tokenStream->\hyperlink{class_k_k_b_1_1_xml_tokenizer_ad92283e9dae249290073a98c0c6c525c}{Peek} (0);
216   \textcolor{keywordflow}{if}  (!peekNext)
217     \textcolor{keywordflow}{return} NULL;
218 
219   \textcolor{keywordflow}{if}  (peekNext->\hyperlink{class_k_k_b_1_1_k_k_str_ac20e69c629b985c6569af914d9cc3e8c}{FirstChar} () == \textcolor{charliteral}{'<'})
220     \textcolor{keywordflow}{return} NULL;
221 
222   \textcolor{keywordflow}{else}
223   \{
224     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStrPtr} ts = tokenStream->\hyperlink{class_k_k_b_1_1_xml_tokenizer_a7214f4cd0fc6026fe5fe827ba7ad1f2f}{GetNextToken} ();
225     \textcolor{keywordflow}{if}  (ts)
226       \textcolor{keywordflow}{return}  \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_xml_content}{XmlContent} (ts);
227     \textcolor{keywordflow}{else}
228       \textcolor{keywordflow}{return}  NULL;
229   \}
230 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!Get\+Next\+Token@{Get\+Next\+Token}}
\index{Get\+Next\+Token@{Get\+Next\+Token}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{Get\+Next\+Token(\+Vol\+Const\+Bool \&cancel\+Flag, Run\+Log \&log)}{GetNextToken(VolConstBool &cancelFlag, RunLog &log)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Xml\+Token\+Ptr} Xml\+Stream\+::\+Get\+Next\+Token (
\begin{DoxyParamCaption}
\item[{{\bf Vol\+Const\+Bool} \&}]{cancel\+Flag, }
\item[{{\bf Run\+Log} \&}]{log}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{}\label{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}
Will return either a \hyperlink{class_k_k_b_1_1_xml_element}{Xml\+Element} or a \hyperlink{class_k_k_b_1_1_xml_content}{Xml\+Content} which ever is next; If we are at the end of the element then N\+U\+LL will be returned. 

Definition at line 116 of file Xml\+Stream.\+cpp.



References K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+Xml\+Factory\+::\+Factory\+Look\+Up(), K\+K\+B\+::\+K\+K\+Str\+::\+First\+Char(), K\+K\+B\+::\+Xml\+Tokenizer\+::\+Get\+Next\+Token(), Get\+Next\+Token(), K\+K\+B\+::\+Xml\+Factory\+::\+Manufature\+Xml\+Element(), K\+K\+B\+::\+Xml\+Tag\+::\+Name(), K\+K\+B\+::\+Xml\+Tag\+::tag\+Empty, K\+K\+B\+::\+Xml\+Tag\+::tag\+End, K\+K\+B\+::\+Xml\+Tag\+::tag\+Start, K\+K\+B\+::\+Xml\+Tag\+::\+Tag\+Type(), K\+K\+B\+::\+Xml\+Content\+::\+Xml\+Content(), K\+K\+B\+::\+Xml\+Element\+Un\+Known\+Factory\+Instance(), and K\+K\+B\+::\+Xml\+Tag\+::\+Xml\+Tag().



Referenced by Get\+Next\+Token(), K\+K\+M\+L\+L\+::\+Training\+Process2\+::\+Load\+Existing\+Training\+Process(), K\+K\+M\+L\+L\+::\+Normalization\+Parms\+::\+Read\+From\+File(), K\+K\+M\+L\+L\+::\+Model\+Param\+Knn\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Attribute\+Type\+Vector\+::\+Read\+X\+M\+L(), K\+K\+B\+::\+Vector\+K\+K\+Str\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Param\+Svm\+Base\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Param\+Usf\+Cas\+Cor\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Param\+Dual\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Training\+Class\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Normalization\+Parms\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Knn\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Class\+Prob\+List\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Feature\+Encoder\+::\+Read\+X\+M\+L(), K\+K\+B\+::\+Bit\+String\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Usf\+Cas\+Cor\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Attribute\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Svm\+Base\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Param\+Old\+S\+V\+M\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Feature\+Num\+List\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Training\+Class\+List\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Attribute\+List\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Binary\+Class\+Parms\+List\+::\+Read\+X\+M\+L(), S\+V\+M233\+::\+Svm\+Model233\+::\+Read\+X\+M\+L(), S\+V\+M289\+\_\+\+M\+F\+S\+::\+Svm\+\_\+\+Model\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Dual\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+File\+Desc\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+S\+V\+Mparam\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Model\+Old\+S\+V\+M\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+S\+V\+M\+Model\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Training\+Configuration2\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+Training\+Process2\+::\+Read\+X\+M\+L(), K\+K\+B\+::\+K\+K\+Str\+::\+Read\+X\+M\+L(), K\+K\+M\+L\+L\+::\+M\+L\+Class\+Index\+List\+::\+Read\+X\+M\+L(), K\+K\+B\+::\+K\+K\+Str\+List\+::\+Read\+X\+M\+L(), K\+K\+B\+::\+K\+K\+Str\+List\+Indexed\+::\+Read\+X\+M\+L(), K\+K\+B\+::\+Xml\+Element\+Array\+Float2\+D\+Varying\+::\+Xml\+Element\+Array\+Float2\+D\+Varying(), K\+K\+B\+::\+Xml\+Element\+Bool\+::\+Xml\+Element\+Bool(), K\+K\+B\+::\+Xml\+Element\+Key\+Value\+Pairs\+::\+Xml\+Element\+Key\+Value\+Pairs(), K\+K\+M\+L\+L\+::\+Xml\+Element\+M\+L\+Class\+::\+Xml\+Element\+M\+L\+Class(), K\+K\+M\+L\+L\+::\+Xml\+Element\+M\+L\+Class\+Name\+List\+::\+Xml\+Element\+M\+L\+Class\+Name\+List(), and K\+K\+B\+::\+Xml\+Element\+Un\+Known\+::\+Xml\+Element\+Un\+Known().


\begin{DoxyCode}
119 \{
120   \textcolor{keywordflow}{if}  (endOfElemenReached  || cancelFlag)
121     \textcolor{keywordflow}{return} NULL;
122 
123   \hyperlink{class_k_k_b_1_1_xml_token}{XmlTokenPtr}  token = NULL;
124 
125   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStrPtr}   t = tokenStream->\hyperlink{class_k_k_b_1_1_xml_tokenizer_a7214f4cd0fc6026fe5fe827ba7ad1f2f}{GetNextToken} ();
126   \textcolor{keywordflow}{if}  (t == NULL)
127     \textcolor{keywordflow}{return} NULL;
128 
129   \textcolor{keywordflow}{if}  (t->\hyperlink{class_k_k_b_1_1_k_k_str_ac20e69c629b985c6569af914d9cc3e8c}{FirstChar} () == \textcolor{charliteral}{'<'})
130   \{
131     \hyperlink{class_k_k_b_1_1_xml_tag}{XmlTagPtr}  tag = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_xml_tag}{XmlTag} (t);
132     \textcolor{keyword}{delete}  t;
133     t = NULL;
134     \textcolor{keywordflow}{if}  (tag->\hyperlink{class_k_k_b_1_1_xml_tag_abe56f7d7b736e627d3a9a584ff965b1e}{TagType} () == \hyperlink{class_k_k_b_1_1_xml_tag_a6c0ef0e23f982f49d55d4fb7eaff6ac9ab02b23b5e15b3a1353771313e1176ce0}{XmlTag::TagTypes::tagStart})
135     \{
136       \hyperlink{class_k_k_b_1_1_xml_factory}{XmlFactoryPtr}  factory = TrackDownFactory (tag->\hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} ());
137       \textcolor{keywordflow}{if}  (!factory)
138         factory = \hyperlink{namespace_k_k_b_a064ced683cbf54b5cc186bdadd9bda14}{XmlElementUnKnownFactoryInstance}  ();
139       \textcolor{keywordflow}{else}
140         \textcolor{keywordtype}{int} zed =100;
141       log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (50) << \textcolor{stringliteral}{"XmlStream::GetNextToken   Factory Selected: "} << factory->
      \hyperlink{class_k_k_b_1_1_xml_factory_a32733484cc01e731d559a91cde0ad252}{ClassName} () << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
142 
143       PushXmlElementLevel (tag->\hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} ());
144       token = factory->\hyperlink{class_k_k_b_1_1_xml_factory_a3f4b4f19dee1905e1758b16c66d0112a}{ManufatureXmlElement} (tag, *\textcolor{keyword}{this}, cancelFlag, log);
145       \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  endTagName = endOfElementTagNames.back ();
146       PopXmlElementLevel ();
147       endOfElemenReached = \textcolor{keyword}{false};
148     \}
149 
150     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (tag->\hyperlink{class_k_k_b_1_1_xml_tag_abe56f7d7b736e627d3a9a584ff965b1e}{TagType} () == \hyperlink{class_k_k_b_1_1_xml_tag_a6c0ef0e23f982f49d55d4fb7eaff6ac9ac842083d30a90700e09f4cbf728f01b8}{XmlTag::TagTypes::tagEmpty})
151     \{
152       \hyperlink{class_k_k_b_1_1_xml_factory}{XmlFactoryPtr}  factory = \hyperlink{class_k_k_b_1_1_xml_factory_a1fd2d78a144b13a28c3898e654d79af9}{XmlFactory::FactoryLookUp} (tag->
      \hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} ());
153       \textcolor{keywordflow}{if}  (!factory)
154         factory = \hyperlink{namespace_k_k_b_a064ced683cbf54b5cc186bdadd9bda14}{XmlElementUnKnownFactoryInstance}  ();
155       PushXmlElementLevel (tag->\hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} ());
156       endOfElemenReached = \textcolor{keyword}{true};
157       token = factory->\hyperlink{class_k_k_b_1_1_xml_factory_a3f4b4f19dee1905e1758b16c66d0112a}{ManufatureXmlElement} (tag, *\textcolor{keyword}{this}, cancelFlag, log);
158       \textcolor{keywordflow}{if}  ((!endOfElemenReached)  &&  (tag->\hyperlink{class_k_k_b_1_1_xml_tag_abe56f7d7b736e627d3a9a584ff965b1e}{TagType} () == 
      \hyperlink{class_k_k_b_1_1_xml_tag_a6c0ef0e23f982f49d55d4fb7eaff6ac9ab02b23b5e15b3a1353771313e1176ce0}{XmlTag::TagTypes::tagStart}))
159       \{
160         \textcolor{comment}{//  The element that we just read did not finish consuming all its components.}
161         log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \textcolor{stringliteral}{"XmlStream::GetNextToken   ***WARNING***   The element just read["} << tag->
      \hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} () << \textcolor{stringliteral}{"]  Did not consume all its elements."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
162         \hyperlink{class_k_k_b_1_1_xml_token}{XmlTokenPtr}  t = \hyperlink{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{GetNextToken} (cancelFlag, log);
163         \textcolor{keywordflow}{while}  (t)
164         \{
165           \textcolor{keyword}{delete} t;
166           t = \hyperlink{class_k_k_b_1_1_xml_stream_a87cc738b05c666cf5d5c25beaab477b4}{GetNextToken} (cancelFlag, log);
167         \}
168       \}
169       endOfElemenReached = \textcolor{keyword}{false};
170       PopXmlElementLevel ();
171     \}
172 
173     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (tag->\hyperlink{class_k_k_b_1_1_xml_tag_abe56f7d7b736e627d3a9a584ff965b1e}{TagType} () == \hyperlink{class_k_k_b_1_1_xml_tag_a6c0ef0e23f982f49d55d4fb7eaff6ac9a3ceaa9a790f688ec97a35b5a3fd3b164}{XmlTag::TagTypes::tagEnd})
174     \{
175       \textcolor{keywordflow}{if}  (endOfElementTagNames.size () < 1)
176       \{
177         \textcolor{comment}{// end tag with no matching start tag.}
178         log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
179             << \textcolor{stringliteral}{"XmlStream::GetNextToken   ***ERROR***   Encountered end-tag </"} << tag->
      \hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} () << \textcolor{stringliteral}{">  with no matching start-tag."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
180             << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
181       \}
182       \textcolor{keywordflow}{else}
183       \{
184         endOfElemenReached = \textcolor{keyword}{true};
185         nameOfLastEndTag = tag->\hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} ();
186         \textcolor{keywordflow}{if}  (!endOfElementTagNames.back ().EqualIgnoreCase (nameOfLastEndTag))
187         \{
188           log.\hyperlink{class_k_k_b_1_1_run_log_a32cf761d7f2e747465fd80533fdbb659}{Level} (-1) << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
189             << \textcolor{stringliteral}{"XmlStream::GetNextToken   ***ERROR***   Encountered end-tag </"} << nameOfLastEndTag << \textcolor{stringliteral}{"> 
       does not match StartTag <"} << endOfElementTagNames.back () << \textcolor{stringliteral}{">."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl}
190             << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
191           \textcolor{comment}{// </End-Tag>  does not match <Start-Tag>  we will put back on token stream assuming that we are
       missing a </End-Tag>}
192           \textcolor{comment}{// We will end the current element here.}
193           tokenStream->\hyperlink{class_k_k_b_1_1_xml_tokenizer_a6cbfa15f710ef5de797b6ac48c0ad57f}{PushTokenOnFront} (\textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} (\textcolor{stringliteral}{"<"} + tag->
      \hyperlink{class_k_k_b_1_1_xml_tag_a80934a69d86c1e06b13889fcde99a63b}{Name} () + \textcolor{stringliteral}{" />"}));
194         \}
195       \}
196       \textcolor{keyword}{delete}  tag;
197       tag = NULL;
198     \}
199   \}
200   \textcolor{keywordflow}{else}
201   \{
202     token = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_xml_content}{XmlContent} (t);
203   \}
204   \textcolor{keywordflow}{return}  token;
205 \}  \textcolor{comment}{/* GetNextToken */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}!Register\+Factory@{Register\+Factory}}
\index{Register\+Factory@{Register\+Factory}!K\+K\+B\+::\+Xml\+Stream@{K\+K\+B\+::\+Xml\+Stream}}
\subsubsection[{\texorpdfstring{Register\+Factory(\+Xml\+Factory\+Ptr factory)}{RegisterFactory(XmlFactoryPtr factory)}}]{\setlength{\rightskip}{0pt plus 5cm}void Xml\+Stream\+::\+Register\+Factory (
\begin{DoxyParamCaption}
\item[{{\bf Xml\+Factory\+Ptr}}]{factory}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_xml_stream_a2ac75e5851d105268ebb9d361f552a67}{}\label{class_k_k_b_1_1_xml_stream_a2ac75e5851d105268ebb9d361f552a67}


Registers a Factory at the current hierarchy that is being processed. 



Definition at line 67 of file Xml\+Stream.\+cpp.


\begin{DoxyCode}
68 \{
69   \textcolor{keywordflow}{if}  (factoryManagers.size () > 0)
70     factoryManagers.back ()->RegisterFactory (factory);
71   \textcolor{keywordflow}{else}
72     \hyperlink{class_k_k_b_1_1_xml_factory_ad2a973d25044d07c656e3b8b8c6176cb}{XmlFactory::RegisterFactory} (factory);
73 
74 \}  \textcolor{comment}{/* RegisterFactory */}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Base/\hyperlink{_xml_stream_8h}{Xml\+Stream.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Base/\hyperlink{_xml_stream_8cpp}{Xml\+Stream.\+cpp}\end{DoxyCompactItemize}
