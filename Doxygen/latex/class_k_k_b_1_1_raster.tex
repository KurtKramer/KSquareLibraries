\hypertarget{class_k_k_b_1_1_raster}{}\section{K\+KB\+:\+:Raster Class Reference}
\label{class_k_k_b_1_1_raster}\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}


A class that is used by to represent a single image in memory.  




{\ttfamily \#include $<$Raster.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_k_k_b_1_1_raster}{Raster} const \hyperlink{class_k_k_b_1_1_raster_a938ab844ee73af06f79244750f96d3df}{Raster\+Const}
\item 
typedef \hyperlink{class_k_k_b_1_1_raster_a938ab844ee73af06f79244750f96d3df}{Raster\+Const} $\ast$ \hyperlink{class_k_k_b_1_1_raster_ad76aea7ccc94ebd88384a43aa1a19394}{Raster\+Const\+Ptr}
\item 
typedef \hyperlink{class_k_k_b_1_1_raster}{Raster} $\ast$ \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} ()
\item 
\hyperlink{class_k_k_b_1_1_raster_a711646f50218428dc3ce40eb2b7014c9}{Raster} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&\+\_\+raster)
\begin{DoxyCompactList}\small\item\em Copy Constructor. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aabf6eb169caf874fef8e8880d63c70eb}{Raster} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width)
\begin{DoxyCompactList}\small\item\em Constructs a blank image with given dimensions; all pixels will be initialized to 0. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_a356f9c8e73cf2f6e11bfe08eadb039bb}{Raster} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, bool \+\_\+color)
\begin{DoxyCompactList}\small\item\em Constructs a blank image with given dimensions. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_a8fb1de49421cb676e585add96a6a5264}{Raster} (const \hyperlink{class_k_k_b_1_1_bmp_image}{Bmp\+Image} \&\+\_\+bmp\+Image)
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{class_k_k_b_1_1_raster}{Raster} from a B\+MP image loaded from disk. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_a882eafd0b7a2c59bf95184d141c4f76c}{Raster} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&\+\_\+raster, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width)
\begin{DoxyCompactList}\small\item\em Constructs a new \hyperlink{class_k_k_b_1_1_raster}{Raster} using a subset of the specified \hyperlink{class_k_k_b_1_1_raster}{Raster} as its source. The dimensions of the resultant raster will be \textquotesingle{}\+\_\+height\textquotesingle{}, and \textquotesingle{}\+\_\+width\textquotesingle{}. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_a5b465ed19680790d6ce617cd6dfd429b}{Raster} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&\+\_\+raster, \hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} \+\_\+mask, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+col)
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{class_k_k_b_1_1_raster}{Raster} that will be the same size as the specified \textquotesingle{}\+\_\+mask\textquotesingle{} with the top left specified by \textquotesingle{}\+\_\+row\textquotesingle{} and \textquotesingle{}\+\_\+col\textquotesingle{}. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aa6ec004fc43f9e9ff35ef9fe431cb34a}{Raster} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{file\+Name}, bool \&valid\+File)
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{class_k_k_b_1_1_raster}{Raster} image from by reading an existing image File such as a B\+MP file. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_a59efd48491562c981fc5667abfadf153}{Raster} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+\+Data, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$\+\_\+\+Rows)
\begin{DoxyCompactList}\small\item\em Construct a raster object that will utilize a image already in memory. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aa90fd7d98911e4df1cfbfdec4ee4a38c}{Raster} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, const \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+\+Data)
\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{class_k_k_b_1_1_raster}{Raster} object using provided raw data. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_a2c5461f10288456b2e2c4e863b05d868}{Raster} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, const \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+red\+Channel, const \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+green\+Channel, const \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+blue\+Channel)
\begin{DoxyCompactList}\small\item\em Construct a Color \hyperlink{class_k_k_b_1_1_raster}{Raster} object using provided raw data,. \end{DoxyCompactList}\item 
virtual \hyperlink{class_k_k_b_1_1_raster_ab5f3ec20a0cb4dc2ea18905d2e7899f6}{$\sim$\+Raster} ()
\item 
virtual \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{Allocate\+A\+Raster\+Instance} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, bool \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}) const 
\item 
virtual \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a490e886e849ecdaa388e3450252d1bdc}{Allocate\+A\+Raster\+Instance} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&r) const 
\item 
virtual \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a607062dbb7b0c291cab5d27f21cbbd00}{Allocate\+A\+Raster\+Instance} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&\+\_\+raster, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width) const 
\item 
bool \hyperlink{class_k_k_b_1_1_raster_ada0a1ce889e08d42187b02a2fe0444df}{Are\+There\+Edge\+Pixels} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} edge\+Width)
\begin{DoxyCompactList}\small\item\em returns true if there are any foreground pixels within \textquotesingle{}edge\+Width\textquotesingle{} pixels of the top, bottom, left, or right edges of the image. \end{DoxyCompactList}\item 
bool \hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{Background\+Pixel} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col) const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a96e0ed160e633c316cf83890ef3438eb}{Background\+Pixel\+TH} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a9e61fc5f775a6d5ef2c755fdfd614ce7}{Background\+Pixel\+TH} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \+\_\+background\+Pixel\+TH)
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{Background\+Pixel\+Value} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a29a9b296b0d83fa3df6886ae3b05e8d4}{Background\+Pixel\+Value} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \+\_\+background\+Pixel\+Value)
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a94d83cfbb56203e1e386ccecefc48d1e}{Band\+Pass} (float lower\+Freq\+Bound, float upper\+Freq\+Bound, bool retain\+Background)
\begin{DoxyCompactList}\small\item\em Returns a image that is the result of a Band\+Pass using Fourier Transforms. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a4c88882b1c1110a57d26c58587a98eef}{Binarize\+By\+Threshold} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{_usf_cas_cor_8h_a8195a86b6d75b9a3939505e8bb50021e}{min}, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{_usf_cas_cor_8h_ab95f7757e11b270d27b95ec0d8e798b5}{max}) const 
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_a56eb24ef49650f2bb3540c92f1369ba0}{Blob\+Id} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col) const 
\begin{DoxyCompactList}\small\item\em Return the ID of the blob that the specified pixel location belongs to. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue} () const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{Blue\+Area} () const 
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_af390f8a3cd8f37b2b501d1ee9d35eeed}{Calc\+Area} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_a938d83368f5eb94e1426dba3f3556e99}{Calc\+Area\+And\+Intensity\+Features} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&area, float \&weighted\+Size, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} intensity\+Hist\+Buckets\mbox{[}8\mbox{]}, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&area\+With\+White\+Space, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} intensity\+Hist\+Buckets\+White\+Space\mbox{[}8\mbox{]}) const 
\begin{DoxyCompactList}\small\item\em Calculates both Intensity Histograms, one not including internal background pixels and one with plus size and weighted size. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_aae98cb9ab477fa22f09ec06f0ad057bc}{Calc\+Area\+And\+Intensity\+Features} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&area, float \&weighted\+Size, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} intensity\+Hist\+Buckets\mbox{[}8\mbox{]}) const 
\begin{DoxyCompactList}\small\item\em Calculates both Intensity Histograms, one not including internal background pixels and one with plus size and weighted size. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a3cc8283e0f535e09657a98ca642a9a7d}{Calc\+Area\+And\+Intensity\+Features16} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&area, float \&weighed\+Size, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} intensity\+Hist\+Buckets\mbox{[}16\mbox{]})
\item 
void \hyperlink{class_k_k_b_1_1_raster_ab00a913651d081e3d84eb49e18788517}{Calc\+Area\+And\+Intensity\+Histogram} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&area, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} intensity\+Hist\+Buckets\mbox{[}8\mbox{]}) const 
\begin{DoxyCompactList}\small\item\em Calculates the occurrence of different intensity levels. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_ad6b4dbd9e1af3392dc3187e4c3378086}{Calc\+Area\+And\+Intensity\+Histogram\+White} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&area, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} intensity\+Hist\+Buckets\mbox{[}8\mbox{]})
\begin{DoxyCompactList}\small\item\em Calculates a Intensity \hyperlink{class_k_k_b_1_1_histogram}{Histogram} including Background pixels in the image. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a89e2ed864ff7030d55bf4c655de15636}{Calc\+Centroid} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&size, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&weight, float \&row\+Center, float \&col\+Center, float \&row\+Center\+Weighted, float \&col\+Center\+Weighted) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a29cf40b3b79c549ef3e875348f6fb053}{Calc\+Orientation\+And\+Eiger\+Ratio} (float \&eigen\+Ratio, float \&orientation\+Angle)
\item 
float \hyperlink{class_k_k_b_1_1_raster_acdaddc7e7396dd621f98d007dd59e403}{Calc\+Weighted\+Area} () const 
\item 
double \hyperlink{class_k_k_b_1_1_raster_abf23069a9a29f91def97309944d543f5}{Cen\+Moment} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col\+Moment, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row\+Moment, double center\+Col, double center\+Row) const 
\item 
float \hyperlink{class_k_k_b_1_1_raster_a0f7f7ed827eb8b676c3ea3aea427a49c}{Cen\+Moment\+Weighted} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} p, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} q, float ew, float eh) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a48d9a6e24ed721effc322d9b3bb7ab7d}{Central\+Moments} (float features\mbox{[}9\mbox{]}) const 
\begin{DoxyCompactList}\small\item\em returns in \textquotesingle{}features\textquotesingle{} the 8 central moments as defined by Hu plus eccentricity in the eight bucket. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a8fdeeeb015d5ab1b6f481f6c6a21dd9b}{Central\+Moments\+Weighted} (float features\mbox{[}9\mbox{]}) const 
\begin{DoxyCompactList}\small\item\em Similar to \textquotesingle{}Central\+Moments\textquotesingle{} except each pixel position is weighted by its intensity value. \end{DoxyCompactList}\item 
float \hyperlink{class_k_k_b_1_1_raster_a27438047c266b2a207918a60831b0677}{Centroid\+Col} () const 
\item 
float \hyperlink{class_k_k_b_1_1_raster_ab74f32c36bb08f11b52e748527052c20}{Centroid\+Row} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a94fed3ca0f4c163500235447a44f3067}{Closing} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_ae87534cc6246107a595083c08f9130fa}{Closing} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask)
\item 
bool \hyperlink{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{Color} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_aba990cd9fd39b7804863b6d4cad39f05}{Compute\+Central\+Moments} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foreground\+Pixel\+Count}, float \&weighted\+Pixel\+Count, float central\+Moments\mbox{[}9\mbox{]}, float central\+Moments\+Weighted\mbox{[}9\mbox{]}) const 
\begin{DoxyCompactList}\small\item\em Computes central moments; one set where each pixel is treated as 1 or 0(Foreground/\+Background) and the other where each pixel is weighted by intensity value. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a3062e4d08b104319c1da0561017eb6f7}{Connected\+Component} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} connected\+Component\+Dist)
\item 
void \hyperlink{class_k_k_b_1_1_raster_af5bce18047f6f93accafcc4f6fa0f8f3}{Connected\+Component8\+Conected} ()
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ad9aafcf75ace95ae4e5170ffa5b44f0d}{Create\+Color} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a2161a69c86313baeff5d21f66cd9efd7}{Create\+Color\+Image\+From\+Labels} ()
\begin{DoxyCompactList}\small\item\em Produces a color image using the \textquotesingle{}green\+Area\textquotesingle{} channel, assuming that each unique value will be assigned a unique color. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a8c410f4489fcff95c0041e94ccebd504}{Create\+Color\+With\+Blobs\+Labeld\+By\+Color} (\hyperlink{namespace_k_k_b_a43f0fcfaef97a91bc290134c9a407d4d}{Blob\+List\+Ptr} blobs)
\begin{DoxyCompactList}\small\item\em Returns image where each blob is labeled with a different color. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_add28bd664fc2962aed6631d157a37aa6}{Create\+Dilated\+Raster} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a388b0f8522bf7d89833398a08e534190}{Create\+Dilated\+Raster} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a026621d5d9e30567daa0062c57a05d54}{Create\+Eroded\+Image} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a65c37759a81d05fe07ec1f3ec38ea30f}{Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} orig\+Image, \hyperlink{namespace_k_k_b_a43f0fcfaef97a91bc290134c9a407d4d}{Blob\+List\+Ptr} blobs)
\begin{DoxyCompactList}\small\item\em Returns a copy of \textquotesingle{}orig\+Image\textquotesingle{} where only the blobs specified in \textquotesingle{}blobs\textquotesingle{} are copied over. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_af1178db42e2bd30a47b9ee3e0199d356}{Create\+Gaussian\+Smoothed\+Image} (float sigma) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ab2a2f8d11f4d51cbc5418069a7b58299}{Create\+Gray\+Scale} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_afc5e92625a20de51791bd369340d9fa2}{Create\+Gray\+Scale\+K\+LT} () const 
\begin{DoxyCompactList}\small\item\em Creates a image using a K\+LT Transform with the goal of weighting in favor the color channels with greatest amount of variance. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a279dc0c8311fd9b4cfaf351ae515bba2}{Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&mask) const 
\begin{DoxyCompactList}\small\item\em Same as \textquotesingle{}Create\+K\+LT\textquotesingle{} except it will only take into account pixels specified by the \textquotesingle{}mask\textquotesingle{} image. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a89598f745fffeb6d89c8e01446ff72a3}{Create\+Smoothed\+Medium\+Image} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} mask\+Size) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a7cc2985980e4679bd1ce1283da0bd9a3}{Create\+Smooth\+Image} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} mask\+Size=3) const 
\item 
\hyperlink{namespace_k_k_b_ad6b8056511ec9a218dd5ef30b57d1415}{Point\+List\+Ptr} \hyperlink{class_k_k_b_1_1_raster_aa062339510c35f16df15b8d803e20b02}{Derive\+Image\+Length} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}{Dilation} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_a0611d08df2ec9c3ba78b6d8f221b407f}{Dilation} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} dest) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a7171dd6394e04a8585790231e09737a2}{Dilation} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a9db1b47039b2eeea6dc55d2812ca79db}{Dilation} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} dest, \hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a85c8038b1c4ba67cc609ecec37fa6e88}{Dilation} (\hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3}{Morph\+Op\+::\+Structure\+Type} \+\_\+structure, \hyperlink{namespace_k_k_b_aa8c7d4d30381c8a0b6fce68974a9c8a9}{kkuint16} \+\_\+structure\+Size, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+foreground\+Count\+TH)
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_a6a5e1b533d8455653b32215094b70179}{Divisor} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a13531b0af4388acd010ed80e71c12d30}{Divisor} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+divisor)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a21fa17339fe0c963d0cf7af374255cd0}{Draw\+Circle} (const \hyperlink{class_k_k_b_1_1_point}{Point} \&point, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} radius, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
\begin{DoxyCompactList}\small\item\em Draw a circle who\textquotesingle{}s center is at \textquotesingle{}point\textquotesingle{} and radius in pixels is \textquotesingle{}radius\textquotesingle{} using color \textquotesingle{}color\textquotesingle{}. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a4c2bf896887fa1bb0413d78ea4f58cbe}{Draw\+Circle} (float center\+Row, float center\+Col, float radius, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pixel\+Value)
\item 
void \hyperlink{class_k_k_b_1_1_raster_af1c00ed51760513b1ec1be5a7418a96d}{Draw\+Circle} (float center\+Row, float center\+Col, float radius, float start\+Angle, float end\+Angle, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pixel\+Value)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a508adfee4d3a801d193390bb53bbe2fa}{Draw\+Connected\+Point\+List} (\hyperlink{class_k_k_b_1_1_point}{Point} offset, const \hyperlink{class_k_k_b_1_1_point_list}{Point\+List} \&border\+Pixs, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pixel\+Value, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&line\+Pixel\+Value)
\item 
void \hyperlink{class_k_k_b_1_1_raster_aeaf39a193318e5d9cef06f736fc97f7e}{Draw\+Dot} (const \hyperlink{class_k_k_b_1_1_point}{Point} \&point, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} size)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a3bfd7c65bbcc718997607651d9a2d043}{Draw\+Fat\+Line} (\hyperlink{class_k_k_b_1_1_point}{Point} start\+Point, \hyperlink{class_k_k_b_1_1_point}{Point} end\+Point, \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} pv, float alpha)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a7a954cb16dc7d0f651ee95bb2483d38c}{Draw\+Grid} (float pixels\+Per\+Minor, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} minors\+Per\+Major, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&hash\+Color, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&grid\+Color)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{Draw\+Line} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Col)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a2d611fbbce8226f7f0fd7f3e1bab9f78}{Draw\+Line} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} pixel\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_ac6461ac804cc01723c4359e156fa9fab}{Draw\+Line} (const \hyperlink{class_k_k_b_1_1_point}{Point} \&begin\+Point, const \hyperlink{class_k_k_b_1_1_point}{Point} \&end\+Point, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} pixel\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a45e0f83a666f40d6d84e674f996b7570}{Draw\+Line} (const \hyperlink{class_k_k_b_1_1_point}{Point} \&begin\+Point, const \hyperlink{class_k_k_b_1_1_point}{Point} \&end\+Point, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pixel\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a6c5dcf4f51729014eb17ee0acf33b94c}{Draw\+Line} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} r, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} g, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} b)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a5f85d89a5a5c23a5f19cd2090d39cfc5}{Draw\+Line} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} r, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} g, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} b, float alpha)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a28fbbdb8290487d13725ce4610a030c1}{Draw\+Line} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Col, \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} pixel\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a3348d6cd4db5b01284004cc20d411dc4}{Draw\+Line} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} bp\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} ep\+Col, \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} pixel\+Val, float alpha)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a7afa361fd71c5eaad80941bece5f68a1}{Draw\+Point\+List} (const \hyperlink{class_k_k_b_1_1_point_list}{Point\+List} \&border\+Pixs, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pixel\+Value)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a204938dab72379d43cd231d67ed1241e}{Draw\+Point\+List} (\hyperlink{class_k_k_b_1_1_point}{Point} offset, const \hyperlink{class_k_k_b_1_1_point_list}{Point\+List} \&border\+Pixs, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pixel\+Value)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a2de3887292960a46cfb2af7b8d10f51e}{Draw\+Point\+List} (const \hyperlink{class_k_k_b_1_1_point_list}{Point\+List} \&border\+Pixs, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} red\+Val, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} green\+Val, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} blue\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a2db797acdc478931e0a5f65509330445}{Draw\+Point\+List} (\hyperlink{class_k_k_b_1_1_point}{Point} offset, const \hyperlink{class_k_k_b_1_1_point_list}{Point\+List} \&border\+Pixs, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} red\+Val, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} green\+Val, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} blue\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a02fe968acb47d8f7654c115041598c8a}{Edge} ()
\begin{DoxyCompactList}\small\item\em reduces image to edge pixels only. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a8d1b7f8485f2634b6d8c8499d63b7453}{Edge} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} dest)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a282cb542ba0069ee5da5c82913390f46}{Erode\+Spurs} ()
\begin{DoxyCompactList}\small\item\em removes spurs from image. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{Erosion} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_acb9279f22fd4af75dd91360474528cff}{Erosion} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask)
\item 
void \hyperlink{class_k_k_b_1_1_raster_aad2335f0f5c873c70374d0ff0cd05775}{Erosion} (\hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3}{Morph\+Op\+::\+Structure\+Type} \+\_\+structure, \hyperlink{namespace_k_k_b_aa8c7d4d30381c8a0b6fce68974a9c8a9}{kkuint16} \+\_\+structure\+Size, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+background\+Count\+TH)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a390aeef1c03a10740baec6e3fb7736c0}{Erosion} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} dest) const 
\begin{DoxyCompactList}\small\item\em Place into destination a eroded version of this instances image. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_ac426d284da43e060747bac5635d8cb4b}{Erosion} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} dest, \hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a854cc80ed1c095771599d0638856a962}{Erosion\+Boundary} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} blobrowstart, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} blobrowend, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} blobcolstart, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} blobcolend)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a9cf44682126ede6d178929102e91347e}{Erosion\+Changed} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col)
\item 
void \hyperlink{class_k_k_b_1_1_raster_ac63c5c6b86add9da92cd2e8d833b2c6c}{Erosion\+Changed1} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col)
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a920f703a69e0585fb8983ecb3fa032f0}{Extract\+A\+Blob} (const \hyperlink{namespace_k_k_b_a4fa91a7788b982654fca9d7319b98cb4}{Blob\+Ptr} blob) const 
\begin{DoxyCompactList}\small\item\em Extracts a specified blob from this image; useful to extract individual detected blobs. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a6f5f3da9439ecb65a8bb485f669d1759}{Extract\+A\+Blob\+Tightly} (const \hyperlink{namespace_k_k_b_a4fa91a7788b982654fca9d7319b98cb4}{Blob\+Ptr} blob, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} padding) const 
\begin{DoxyCompactList}\small\item\em Extracts a specified blob from this image into a tightly bounded image. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_b_a43f0fcfaef97a91bc290134c9a407d4d}{Blob\+List\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a5d6059f6d0020e493683b2a00a6a8821}{Extract\+Blobs} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} dist)
\begin{DoxyCompactList}\small\item\em Will extract a list of connected components from this instance. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_afe394fc6faac00f67a5cde4c1f3b70cb}{Extract\+Channel} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718}{Color\+Channels} channel)
\begin{DoxyCompactList}\small\item\em Will return a gray-\/scale image consisting of the specified color channel only. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a92640499842068eb907e5022ce86fc8c}{Extract\+Using\+Mask} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} mask)
\begin{DoxyCompactList}\small\item\em Extracts the pixel locations where the \textquotesingle{}mask\textquotesingle{} images pixel location is a foreground pixel. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a4a74dade8e36080787196869aec765ac}{Fast\+Fourier} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a88808cc3166c4285d93074c408aa8895}{Fast\+Fourier\+KK} () const 
\item 
const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \& \hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{File\+Name} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_ab9954a7ba274481a1188494328e22071}{File\+Name} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+file\+Name)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a0a760739608520ceb59da06ac9ff02d1}{Fill\+Blob} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} orig\+Image, \hyperlink{namespace_k_k_b_a4fa91a7788b982654fca9d7319b98cb4}{Blob\+Ptr} blob, \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
\begin{DoxyCompactList}\small\item\em Will paint the specified blob with the specified color. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a617d427bb2b7094a9d012e63036a66d8}{Fill\+Hole} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_ab419a5200300c0d6193486db1807d7c3}{Fill\+Hole} (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} mask)
\begin{DoxyCompactList}\small\item\em Fills holes in the image using the \textquotesingle{}mask\textquotesingle{} raster as a work area. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}{Fill\+Rectangle} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} tl\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} tl\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} br\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} br\+Col, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&fill\+Color)
\item 
void \hyperlink{class_k_k_b_1_1_raster_aee22b87a6feeb8a3e4a388400a23f616}{Find\+Bounding\+Box} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&tl\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&tl\+Col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&br\+Row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \&br\+Col) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a4d5971382b178d3a1591a52fd31767c1}{Find\+Magnitude\+Differences} (const \hyperlink{class_k_k_b_1_1_raster}{Raster} \&r)
\begin{DoxyCompactList}\small\item\em Returns an image that reflects the differences between this image and the image supplied in the parameter. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_a93fb53b114f805671e0898ec7f3fd682}{Follow\+Contour} (float countour\+Freq\mbox{[}5\mbox{]}) const 
\item 
bool \hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{Foreground\+Pixel} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col) const 
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}{Foreground\+Pixel\+Count} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_aec13e4947e66742d2cc3dd71cd4f713c}{Foreground\+Pixel\+Count} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+foreground\+Pixel\+Count)
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{Foreground\+Pixel\+Value} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a1ea84f51a0a064df90791ad229c5dab6}{Foreground\+Pixel\+Value} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \+\_\+foreground\+Pixel\+Value)
\item 
void \hyperlink{class_k_k_b_1_1_raster_aab93f287971129b24f374d94ca38a5d9}{Fourier\+Extract\+Features} (float fourier\+Features\mbox{[}5\mbox{]}) const 
\item 
float $\ast$ \hyperlink{class_k_k_b_1_1_raster_ac94aed2b3906aab15df37838d286b0d9}{Fourier\+Mag\+Area} () const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{Get\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a52256bcca71985aff40bc96101e8a14d}{Get\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \&r, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \&g, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \&b) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_ac8f891c48cad1ccfbde5eb70bdba3915}{Get\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&p) const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a42e210e47eaa87454e2f230bc658a94f}{Get\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718}{Color\+Channels} channel, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col) const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{Get\+Sub\+Set} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$\+\_\+src, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+col, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width) const 
\begin{DoxyCompactList}\small\item\em Returns back a two dimension array that is a copy of the specified region in the image. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} () const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{Green\+Area} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a6d1c81a622ccfcf9e738198a409b3c88}{Half\+Size} ()
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () const 
\item 
\hyperlink{namespace_k_k_b_a48b9611558f2c43f7ee877adb475b286}{Histogram\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ae50c283424d3fbbdea957a3ff955909f}{Histogram} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718}{Color\+Channels} channel) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a9ed877aa9bf8ec0bd7c4c2ec0eabfe6a}{Histogram\+Equalized\+Image} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a1990483c71de66a962a20c19c00a8fdc}{Histogram\+Equalized\+Image} (\hyperlink{namespace_k_k_b_a48b9611558f2c43f7ee877adb475b286}{Histogram\+Ptr} equalized\+Histogram) const 
\item 
\hyperlink{namespace_k_k_b_a48b9611558f2c43f7ee877adb475b286}{Histogram\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}{Histogram\+Grayscale} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ab0a488458ec56a95238463ba29a2101c}{Histogram\+Grayscale\+Image} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a116dbe1289e1ebbe9a2625f686879523}{Histogram\+Image} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718}{Color\+Channels} channel) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a39c4cd3394798c5e4c80eeecbd2db121}{Initialize} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+\+Data, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$\+\_\+\+Rows, bool \+\_\+take\+Ownership)
\begin{DoxyCompactList}\small\item\em Sets an existing instance to specific \hyperlink{class_k_k_b_1_1_raster}{Raster} Data of a image. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_ae3f9d840f284324b36deffcf68ac7c63}{Initialize} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+red\+Area, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$\+\_\+red, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+green\+Area, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$\+\_\+green, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$\+\_\+blue\+Area, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$\+\_\+blue, bool \+\_\+take\+Ownership)
\begin{DoxyCompactList}\small\item\em Sets an existing instance to specific \hyperlink{class_k_k_b_1_1_raster}{Raster} Data of a image. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a94e979bbb6ad22937b9c4d57291521ca}{Max\+Pix\+Val} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_ac28bdf805fc076d94f8032f208683409}{Max\+Pix\+Val} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \+\_\+max\+Pix\+Val)
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_a201b99bad46e69e8df529bd60e84ab11}{Memory\+Consumed\+Estimated} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a97cd9df45456230dc14e5c448f8d379e}{Opening} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_a72d8e2f3498bbe33b3587234413a81bf}{Opening} (\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Mask\+Types} mask)
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ab7277c5bb190aae94b37158fd05d08da}{Padded} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} padding)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}{Paint\+Fat\+Point} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} pv, float alpha)
\item 
void \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{Paint\+Point} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pv, float alpha)
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red} () const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{Red\+Area} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a7f932c0cc0961de4706a356a2bee8bbb}{Reduce\+By\+Even\+Multiple} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} multiple) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_abd1fcfba95cd98f0509810dc6d1c9784}{Reduce\+By\+Factor} (float factor) const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a80542e020bcb5252079bea98b7f19e50}{Reduce\+To\+Most\+Complete\+Blob} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} connected\+Component\+Dist)
\begin{DoxyCompactList}\small\item\em Locates most complete blob; that is the one with the largest (Height x Width); and removes all other images from the blob. \end{DoxyCompactList}\item 
void \hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{Re\+Size} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+height, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \+\_\+width, bool \+\_\+color)
\begin{DoxyCompactList}\small\item\em Lets you resize the raster dimensions; old image data will be lost. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a7e08c23ca46019cf0d71fbd58816ee50}{Reversed\+Image} ()
\item 
void \hyperlink{class_k_k_b_1_1_raster_a6bd18a014fd3867714e04c037f021497}{Reverse\+Image} ()
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a7b77d6efde4a3d52b70489180b9afc93}{Rotate} (float turn\+Angle)
\item 
\hyperlink{class_k_k_b_1_1_point}{Point} \hyperlink{class_k_k_b_1_1_raster_a10227c8d743941ea2e8a961fbad3d471}{Rotate\+Derive\+Pre\+Rotated\+Point} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_point}{Point} \&rotated\+Point, float turn\+Angle) const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a2460989f656e5222d6074cd0ba85ed72}{Rows} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a5e55331b6ea8e6517a3c17819db74c25}{Segment\+Image} (bool save=false)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{Set\+Pixel\+Value} (const \hyperlink{class_k_k_b_1_1_point}{Point} \&point, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pix\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_a5f7e27c9a966bec844c7ecf33964f679}{Set\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} pix\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_ae13673a78281e24097ede5a825f76dac}{Set\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&pix\+Val)
\item 
void \hyperlink{class_k_k_b_1_1_raster_ad30a7874abb478048c8de65b6b9e17f2}{Set\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} r, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} g, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} b)
\item 
void \hyperlink{class_k_k_b_1_1_raster_afa75e86849bd89d5e5b27bc09cf64576}{Set\+Pixel\+Value} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718}{Color\+Channels} channel, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col, \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} pix\+Val)
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_a426bf1a664b189e3e8a24d7955d97b4e}{Simple\+Compression} (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} \&buff\+Len) const 
\begin{DoxyCompactList}\small\item\em Compresses the image in \hyperlink{class_k_k_b_1_1_raster}{Raster} using a simple Run length algorithm and returns a pointer to compressed data. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a41eed40d88fc32beb26b51df5490a30f}{Sobel\+Edge\+Detector} () const 
\item 
\hyperlink{namespace_k_k_b_a5369c086484e7d77bcb87b0b8aa7193d}{Raster\+List\+Ptr} \hyperlink{class_k_k_b_1_1_raster_aa0294d021fa2182494130ab7482d6245}{Split\+Image\+Into\+Equal\+Parts} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} num\+Col\+Splits, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} num\+Row\+Splits) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a4f7b265b19d74bc95270060a0d573057}{Streatch\+Image} (float row\+Factor, float col\+Factor) const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_abe4c971aa421088b32edbbc993209c45}{Swap\+Quadrants} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a657ea947ce97d0f9d967e6688ef8db20}{Take\+Ownership\+Of\+Another\+Rasters\+Data} (\hyperlink{class_k_k_b_1_1_raster}{Raster} \&other\+Raster)
\begin{DoxyCompactList}\small\item\em Will take ownership of \textquotesingle{}other\+Raster\textquotesingle{} raster dynamically allocated data and copy its non dynamically allocated data. \end{DoxyCompactList}\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a213e2625810c526dae791ff6aadad2a5}{Thin\+Contour} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_afabacb96b4da8518f62606be99ed6258}{Threshold\+In\+H\+SI} (float thresholdH, float thresholdS, float thresholdI, float distance, const \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} \&flag\+Value)
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_abbc38b282b908ac9f3c4f3c23a55cc89}{Tightly\+Bounded} (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} border\+Pixels) const 
\item 
const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \& \hyperlink{class_k_k_b_1_1_raster_a9e7ba13e99d1ecf0e0beb971612521bb}{Title} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a0e7fc9d6359e98e183ac889ee408baee}{Title} (const \hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \&\+\_\+title)
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a1576f8a937b051757f52f863b8c75a6a}{To\+Color} () const 
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_a936cd7ef055191a8dec317e9d44ad902}{To\+Compressor} (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} \&compressed\+Buff\+Len) const 
\begin{DoxyCompactList}\small\item\em Compresses the image in \hyperlink{class_k_k_b_1_1_raster}{Raster} using zlib library and returns a pointer to compressed data. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_ac227e0f97820f74b2518b10852fd2d13}{Total\+Background\+Pixels} () const 
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_a174a392b71afc2295a0ccbfca3d984e9}{Tot\+Pixels} () const 
\item 
\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a16c996a65c972f27643d45daf111a579}{Transpose} () const 
\item 
void \hyperlink{class_k_k_b_1_1_raster_a4347bd47b18ef660a3f62254635c6d12}{We\+Own\+Raster\+Data} (bool \+\_\+we\+Own\+Raster\+Data)
\item 
void \hyperlink{class_k_k_b_1_1_raster_ab5a1cf29864ca9b4553d40e0a184c3e4}{White\+Out\+Background} ()
\begin{DoxyCompactList}\small\item\em Sets all pixels that are in the Background Range ov values to Background\+Pixel\+Value. \end{DoxyCompactList}\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{namespace_k_k_b_a6e7c1ba6b19bffb29c885d2a62e7d235}{Matrix\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ac01c3f7be62b86764ddd044ef7af0b5a}{Build\+Gaussian2d\+Kernel} (float sigma)
\begin{DoxyCompactList}\small\item\em Builds a 2d Gaussian kernel. \end{DoxyCompactList}\item 
static \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a80828292a321ed5e829d400b16dd400d}{Create\+Padded\+Raster} (\hyperlink{class_k_k_b_1_1_bmp_image}{Bmp\+Image} \&image, \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} padding)
\item 
static \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a9fa3ee3074ada8cca3f5a5b2eb00db9e}{From\+Compressor} (const \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$compressed\+Buff, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} compressed\+Buff\+Len)
\begin{DoxyCompactList}\small\item\em Creates a new instance of \hyperlink{class_k_k_b_1_1_raster}{Raster} object from z\+Lib compressed data. \end{DoxyCompactList}\item 
static \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} \hyperlink{class_k_k_b_1_1_raster_ab58d451ba12b799aa65f3b7a9ea69cac}{From\+Simple\+Compression} (const \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$compressed\+Buff, \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} compressed\+Buff\+Len)
\begin{DoxyCompactList}\small\item\em Creates a raster from a compressed\+Buff created by \textquotesingle{}Simple\+Compression\textquotesingle{}. \end{DoxyCompactList}\item 
static void \hyperlink{class_k_k_b_1_1_raster_ab7d2c23c80e882321a9f8c7baa958899}{Print\+Out\+List\+Of\+Allocatedraster\+Instances} ()
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{Add\+Raster\+Instance} (const \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} r)
\item 
static void \hyperlink{class_k_k_b_1_1_raster_aaea50416d1a465c2bd46351c1229fecb}{Final\+Clean\+Up} ()
\item 
static void \hyperlink{class_k_k_b_1_1_raster_ae26204a81a54b533b562a8bb8044a397}{Initialize} ()
\item 
static void \hyperlink{class_k_k_b_1_1_raster_a08a471ab2ba9036fd5c21f07a1e67fe8}{Remove\+Raster\+Instance} (const \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} r)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{background\+Pixel\+TH}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{background\+Pixel\+Value}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blob\+Ids}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blue\+Area}
\item 
float \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroid\+Col}
\item 
float \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroid\+Row}
\item 
bool \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}
\item 
\hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{file\+Name}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foreground\+Pixel\+Count}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foreground\+Pixel\+Value}
\item 
float $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourier\+Mag}
\item 
float $\ast$ \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourier\+Mag\+Area}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{green\+Area}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{max\+Pix\+Val}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$$\ast$ \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}
\item 
\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} $\ast$ \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{red\+Area}
\item 
\hyperlink{class_k_k_b_1_1_k_k_str}{K\+K\+Str} \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{tot\+Pixels}
\item 
bool \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{we\+Own\+Raster\+Data}
\item 
\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::map$<$ \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr}, \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{Raster\+Ptr} $>$ \hyperlink{class_k_k_b_1_1_raster_a58c233ff55c2a1fa1b021776e7437c27}{allocated\+Raster\+Instances}
\begin{DoxyCompactList}\small\item\em Supports the tracking down of memory leaks in \hyperlink{class_k_k_b_1_1_raster}{Raster}; it will be called every time a new instance of a \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} object is created. \end{DoxyCompactList}\item 
static volatile \hyperlink{namespace_k_k_b_ae74d71076d6a6eb363f18a563ac0785a}{Goal\+Keeper\+Ptr} \hyperlink{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{goal\+Keeper} = N\+U\+LL
\item 
static volatile bool \hyperlink{class_k_k_b_1_1_raster_a2610974dbde577985214db37444f5560}{raster\+Initialized} = false
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A class that is used by to represent a single image in memory. 

This class supports morphological operations and other tasks and can handle either Gray-\/scale or Color. The default is Gray-\/scale unless otherwise specified. Each color channel will be allocated as one continuous block of memory. If the image is only gray-\/scale the Green Channel (G) will be used leaving the Red and Blue channels set to N\+U\+LL. Access to individual pixels through is through methods that will ensure memory integrity. If required can also access the pixel data directly in memory. Each channel can be accessed as a one or two dimensional array. For example the green channel can be accesses as either \char`\"{}\+Green\+Area ()\char`\"{} which returns a pointer to a one dimensional array or \char`\"{}\+Green ()\char`\"{} which returns a two dimensional array. The imagery is stored in the one dimensional array while the two dimensional is a list of pointers to the beginning of each row. \begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_b_1_1_blob}{Blob} 

\hyperlink{class_k_k_b_1_1_contour_follower}{Contour\+Follower} 

\hyperlink{class_k_k_b_1_1_convex_hull}{Convex\+Hull} 

\hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} 

\hyperlink{class_k_k_b_1_1_point}{Point} 

\hyperlink{class_k_k_b_1_1_point_list}{Point\+List} 

Raster\+List() 
\end{DoxySeeAlso}


Definition at line 108 of file Raster.\+h.



\subsection{Member Typedef Documentation}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster\+Const@{Raster\+Const}}
\index{Raster\+Const@{Raster\+Const}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster\+Const}{RasterConst}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Raster} const {\bf K\+K\+B\+::\+Raster\+::\+Raster\+Const}}\hypertarget{class_k_k_b_1_1_raster_a938ab844ee73af06f79244750f96d3df}{}\label{class_k_k_b_1_1_raster_a938ab844ee73af06f79244750f96d3df}


Definition at line 112 of file Raster.\+h.

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster\+Const\+Ptr@{Raster\+Const\+Ptr}}
\index{Raster\+Const\+Ptr@{Raster\+Const\+Ptr}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster\+Const\+Ptr}{RasterConstPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Raster\+Const}$\ast$ {\bf K\+K\+B\+::\+Raster\+::\+Raster\+Const\+Ptr}}\hypertarget{class_k_k_b_1_1_raster_ad76aea7ccc94ebd88384a43aa1a19394}{}\label{class_k_k_b_1_1_raster_ad76aea7ccc94ebd88384a43aa1a19394}


Definition at line 113 of file Raster.\+h.

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster\+Ptr@{Raster\+Ptr}}
\index{Raster\+Ptr@{Raster\+Ptr}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster\+Ptr}{RasterPtr}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Raster}$\ast$ {\bf K\+K\+B\+::\+Raster\+::\+Raster\+Ptr}}\hypertarget{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{}\label{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}


Definition at line 111 of file Raster.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster()}{Raster()}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{}\label{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}


Definition at line 287 of file Raster.\+cpp.



References background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
287                :
288   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
289   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
290   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
291   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (0.0f),
292   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (0.0f),
293   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{false}),
294   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
295   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
296   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
297   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
298   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
299   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (0),
300   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
301   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
302   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (0),
303   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
304   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (0),
305 
306   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}              (NULL),
307   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}            (NULL),
308   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}             (NULL),
309 
310   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                  (NULL),
311   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                (NULL),
312   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                 (NULL)
313 \{
314 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(const Raster \&\+\_\+raster)}{Raster(const Raster &_raster)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{\+\_\+raster}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a711646f50218428dc3ce40eb2b7014c9}{}\label{class_k_k_b_1_1_raster_a711646f50218428dc3ce40eb2b7014c9}


Copy Constructor. 



Definition at line 460 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.



Referenced by Allocate\+A\+Raster\+Instance(), Calc\+Area\+And\+Intensity\+Features(), Calc\+Area\+And\+Intensity\+Histogram\+White(), Create\+Color(), Edge(), Erode\+Spurs(), Erosion(), Erosion\+Boundary(), Erosion\+Changed(), Erosion\+Changed1(), Fill\+Hole(), K\+K\+B\+::\+Morph\+Op\+Dilation\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Erosion\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), and K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image().


\begin{DoxyCode}
460                                      :
461 
462   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue}  (\_raster.\hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue}),
463   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}     (\_raster.\hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}),
464   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}               (NULL),
465   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}           (\_raster.\hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}),
466   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}           (\_raster.\hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}),
467   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                 (\_raster.\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}),
468   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}               (1),
469   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}              (\_raster.\hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}),
470   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}  (\_raster.\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}),
471   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue}  (\_raster.\hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue}),
472   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}            (NULL),
473   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}        (NULL),
474   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}                (\_raster.\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}),
475   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}             (\_raster.\hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}),
476   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                 (),
477   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}             (\_raster.\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}),
478   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}       (\textcolor{keyword}{true}),
479   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                 (\_raster.\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}),
480 
481   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}          (NULL),
482   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}        (NULL),
483   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}         (NULL),
484 
485   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}              (NULL),
486   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}            (NULL),
487   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}             (NULL)
488 
489 \{
490   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
491 
492   AllocateImageArea ();
493   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea})  \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (\textcolor{stringliteral}{"Raster::Raster  Failed to allocate 'greenArea'.
      "});
494   memcpy (\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \_raster.\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
495 
496   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
497   \{
498     \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea})   \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException}(\textcolor{stringliteral}{"Raster::Raster  Allocation of 'redArea'  failed."}
      );
499     \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea})  \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException}(\textcolor{stringliteral}{"Raster::Raster  Allocation of 'blueArea' failed.
      "});
500     memcpy (\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea},  \_raster.\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea},  \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
501     memcpy (\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}, \_raster.\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
502   \}
503 
504   \textcolor{keywordflow}{if}  (\_raster.\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea})
505   \{
506     AllocateFourierMagnitudeTable ();
507     \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea})  \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (\textcolor{stringliteral}{"Raster::Raster  Allocation of
       'fourierMagArea' failed."});
508     memcpy (\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}, \_raster.\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}, sizeof (\textcolor{keywordtype}{float}) * 
      \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
509   \}
510 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(kkint32 \+\_\+height, kkint32 \+\_\+width)}{Raster(kkint32 _height, kkint32 _width)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_aabf6eb169caf874fef8e8880d63c70eb}{}\label{class_k_k_b_1_1_raster_aabf6eb169caf874fef8e8880d63c70eb}


Constructs a blank image with given dimensions; all pixels will be initialized to 0. 

When working with images pixel value of \textquotesingle{}0\textquotesingle{} = Background and \textquotesingle{}255\textquotesingle{}= foreground. The green channel will be used to represent the value. When these raster images are saved to a image file such as a B\+MP file the pixel value of 0 will point to the color value of (255, 255, 255) and pixel value 255 will point to the color value of (0, 0, 0). This way when displaying the image background will appear as white. 

Definition at line 318 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.



Referenced by K\+K\+B\+::\+Histogram\+::\+Create\+Graph(), Fast\+Fourier(), K\+K\+B\+::\+Convex\+Hull\+::\+Filter(), and K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation().


\begin{DoxyCode}
320                 :
321 
322   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
323   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
324   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
325   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (0.0f),
326   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (0.0f),
327   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{false}),
328   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
329   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
330   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
331   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
332   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
333   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
334   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\_height),
335   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
336   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
337   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (\_height * \_width),
338   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
339   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\_width),
340 
341   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}              (NULL),
342   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}            (NULL),
343   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}             (NULL),
344 
345   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                  (NULL),
346   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                (NULL),
347   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                 (NULL)
348 
349 \{
350   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
351   AllocateImageArea ();
352 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(kkint32 \+\_\+height, kkint32 \+\_\+width, bool \+\_\+color)}{Raster(kkint32 _height, kkint32 _width, bool _color)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{bool}]{\+\_\+color}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a356f9c8e73cf2f6e11bfe08eadb039bb}{}\label{class_k_k_b_1_1_raster_a356f9c8e73cf2f6e11bfe08eadb039bb}


Constructs a blank image with given dimensions. 

The third parameter determines whether it will be a color or image, If a Color image then all three color channel will be set to = 255 which stands for white. If the green channel will be set to 0. 

Definition at line 356 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.



Referenced by Allocate\+A\+Raster\+Instance(), Create\+Color(), Create\+Padded\+Raster(), K\+K\+B\+::\+Chart\+::\+Create\+Raster(), Extract\+Using\+Mask(), Find\+Magnitude\+Differences(), From\+Compressor(), From\+Simple\+Compression(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation(), K\+K\+B\+::\+Read\+Image\+P\+G\+M(), K\+K\+B\+::\+Read\+Image\+P\+P\+M(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image(), and Transpose().


\begin{DoxyCode}
359                 :
360 
361   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
362   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
363   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
364   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (0.0f),
365   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (0.0f),
366   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\_color),
367   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
368   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
369   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
370   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
371   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
372   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
373   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\_height),
374   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
375   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
376   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (\_height * \_width),
377   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
378   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\_width),
379 
380   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}              (NULL),
381   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}            (NULL),
382   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}             (NULL),
383 
384   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                  (NULL),
385   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                (NULL),
386   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                 (NULL)
387 
388 \{
389   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
390   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
391   \{
392     \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} = 255;
393     \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} = 0;
394     \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    = 255 - 31;
395   \}
396 
397   AllocateImageArea ();
398 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(const Bmp\+Image \&\+\_\+bmp\+Image)}{Raster(const BmpImage &_bmpImage)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{const {\bf Bmp\+Image} \&}]{\+\_\+bmp\+Image}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a8fb1de49421cb676e585add96a6a5264}{}\label{class_k_k_b_1_1_raster_a8fb1de49421cb676e585add96a6a5264}


Constructs a \hyperlink{class_k_k_b_1_1_raster}{Raster} from a B\+MP image loaded from disk. 

If B\+MP Image is a gray-\/scale value pixel values will be reversed. See description of constructor.

If B\+MP Image is a gray-\/scale value pixel values will be reversed. See description of gray-\/scale constructor. 

Definition at line 405 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, K\+K\+B\+::\+Bmp\+Image\+::\+Blue\+Row(), centroid\+Col, centroid\+Row, K\+K\+B\+::\+Bmp\+Image\+::\+Color(), color, divisor, K\+K\+B\+::\+Bmp\+Image\+::\+File\+Name(), file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, K\+K\+B\+::\+Bmp\+Image\+::\+Height(), height, K\+K\+B\+::\+Bmp\+Image\+::\+Image\+Row(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, K\+K\+B\+::\+Bmp\+Image\+::\+Red\+Row(), title, tot\+Pixels, we\+Own\+Raster\+Data, K\+K\+B\+::\+Bmp\+Image\+::\+Width(), and width.



Referenced by K\+K\+B\+::\+Read\+Image().


\begin{DoxyCode}
405                                          :
406 
407   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue}  (0),
408   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}     (31),
409   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}               (NULL),
410   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}           (0.0f),
411   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}           (0.0f),
412   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                 (\textcolor{keyword}{false}),
413   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}               (1),
414   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}              (\_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_a59ed1f99c1554aa3b12b3a90195d9b51}{FileName} ()),
415   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}  (0),
416   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue}  (255),
417   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}            (NULL),
418   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}        (NULL),
419   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}                (\_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_ae9a8a8f35af1c7d4b2fabbea4b92cc23}{Height} ()),
420   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}             (0),
421   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                 (),
422   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}             (\_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_ae9a8a8f35af1c7d4b2fabbea4b92cc23}{Height} () * \_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_a843e1821a1191100b03da9258e77e356}{Width} ()),
423   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}       (\textcolor{keyword}{true}),
424   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                 (\_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_a843e1821a1191100b03da9258e77e356}{Width} ()),
425 
426   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}               (NULL),
427   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}             (NULL),
428   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}              (NULL),
429 
430   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                   (NULL),
431   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                 (NULL),
432   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                  (NULL)
433 
434 \{
435   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
436   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} = \_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_ada730c1253be818b247e711665b0114b}{Color} ();
437   AllocateImageArea ();
438 
439   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
440 
441   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
442   \{
443     \textcolor{keyword}{const} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* imageRow = \_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_ab0d6fac104e1b68ac72e4c7b57dc5ead}{ImageRow} (row);
444     memcpy (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row], imageRow, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width});
445     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
446     \{
447       \textcolor{keyword}{const} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  blueRow = \_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_a8b6bd225b80088718f631a7646f0d7d5}{BlueRow} (row);
448       memcpy (\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row], blueRow, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width});
449 
450       \textcolor{keyword}{const} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  redRow = \_bmpImage.\hyperlink{class_k_k_b_1_1_bmp_image_aa871576b403fb4bfa8a4e33a82c25549}{RedRow} (row);
451       memcpy (\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[row], redRow, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width});
452     \}
453   \}
454 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(const Raster \&\+\_\+raster, kkint32 \+\_\+row, kkint32 \+\_\+col, kkint32 \+\_\+height, kkint32 \+\_\+width)}{Raster(const Raster &_raster, kkint32 _row, kkint32 _col, kkint32 _height, kkint32 _width)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{\+\_\+raster, }
\item[{{\bf kkint32}}]{\+\_\+row, }
\item[{{\bf kkint32}}]{\+\_\+col, }
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a882eafd0b7a2c59bf95184d141c4f76c}{}\label{class_k_k_b_1_1_raster_a882eafd0b7a2c59bf95184d141c4f76c}


Constructs a new \hyperlink{class_k_k_b_1_1_raster}{Raster} using a subset of the specified \hyperlink{class_k_k_b_1_1_raster}{Raster} as its source. The dimensions of the resultant raster will be \textquotesingle{}\+\_\+height\textquotesingle{}, and \textquotesingle{}\+\_\+width\textquotesingle{}. 


\begin{DoxyParams}{Parameters}
{\em \+\_\+raster} & Source \hyperlink{class_k_k_b_1_1_raster}{Raster} \\
\hline
{\em \+\_\+row} & Starting \hyperlink{class_k_k_b_1_1_row}{Row} in \textquotesingle{}\+\_\+raster\textquotesingle{} to copy from. \\
\hline
{\em \+\_\+col} & Starting Col in \textquotesingle{}\+\_\+raster\textquotesingle{} to copy from. \\
\hline
{\em \+\_\+height} & Height of resultant raster. Will start from \textquotesingle{}\+\_\+row\textquotesingle{} \\
\hline
{\em \+\_\+width} & Width of resultant raster. \\
\hline
\end{DoxyParams}


Definition at line 514 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, Get\+Sub\+Set(), green, green\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.



Referenced by Allocate\+A\+Raster\+Instance(), and Split\+Image\+Into\+Equal\+Parts().


\begin{DoxyCode}
519                 :
520 
521   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (\_raster.\hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue}),
522   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (\_raster.\hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}),
523   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
524   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (-1.0f),
525   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (-1.0f),
526   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\_raster.\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}),
527   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
528   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
529   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
530   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (\_raster.\hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue}),
531   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
532   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
533   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\_height),
534   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
535   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
536   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (\_height * \_width),
537   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
538   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\_width),
539 
540   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   (NULL),
541   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} (NULL),
542   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  (NULL),
543 
544   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}       (NULL),
545   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     (NULL),
546   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}      (NULL)
547 
548 \{
549   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
550 
551   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} = \_raster.\hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{GetSubSet} (\_raster.\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}, \_row, \_col, \_height, \_width);
552   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[0];
553 
554   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
555   \{
556     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} = \_raster.\hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{GetSubSet} (\_raster.\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}, \_row, \_col, \_height, \_width);
557     \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea} = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[0];
558 
559     \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue} = \_raster.\hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{GetSubSet} (\_raster.\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}, \_row, \_col, \_height, \_width);
560     \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea} = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[0];
561   \}
562 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(const Raster \&\+\_\+raster, Mask\+Types \+\_\+mask, kkint32 \+\_\+row, kkint32 \+\_\+col)}{Raster(const Raster &_raster, MaskTypes _mask, kkint32 _row, kkint32 _col)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{\+\_\+raster, }
\item[{{\bf Mask\+Types}}]{\+\_\+mask, }
\item[{{\bf kkint32}}]{\+\_\+row, }
\item[{{\bf kkint32}}]{\+\_\+col}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5b465ed19680790d6ce617cd6dfd429b}{}\label{class_k_k_b_1_1_raster_a5b465ed19680790d6ce617cd6dfd429b}


Constructs a \hyperlink{class_k_k_b_1_1_raster}{Raster} that will be the same size as the specified \textquotesingle{}\+\_\+mask\textquotesingle{} with the top left specified by \textquotesingle{}\+\_\+row\textquotesingle{} and \textquotesingle{}\+\_\+col\textquotesingle{}. 

The Height and Width of the resultant image will come from the bias of the specified mask. The Image data will come from the specified raster using \textquotesingle{}\+\_\+row\textquotesingle{} and \textquotesingle{}\+\_\+col\textquotesingle{} to specify the top left column. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+raster} & Source \hyperlink{class_k_k_b_1_1_raster}{Raster} to extract data from. \\
\hline
\mbox{\tt in}  & {\em \+\_\+mask} & Used to derive height and with of resultant image. \\
\hline
\mbox{\tt in}  & {\em \+\_\+row} & Starting row where image data is to be extracted from. \\
\hline
\mbox{\tt in}  & {\em \+\_\+col} & Starting column where image data is to be extracted from. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eb}{Morph\+Op\+::\+Mask\+Types} 
\end{DoxySeeAlso}


Definition at line 566 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, K\+K\+B\+::\+Morph\+Op\+::\+Biases(), blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, Get\+Sub\+Set(), green, green\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
570                 :
571 
572   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (\_raster.\hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue}),
573   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (\_raster.\hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}),
574   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
575   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (-1),
576   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (-1),
577   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{false}),
578   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
579   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
580   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
581   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (\_raster.\hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue}),
582   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
583   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
584   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (\_mask) * 2 + 1),
585   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
586   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
587   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (0),
588   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
589   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (\_mask) * 2 + 1),
590 
591   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   (NULL),
592   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} (NULL),
593   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  (NULL),
594 
595   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}       (NULL),
596   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     (NULL),
597   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}      (NULL)
598 
599 \{
600   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
601 
602   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
603 
604   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r = \_row - \hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (\_mask);
605   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c = \_col - \hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (\_mask);
606 
607   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} = \_raster.\hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{GetSubSet} (\_raster.\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}, r, c, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, width);  
608   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[0];
609   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
610   \{
611     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} = \_raster.\hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{GetSubSet} (\_raster.\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}, r, c, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, width);
612     \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea} = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[0];
613 
614     \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue} = \_raster.\hyperlink{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{GetSubSet} (\_raster.\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}, r, c, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, width);
615     \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea} = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[0];
616   \}
617 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(const K\+K\+Str \&file\+Name, bool \&valid\+File)}{Raster(const KKStr &fileName, bool &validFile)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{file\+Name, }
\item[{bool \&}]{valid\+File}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_aa6ec004fc43f9e9ff35ef9fe431cb34a}{}\label{class_k_k_b_1_1_raster_aa6ec004fc43f9e9ff35ef9fe431cb34a}


Constructs a \hyperlink{class_k_k_b_1_1_raster}{Raster} image from by reading an existing image File such as a B\+MP file. 

Will read from the specified file (file\+Name) the existing image. If the load fails then the contents of this object will be undefined. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file\+Name} & Name of Image file to read. \\
\hline
\mbox{\tt out}  & {\em valid\+File} & If image successfully loaded will be set to \textquotesingle{}True\textquotesingle{} otherwise \textquotesingle{}False\textquotesingle{}. \\
\hline
\end{DoxyParams}

\begin{DoxyParams}{Parameters}
{\em file\+Name} & \\
\hline
{\em file\+Name} & name of image file to load/ \\
\hline
{\em valid\+File} & \\
\hline
{\em valid\+File} & will return true if image successfully loaded. \\
\hline
\end{DoxyParams}


Definition at line 622 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, Blue(), blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, Foreground\+Pixel\+Count(), foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, Green(), green, green\+Area, Height(), height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), Max\+Pix\+Val(), max\+Pix\+Val, K\+K\+B\+::\+Read\+Image(), Red(), red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+List\+::\+Recalc\+Feature\+Values\+From\+Images\+In\+Dir\+Tree().


\begin{DoxyCode}
624                 :
625 
626   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
627   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
628   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
629   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (-1),
630   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (-1),
631   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{false}),
632   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
633   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (\_fileName),
634   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
635   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
636   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
637   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
638   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (0),
639   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
640   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
641   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (0),
642   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
643   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (0),
644 
645   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   (NULL),
646   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} (NULL),
647   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  (NULL),
648 
649   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}       (NULL),
650   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     (NULL),
651   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}      (NULL)
652 
653 \{
654   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
655 
656   validFile = \textcolor{keyword}{true};
657   
658   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} r = \hyperlink{namespace_k_k_b_ac16e808442fd255d2b7d09df8f11ae07}{ReadImage} (fileName);
659 
660   \textcolor{keywordflow}{if}  (!r)
661   \{
662     validFile = \textcolor{keyword}{false};
663     \textcolor{keyword}{delete}  r;
664     r = NULL;
665     \textcolor{keywordflow}{return};
666   \}
667 
668   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}       = r->\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}   ();
669   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = r->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
670   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}      = r->\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue}  ();
671   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}    = r->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ();
672   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}     = r->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} ();
673   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   = r->\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea};
674   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = r->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
675   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  = r->\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea};
676   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = r->\hyperlink{class_k_k_b_1_1_raster_a94e979bbb6ad22937b9c4d57291521ca}{MaxPixVal} ();
677   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} = r->\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};
678   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}     = r->\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color};
679   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = r->\hyperlink{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}{ForegroundPixelCount} ();
680 
681   r->\hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData} = \textcolor{keyword}{false};
682   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData} = \textcolor{keyword}{true};
683   \textcolor{keyword}{delete}  r;
684 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(kkint32 \+\_\+height, kkint32 \+\_\+width, uchar $\ast$\+\_\+\+Data, uchar $\ast$$\ast$\+\_\+\+Rows)}{Raster(kkint32 _height, kkint32 _width, uchar *_Data, uchar **_Rows)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{{\bf uchar} $\ast$}]{\+\_\+\+Data, }
\item[{{\bf uchar} $\ast$$\ast$}]{\+\_\+\+Rows}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a59efd48491562c981fc5667abfadf153}{}\label{class_k_k_b_1_1_raster_a59efd48491562c981fc5667abfadf153}


Construct a raster object that will utilize a image already in memory. 

This instance will N\+OT O\+WN the raster data; it will only point to it. That means when this instance is destroyed the raster data will still be left intact. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+height} & Height of image. \\
\hline
\mbox{\tt in}  & {\em \+\_\+width} & Width of image. \\
\hline
\mbox{\tt in}  & {\em \+\_\+\+Data} & Source gray-\/scale raster data; needs to be continuous and of length (\+\_\+height $\ast$ \+\_\+width) with data stored row major. \\
\hline
\mbox{\tt in}  & {\em \+\_\+\+Rows} & Two dimensional array where each entry will point into the respective image row data in \textquotesingle{}\+\_\+\+Data\textquotesingle{}. \\
\hline
\end{DoxyParams}


Definition at line 689 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
693                 :
694   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
695   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
696   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
697   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (0.0f),
698   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (0.0f),
699   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{false}),
700   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
701   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
702   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
703   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
704   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
705   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
706   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\_height),
707   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
708   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
709   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (\_height * \_width),
710   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{false}),
711   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\_width),
712 
713   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}              (NULL),
714   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}            (\_grayScaleData),
715   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}             (NULL),
716 
717   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                  (NULL),
718   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                (\_grayScaleRows),
719   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                 (NULL)
720 
721 \{
722   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
723 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(kkint32 \+\_\+height, kkint32 \+\_\+width, const uchar $\ast$\+\_\+\+Data)}{Raster(kkint32 _height, kkint32 _width, const uchar *_Data)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{const {\bf uchar} $\ast$}]{\+\_\+\+Data}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_aa90fd7d98911e4df1cfbfdec4ee4a38c}{}\label{class_k_k_b_1_1_raster_aa90fd7d98911e4df1cfbfdec4ee4a38c}


Construct a \hyperlink{class_k_k_b_1_1_raster}{Raster} object using provided raw data. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+height} & Image Height. \\
\hline
\mbox{\tt in}  & {\em \+\_\+width} & Image Width. \\
\hline
\mbox{\tt in}  & {\em \+\_\+\+Data} & 8 Bit data, \hyperlink{class_k_k_b_1_1_row}{Row} Major, that is to be used to populate new instance. \\
\hline
\end{DoxyParams}


Definition at line 727 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
730                 :
731   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
732   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
733   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
734   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (0.0f),
735   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (0.0f),
736   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{false}),
737   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
738   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
739   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
740   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
741   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
742   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
743   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\_height),
744   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
745   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
746   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (\_height * \_width),
747   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
748   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\_width),
749 
750   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}              (NULL),
751   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}            (NULL),
752   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}             (NULL),
753 
754   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                  (NULL),
755   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                (NULL),
756   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                 (NULL)
757 
758 \{
759   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
760   AllocateImageArea ();
761   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea})  \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (\textcolor{stringliteral}{"Raster::Raster   Failed to allocate
       'greenArea'."});
762   memcpy (\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \_grayScaleData, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
763 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Raster@{Raster}}
\index{Raster@{Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Raster(kkint32 \+\_\+height, kkint32 \+\_\+width, const uchar $\ast$\+\_\+red\+Channel, const uchar $\ast$\+\_\+green\+Channel, const uchar $\ast$\+\_\+blue\+Channel)}{Raster(kkint32 _height, kkint32 _width, const uchar *_redChannel, const uchar *_greenChannel, const uchar *_blueChannel)}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{const {\bf uchar} $\ast$}]{\+\_\+red\+Channel, }
\item[{const {\bf uchar} $\ast$}]{\+\_\+green\+Channel, }
\item[{const {\bf uchar} $\ast$}]{\+\_\+blue\+Channel}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a2c5461f10288456b2e2c4e863b05d868}{}\label{class_k_k_b_1_1_raster_a2c5461f10288456b2e2c4e863b05d868}


Construct a Color \hyperlink{class_k_k_b_1_1_raster}{Raster} object using provided raw data,. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+height} & Image Height. \\
\hline
\mbox{\tt in}  & {\em \+\_\+width} & Image Width. \\
\hline
\mbox{\tt in}  & {\em \+\_\+red\+Channel} & 8 Bit data, \hyperlink{class_k_k_b_1_1_row}{Row} Major, that is to be used to populate the red channel. \\
\hline
\mbox{\tt in}  & {\em \+\_\+green\+Channel} & 8 Bit data, \hyperlink{class_k_k_b_1_1_row}{Row} Major, that is to be used to populate the green channel. \\
\hline
\mbox{\tt in}  & {\em \+\_\+blue\+Channel} & 8 Bit data, \hyperlink{class_k_k_b_1_1_row}{Row} Major, that is to be used to populate the blue channel. \\
\hline
\end{DoxyParams}


Definition at line 766 of file Raster.\+cpp.



References Add\+Raster\+Instance(), background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), max\+Pix\+Val, red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
771                 :
772   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} (0),
773   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    (31),
774   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}              (NULL),
775   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}          (0.0f),
776   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}          (0.0f),
777   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                (\textcolor{keyword}{true}),
778   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              (1),
779   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             (),
780   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} (0),
781   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} (255),
782   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}           (NULL),
783   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}       (NULL),
784   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}               (\_height),
785   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            (0),
786   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                (),
787   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}            (\_height * \_width),
788   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      (\textcolor{keyword}{true}),
789   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                (\_width),
790 
791   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}              (NULL),
792   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}            (NULL),
793   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}             (NULL),
794 
795   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                  (NULL),
796   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                (NULL),
797   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                 (NULL)
798 
799 \{
800   \hyperlink{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{AddRasterInstance} (\textcolor{keyword}{this});
801   AllocateImageArea ();
802   \textcolor{keywordflow}{if}  ((!\_redChannel)  ||  (!\_greenChannel)  ||  (!\_blueChannel))
803   \{
804     \hyperlink{class_k_k_b_1_1_k_k_str}{KKB::KKStr} errMsg;
805     errMsg << \textcolor{stringliteral}{"Raster::Raster   ***ERROR***   One of the provided channels is 'NULL'."};
806     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
807     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
808   \}
809 
810   \textcolor{keywordflow}{if} ((!\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}) || (!\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}) || (!\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}))
811   \{
812     \hyperlink{class_k_k_b_1_1_k_k_str}{KKB::KKStr} errMsg;
813     errMsg << \textcolor{stringliteral}{"Raster::Raster   ***ERROR***   Not all channels were allocated."};
814     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
815     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException}(errMsg);
816   \}
817 
818   memcpy (\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea},   \_redChannel,   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
819   memcpy (\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \_greenChannel, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
820   memcpy (\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea},  \_blueChannel,  \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
821 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!````~Raster@{$\sim$\+Raster}}
\index{````~Raster@{$\sim$\+Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{$\sim$\+Raster()}{~Raster()}}]{\setlength{\rightskip}{0pt plus 5cm}Raster\+::$\sim$\+Raster (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_raster_ab5f3ec20a0cb4dc2ea18905d2e7899f6}{}\label{class_k_k_b_1_1_raster_ab5f3ec20a0cb4dc2ea18905d2e7899f6}


Definition at line 826 of file Raster.\+cpp.



References Remove\+Raster\+Instance().


\begin{DoxyCode}
827 \{
828   \hyperlink{class_k_k_b_1_1_raster_a08a471ab2ba9036fd5c21f07a1e67fe8}{RemoveRasterInstance} (\textcolor{keyword}{this});
829   CleanUpMemory ();
830 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Add\+Raster\+Instance@{Add\+Raster\+Instance}}
\index{Add\+Raster\+Instance@{Add\+Raster\+Instance}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Add\+Raster\+Instance(const Raster\+Ptr r)}{AddRasterInstance(const RasterPtr r)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Add\+Raster\+Instance (
\begin{DoxyParamCaption}
\item[{const {\bf Raster\+Ptr}}]{r}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}{}\label{class_k_k_b_1_1_raster_aa6abf9e1a0c1c684b8ea94ce9bc77918}


Definition at line 106 of file Raster.\+cpp.



Referenced by Raster().


\begin{DoxyCode}
107 \{
108   \textcolor{comment}{/*}
109 \textcolor{comment}{  if  (!rasterInitialized)}
110 \textcolor{comment}{    Initialize ();}
111 \textcolor{comment}{}
112 \textcolor{comment}{  goalKeeper->StartBlock ();}
113 \textcolor{comment}{}
114 \textcolor{comment}{  map<RasterPtr, RasterPtr>::iterator  idx;}
115 \textcolor{comment}{  idx = allocatedRasterInstances.find (r);}
116 \textcolor{comment}{  if  (idx != allocatedRasterInstances.end ())}
117 \textcolor{comment}{  \{}
118 \textcolor{comment}{    cerr << std::endl << "Raster::AddRasterInstance   ***ERROR***   Raster Instance[" << r << "] Already in
       list." << std::endl << std::endl;}
119 \textcolor{comment}{  \}}
120 \textcolor{comment}{  else}
121 \textcolor{comment}{  \{}
122 \textcolor{comment}{    allocatedRasterInstances.insert (pair<RasterPtr, RasterPtr> (r, r));}
123 \textcolor{comment}{  \}}
124 \textcolor{comment}{  goalKeeper->EndBlock ();}
125 \textcolor{comment}{  */}
126 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Allocate\+A\+Raster\+Instance@{Allocate\+A\+Raster\+Instance}}
\index{Allocate\+A\+Raster\+Instance@{Allocate\+A\+Raster\+Instance}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Allocate\+A\+Raster\+Instance(kkint32 height, kkint32 width, bool color) const }{AllocateARasterInstance(kkint32 height, kkint32 width, bool color) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Allocate\+A\+Raster\+Instance (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{height, }
\item[{{\bf kkint32}}]{width, }
\item[{bool}]{color}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{}\label{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}


Definition at line 1014 of file Raster.\+cpp.



References Raster().



Referenced by Band\+Pass(), Create\+Color\+Image\+From\+Labels(), Create\+Color\+With\+Blobs\+Labeld\+By\+Color(), Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Extract\+A\+Blob(), Extract\+A\+Blob\+Tightly(), Extract\+Channel(), Fast\+Fourier\+K\+K(), Half\+Size(), Histogram\+Equalized\+Image(), Padded(), Reduce\+By\+Even\+Multiple(), Reduce\+By\+Factor(), Rotate(), Segment\+Image(), Tightly\+Bounded(), and To\+Color().


\begin{DoxyCode}
1018 \{
1019   \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
1020 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Allocate\+A\+Raster\+Instance@{Allocate\+A\+Raster\+Instance}}
\index{Allocate\+A\+Raster\+Instance@{Allocate\+A\+Raster\+Instance}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Allocate\+A\+Raster\+Instance(const Raster \&r) const }{AllocateARasterInstance(const Raster &r) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Allocate\+A\+Raster\+Instance (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{r}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_raster_a490e886e849ecdaa388e3450252d1bdc}{}\label{class_k_k_b_1_1_raster_a490e886e849ecdaa388e3450252d1bdc}


Definition at line 1024 of file Raster.\+cpp.



References Raster().



Referenced by Create\+Dilated\+Raster(), Create\+Eroded\+Image(), Create\+Gaussian\+Smoothed\+Image(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Create\+Smoothed\+Medium\+Image(), Create\+Smooth\+Image(), Extract\+Channel(), Reversed\+Image(), Segment\+Image(), Swap\+Quadrants(), Thin\+Contour(), Threshold\+In\+H\+S\+I(), and To\+Color().


\begin{DoxyCode}
1025 \{
1026   \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (r);
1027 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Allocate\+A\+Raster\+Instance@{Allocate\+A\+Raster\+Instance}}
\index{Allocate\+A\+Raster\+Instance@{Allocate\+A\+Raster\+Instance}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Allocate\+A\+Raster\+Instance(const Raster \&\+\_\+raster, kkint32 \+\_\+row, kkint32 \+\_\+col, kkint32 \+\_\+height, kkint32 \+\_\+width) const }{AllocateARasterInstance(const Raster &_raster, kkint32 _row, kkint32 _col, kkint32 _height, kkint32 _width) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Allocate\+A\+Raster\+Instance (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{\+\_\+raster, }
\item[{{\bf kkint32}}]{\+\_\+row, }
\item[{{\bf kkint32}}]{\+\_\+col, }
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_k_k_b_1_1_raster_a607062dbb7b0c291cab5d27f21cbbd00}{}\label{class_k_k_b_1_1_raster_a607062dbb7b0c291cab5d27f21cbbd00}

\begin{DoxyParams}{Parameters}
{\em \+\_\+raster} & Source \hyperlink{class_k_k_b_1_1_raster}{Raster} \\
\hline
{\em \+\_\+row} & Starting \hyperlink{class_k_k_b_1_1_row}{Row} in \textquotesingle{}\+\_\+raster\textquotesingle{} to copy from. \\
\hline
{\em \+\_\+col} & Starting Col in \textquotesingle{}\+\_\+raster\textquotesingle{} to copy from. \\
\hline
{\em \+\_\+height} & Height of resultant raster. Will start from \textquotesingle{}\+\_\+row\textquotesingle{} \\
\hline
{\em \+\_\+width} & Width of resultant raster. \\
\hline
\end{DoxyParams}


Definition at line 1031 of file Raster.\+cpp.



References Raster().


\begin{DoxyCode}
1037 \{
1038   \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (\_raster, \_row, \_col, \_height, \_width);
1039 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Are\+There\+Edge\+Pixels@{Are\+There\+Edge\+Pixels}}
\index{Are\+There\+Edge\+Pixels@{Are\+There\+Edge\+Pixels}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Are\+There\+Edge\+Pixels(kkint32 edge\+Width)}{AreThereEdgePixels(kkint32 edgeWidth)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Raster\+::\+Are\+There\+Edge\+Pixels (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{edge\+Width}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ada0a1ce889e08d42187b02a2fe0444df}{}\label{class_k_k_b_1_1_raster_ada0a1ce889e08d42187b02a2fe0444df}


returns true if there are any foreground pixels within \textquotesingle{}edge\+Width\textquotesingle{} pixels of the top, bottom, left, or right edges of the image. 



Definition at line 1516 of file Raster.\+cpp.



References Foreground\+Pixel(), height, and width.


\begin{DoxyCode}
1517 \{
1518   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} edgeIdx = 0;  edgeIdx < edgeWidth;  ++edgeIdx)
1519   \{
1520     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  topRow = edgeIdx;
1521     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  botRow = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - (edgeIdx + 1);
1522 
1523     \textcolor{keywordflow}{for}  (\textcolor{keywordtype}{int} c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
1524     \{
1525       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (topRow, c)  ||  \hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (botRow, c))
1526         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1527     \}
1528 
1529     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  leftCol = edgeIdx;
1530     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rightCol = width - (1 + edgeIdx);
1531 
1532     \textcolor{keywordflow}{for}  (\textcolor{keywordtype}{int} r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
1533     \{
1534       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (r, leftCol)  ||  \hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (r, rightCol))
1535         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1536     \}
1537   \}
1538   \textcolor{keywordflow}{return}  \textcolor{keyword}{false};
1539 \}  \textcolor{comment}{/* AreThereEdgePixels */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Background\+Pixel@{Background\+Pixel}}
\index{Background\+Pixel@{Background\+Pixel}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Background\+Pixel(kkint32 row, kkint32 col) const }{BackgroundPixel(kkint32 row, kkint32 col) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool Raster\+::\+Background\+Pixel (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{}\label{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}


Definition at line 1074 of file Raster.\+cpp.



References background\+Pixel\+TH, background\+Pixel\+Value, and green.



Referenced by White\+Out\+Background().


\begin{DoxyCode}
1077 \{
1078   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} < 125)
1079      \textcolor{keywordflow}{return} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH});
1080   \textcolor{keywordflow}{else}
1081      \textcolor{keywordflow}{return} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] >= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH});
1082 \}  \textcolor{comment}{/* ForegroundPixel */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Background\+Pixel\+TH@{Background\+Pixel\+TH}}
\index{Background\+Pixel\+TH@{Background\+Pixel\+TH}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Background\+Pixel\+T\+H() const }{BackgroundPixelTH() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::\+Background\+Pixel\+TH (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a96e0ed160e633c316cf83890ef3438eb}{}\label{class_k_k_b_1_1_raster_a96e0ed160e633c316cf83890ef3438eb}


Definition at line 335 of file Raster.\+h.



References background\+Pixel\+TH.



Referenced by K\+K\+B\+::\+Contour\+Follower\+::\+Contour\+Follower(), Extract\+Using\+Mask(), K\+K\+B\+::\+Morph\+Op\+Bmi\+Filtering\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image(), and K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster().


\begin{DoxyCode}
335 \{\textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Background\+Pixel\+TH@{Background\+Pixel\+TH}}
\index{Background\+Pixel\+TH@{Background\+Pixel\+TH}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Background\+Pixel\+T\+H(uchar \+\_\+background\+Pixel\+T\+H)}{BackgroundPixelTH(uchar _backgroundPixelTH)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Background\+Pixel\+TH (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{\+\_\+background\+Pixel\+TH}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a9e61fc5f775a6d5ef2c755fdfd614ce7}{}\label{class_k_k_b_1_1_raster_a9e61fc5f775a6d5ef2c755fdfd614ce7}


Definition at line 341 of file Raster.\+h.



References background\+Pixel\+TH.



Referenced by Extract\+Using\+Mask(), and K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation().


\begin{DoxyCode}
341 \{\hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}    = \_backgroundPixelTH;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Background\+Pixel\+Value@{Background\+Pixel\+Value}}
\index{Background\+Pixel\+Value@{Background\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Background\+Pixel\+Value() const }{BackgroundPixelValue() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::\+Background\+Pixel\+Value (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{}\label{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}


Definition at line 336 of file Raster.\+h.



References background\+Pixel\+Value.



Referenced by Extract\+Using\+Mask(), K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Erosion\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), and K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster().


\begin{DoxyCode}
336 \{\textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Background\+Pixel\+Value@{Background\+Pixel\+Value}}
\index{Background\+Pixel\+Value@{Background\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Background\+Pixel\+Value(uchar \+\_\+background\+Pixel\+Value)}{BackgroundPixelValue(uchar _backgroundPixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Background\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{\+\_\+background\+Pixel\+Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a29a9b296b0d83fa3df6886ae3b05e8d4}{}\label{class_k_k_b_1_1_raster_a29a9b296b0d83fa3df6886ae3b05e8d4}


Definition at line 342 of file Raster.\+h.



References background\+Pixel\+Value.



Referenced by Extract\+Using\+Mask(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), and Segment\+Image().


\begin{DoxyCode}
342 \{\hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} = \_backgroundPixelValue;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Band\+Pass@{Band\+Pass}}
\index{Band\+Pass@{Band\+Pass}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Band\+Pass(float lower\+Freq\+Bound, float upper\+Freq\+Bound, bool retain\+Background)}{BandPass(float lowerFreqBound, float upperFreqBound, bool retainBackground)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Band\+Pass (
\begin{DoxyParamCaption}
\item[{float}]{lower\+Freq\+Bound, }
\item[{float}]{upper\+Freq\+Bound, }
\item[{bool}]{retain\+Background}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a94d83cfbb56203e1e386ccecefc48d1e}{}\label{class_k_k_b_1_1_raster_a94d83cfbb56203e1e386ccecefc48d1e}


Returns a image that is the result of a Band\+Pass using Fourier Transforms. 

A 2D Fourier transform is performed. The range specified is from 0.\+0 to 1.\+0 where range is determined from the center of the image to the farthest corner where the center is 0.\+0 and the farthest corner is 1.\+0. Pixels in the resultant 2D Transform that are \char`\"{}\+N\+O\+T\char`\"{} in the specified range are set to 0.\+0. A reverse transform is then performed and the resultant image is returned. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lower\+Freq\+Bound} & Lower range of frequencies to retain; between 0.\+0 and 1.\+0. \\
\hline
\mbox{\tt in}  & {\em upper\+Freq\+Bound} & Upper range of frequencies to retain; between 0.\+0 and 1.\+0. \\
\hline
\mbox{\tt in}  & {\em retain\+Background} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result image. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em lower\+Freq\+Bound} & Number\textquotesingle{}s between 0.\+0 and 1.\+0 \\
\hline
{\em upper\+Freq\+Bound} & Represent fraction. \\
\hline
\end{DoxyParams}


Definition at line 8735 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), background\+Pixel\+Value, color, green, green\+Area, height, tot\+Pixels, and width.


\begin{DoxyCode}
8739 \{
8740 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
8741     fftwf\_complex*   src  = NULL;
8742     fftwf\_complex*   dest = NULL;
8743     fftwf\_plan       plan = NULL;
8744     src  = (fftwf\_complex*)fftwf\_malloc (\textcolor{keyword}{sizeof} (fftwf\_complex) * \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
8745     dest = (fftwf\_complex*)fftwf\_malloc (\textcolor{keyword}{sizeof} (fftwf\_complex) * \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
8746 \textcolor{preprocessor}{  #else}
8747     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d}{KK\_DFT2D\_Float}*  forwardPlan = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a7de386112eca309c8ef4daddd5b64c8b}{KK\_DFT2D\_Float} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
8748 
8749     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}*   srcArea = NULL;
8750     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}**  src     = NULL;
8751 
8752     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}*   destArea = NULL;
8753     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}**  dest     = NULL;
8754 
8755     forwardPlan->\hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a465735c57e85444dd5f7d72dbb416a51}{AllocateArray} (srcArea,  src);
8756     forwardPlan->\hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a465735c57e85444dd5f7d72dbb416a51}{AllocateArray} (destArea, dest);
8757 \textcolor{preprocessor}{  #endif}
8758 
8759   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
8760   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
8761 
8762   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  idx = 0;
8763 
8764 
8765   \textcolor{keywordtype}{double}  centerCol = (double)\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  / 2.0;
8766   \textcolor{keywordtype}{double}  centerRow = (double)\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} / 2.0;
8767 
8768   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  smallestPixelVal = 255;
8769   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  largestPixelVal  = 0;
8770   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixelVal         = 0;
8771 
8772   \textcolor{comment}{// float scalingFact = (float)255.0 / maxPixVal;   // kk  2004-May-18}
8773 
8774   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++ )
8775   \{
8776     \textcolor{keywordflow}{for} (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++ )
8777     \{     
8778       pixelVal = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
8779       \textcolor{keywordflow}{if}  (pixelVal < smallestPixelVal)
8780         smallestPixelVal = pixelVal;
8781       \textcolor{keywordflow}{if}  (pixelVal > largestPixelVal)
8782         largestPixelVal = pixelVal;
8783 
8784       \textcolor{comment}{// src[idx].re = (float)green[row][col] * scalingFact;  // kk 2004-May-18}
8785 
8786 \textcolor{preprocessor}{      #if  defined(FFTW\_AVAILABLE)}
8787         src[idx][0] = (float)\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];                   \textcolor{comment}{// kk 2004-May-18}
8788         src[idx][1] = 0.0;
8789 \textcolor{preprocessor}{      #else}
8790         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
8791         \{
8792           srcArea[idx].real ((\textcolor{keywordtype}{float})(0.39f * \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}[idx] + 0.59f * 
      \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[idx] + 0.11f * \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}[idx]) / 3.0f);
8793         \}
8794         \textcolor{keywordflow}{else}
8795         \{
8796           srcArea[idx].real ((\textcolor{keywordtype}{float})\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[idx]);
8797         \}
8798         srcArea[idx].imag (0.0f);
8799 \textcolor{preprocessor}{      #endif}
8800 
8801       idx++;
8802     \}            
8803   \}
8804 
8805   \textcolor{keywordtype}{double}  pixelValRange = largestPixelVal - smallestPixelVal;
8806 
8807 
8808 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
8809     plan = fftwCreateTwoDPlan (height, width, src, dest, FFTW\_FORWARD, FFTW\_ESTIMATE);
8810     fftwf\_execute (plan);
8811     fftwDestroyPlan (plan);
8812 \textcolor{preprocessor}{  #else}
8813     forwardPlan->\hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_aa9bdc656e7af618c93047386e374e11b}{Transform} (src, dest);
8814     \textcolor{keyword}{delete}  forwardPlan;
8815     forwardPlan = NULL;
8816 \textcolor{preprocessor}{  #endif}
8817     
8818   \textcolor{comment}{//  Will now perform the BandPass portion;  that is we will ZERO out all }
8819   \textcolor{comment}{// data that does not fall within the frequency range specified by}
8820   \textcolor{comment}{// 'lowerFreqBound' and 'upperFreqBound'.}
8821     
8822   \textcolor{keywordtype}{double}  deltaRow        = 0.0;
8823   \textcolor{keywordtype}{double}  deltaRowSquared = 0.0;
8824   \textcolor{keywordtype}{double}  deltaCol        = 0.0;
8825   \textcolor{keywordtype}{double}  deltaColSquared = 0.0;
8826 
8827 
8828   \textcolor{comment}{// Because the lower frequencies are further away from the center than higher frequencies}
8829   \textcolor{comment}{// the 'lowerFreqBoundDistFromCenter' will be greater than 'upperFreqBoundDistFromCenter'}
8830   
8831   \textcolor{keywordtype}{double}  zzz = sqrt ((\textcolor{keywordtype}{double})(centerCol * centerCol + centerRow * centerRow));
8832 
8833   \textcolor{keywordtype}{double}  lowerFreqBoundDistFromCenter = (1.0 - (double)lowerFreqBound) * (double)zzz;
8834   \textcolor{keywordtype}{double}  upperFreqBoundDistFromCenter = (1.0 - (double)upperFreqBound) * (double)zzz;
8835 
8836   \textcolor{keywordtype}{double}  lowerFreqBoundDistFromCenterSquared = (lowerFreqBoundDistFromCenter * 
      lowerFreqBoundDistFromCenter + 0.1f);
8837   \textcolor{keywordtype}{double}  upperFreqBoundDistFromCenterSquared = (upperFreqBoundDistFromCenter * 
      upperFreqBoundDistFromCenter - 0.1f);
8838 
8839   idx = 0;
8840 
8841   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++ )
8842   \{
8843     deltaRow = (double)row - centerRow;
8844     deltaRowSquared = deltaRow * deltaRow;
8845 
8846     \textcolor{keywordflow}{for} (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++ )
8847     \{     
8848       deltaCol = (double)col - centerCol;
8849       deltaColSquared = deltaCol* deltaCol;
8850 
8851       \textcolor{keywordtype}{double}  distFromCenterSquared = deltaRowSquared + deltaColSquared;
8852 
8853       \textcolor{keywordflow}{if}  ((distFromCenterSquared > lowerFreqBoundDistFromCenterSquared)  ||
8854            (distFromCenterSquared < upperFreqBoundDistFromCenterSquared)
8855           )
8856       \{
8857         \textcolor{comment}{// We are out of the band so this data does not get passed through.}
8858 \textcolor{preprocessor}{        #if  defined(FFTW\_AVAILABLE)}
8859           dest[idx][0] = 0.0f;
8860           dest[idx][1] = 0.0f;
8861 \textcolor{preprocessor}{        #else}
8862           destArea[idx].real (0.0f);
8863           destArea[idx].imag (0.0f);
8864 \textcolor{preprocessor}{        #endif}
8865       \}
8866       idx++;
8867     \}
8868   \}
8869 
8870 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
8871     plan = fftwCreateTwoDPlan (height, width, src, dest, FFTW\_BACKWARD, FFTW\_ESTIMATE);
8872     fftwf\_execute (plan);
8873     fftwDestroyPlan (plan);
8874 \textcolor{preprocessor}{  #else}
8875     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d}{KK\_DFT2D\_Float}*  reversePlan = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a7de386112eca309c8ef4daddd5b64c8b}{KK\_DFT2D\_Float} (height, width, \textcolor{keyword}{false});
8876     reversePlan->\hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_aa9bdc656e7af618c93047386e374e11b}{Transform} (dest, src);
8877 \textcolor{preprocessor}{  #endif}
8878 
8879   \textcolor{comment}{// We now need to transform the Fourier results back to GreayScale.}
8880   \textcolor{keywordtype}{double}  smallestNum;
8881   \textcolor{keywordtype}{double}  largestNum;
8882 
8883 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
8884     smallestNum = largestNum = src[0][0];
8885 \textcolor{preprocessor}{  #else}
8886     smallestNum = largestNum = srcArea[0].real ();
8887 \textcolor{preprocessor}{  #endif}
8888 
8889   \{
8890     \textcolor{keywordtype}{double}  zed = 0;
8891     \textcolor{keywordflow}{for} (idx = 0;  idx < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  idx++)
8892     \{
8893 \textcolor{preprocessor}{      #if  defined(FFTW\_AVAILABLE)}
8894         zed = src[idx][0];
8895 \textcolor{preprocessor}{      #else}
8896         zed = srcArea[idx].real ();
8897 \textcolor{preprocessor}{      #endif}
8898 
8899       \textcolor{keywordflow}{if}  (zed < smallestNum)
8900         smallestNum = zed;
8901       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (zed > largestNum)
8902         largestNum = zed;
8903     \}
8904   \}
8905 
8906   \textcolor{keywordtype}{double}  range = largestNum - smallestNum;
8907 
8908 
8909   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (height, width, \textcolor{keyword}{false});
8910   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destData = result->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
8911   
8912   \{
8913     idx = 0;
8914     \textcolor{keywordtype}{double}  zed = 0;
8915     \textcolor{keywordflow}{for} (idx = 0;  idx < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  idx++)
8916     \{     
8917       \textcolor{keywordflow}{if}  (retainBackground  &&  \hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[idx]))
8918       \{
8919         \textcolor{comment}{// Since in the original source image this pixel was a background pixel;  we will}
8920         \textcolor{comment}{// continue to let it be one.}
8921         destData[idx] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8922       \}
8923       \textcolor{keywordflow}{else}
8924       \{
8925 \textcolor{preprocessor}{        #if  defined(FFTW\_AVAILABLE)}
8926           zed = src[idx][0];
8927 \textcolor{preprocessor}{        #else}
8928           zed = srcArea[idx].real ();
8929 \textcolor{preprocessor}{        #endif}
8930         destData[idx] = smallestPixelVal + \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (largestPixelVal, (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(0.5 + pixelValRange * (zed
       - smallestNum) / range));
8931       \}
8932     \}
8933   \}
8934 
8935 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
8936     fftwf\_free (src);
8937     fftwf\_free (dest);
8938 \textcolor{preprocessor}{  #else}
8939     reversePlan->\hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_af5cf4a6e9954117f5cb14470bae40ebd}{DestroyArray} (srcArea,  src);
8940     reversePlan->\hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_af5cf4a6e9954117f5cb14470bae40ebd}{DestroyArray} (destArea, dest);
8941     \textcolor{keyword}{delete}  reversePlan;
8942     reversePlan = NULL;
8943 \textcolor{preprocessor}{  #endif}
8944 
8945   \textcolor{keywordflow}{return}  result;
8946 \}  \textcolor{comment}{/* BandPass */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Binarize\+By\+Threshold@{Binarize\+By\+Threshold}}
\index{Binarize\+By\+Threshold@{Binarize\+By\+Threshold}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Binarize\+By\+Threshold(uchar min, uchar max) const }{BinarizeByThreshold(uchar min, uchar max) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Binarize\+By\+Threshold (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{min, }
\item[{{\bf uchar}}]{max}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a4c88882b1c1110a57d26c58587a98eef}{}\label{class_k_k_b_1_1_raster_a4c88882b1c1110a57d26c58587a98eef}


Definition at line 7705 of file Raster.\+cpp.



References K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Morph\+Op\+Binarize(), and K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation().


\begin{DoxyCode}
7708 \{
7709   \hyperlink{class_k_k_b_1_1_morph_op_binarize}{MorphOpBinarize}  binarizer (\hyperlink{_usf_cas_cor_8h_a8195a86b6d75b9a3939505e8bb50021e}{min}, \hyperlink{_usf_cas_cor_8h_ab95f7757e11b270d27b95ec0d8e798b5}{max});
7710   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} result = binarizer.PerformOperation (\textcolor{keyword}{this});
7711   \textcolor{keywordflow}{return}  result;
7712 \}  \textcolor{comment}{/* BinarizeByThreshold */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Blob\+Id@{Blob\+Id}}
\index{Blob\+Id@{Blob\+Id}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Blob\+Id(kkint32 row, kkint32 col) const }{BlobId(kkint32 row, kkint32 col) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Raster\+::\+Blob\+Id (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a56eb24ef49650f2bb3540c92f1369ba0}{}\label{class_k_k_b_1_1_raster_a56eb24ef49650f2bb3540c92f1369ba0}


Return the ID of the blob that the specified pixel location belongs to. 

If a connected component (Extract\+Blobs) was performed on this image then the pixels that belong to blobs were assigned a blob ID. These ID\textquotesingle{}s are retained with the original image in \textquotesingle{}blob\+Ids\textquotesingle{}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em row} & \hyperlink{class_k_k_b_1_1_row}{Row} in image. \\
\hline
\mbox{\tt in}  & {\em col} & Column in image. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Blob\+ID of pixel location or -\/1 of does not belong to a blob. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_b_1_1_raster_a5d6059f6d0020e493683b2a00a6a8821}{Extract\+Blobs} 
\end{DoxySeeAlso}


Definition at line 3116 of file Raster.\+cpp.



References blob\+Ids, height, and width.


\begin{DoxyCode}
3119 \{
3120   \textcolor{keywordflow}{if}  ((row < 0)  ||  (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
3121        (col < 0)  ||  (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
3122     \textcolor{keywordflow}{return}  -1;
3123 
3124   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds})
3125     \textcolor{keywordflow}{return} -1;
3126 
3127   \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col];
3128 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Blue@{Blue}}
\index{Blue@{Blue}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Blue() const }{Blue() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::\+Blue (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{}\label{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}
returns a pointer to two dimensional array for \textquotesingle{}Blue\textquotesingle{} color channel. 

Definition at line 328 of file Raster.\+h.



References blue.



Referenced by K\+K\+B\+::\+Bmp\+Image\+::\+Bmp\+Image(), Create\+Smoothed\+Medium\+Image(), Create\+Smooth\+Image(), Extract\+Using\+Mask(), Find\+Magnitude\+Differences(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), Raster(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), Tightly\+Bounded(), and Transpose().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Blue\+Area@{Blue\+Area}}
\index{Blue\+Area@{Blue\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Blue\+Area() const }{BlueArea() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$ K\+K\+B\+::\+Raster\+::\+Blue\+Area (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{}\label{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}


Definition at line 331 of file Raster.\+h.



References blue\+Area.



Referenced by K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Class\+Average\+R\+G\+B(), Create\+Color\+Image\+From\+Labels(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Extract\+Channel(), From\+Compressor(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Get\+Class\+Closest\+To\+Target\+Color(), K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation(), Reduce\+By\+Factor(), K\+K\+B\+::\+Save\+Image\+P\+N\+G(), K\+K\+B\+::\+Save\+Image\+P\+P\+M(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), and To\+Color().


\begin{DoxyCode}
331 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Build\+Gaussian2d\+Kernel@{Build\+Gaussian2d\+Kernel}}
\index{Build\+Gaussian2d\+Kernel@{Build\+Gaussian2d\+Kernel}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Build\+Gaussian2d\+Kernel(float sigma)}{BuildGaussian2dKernel(float sigma)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Matrix\+Ptr} Raster\+::\+Build\+Gaussian2d\+Kernel (
\begin{DoxyParamCaption}
\item[{float}]{sigma}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_k_k_b_1_1_raster_ac01c3f7be62b86764ddd044ef7af0b5a}{}\label{class_k_k_b_1_1_raster_ac01c3f7be62b86764ddd044ef7af0b5a}


Builds a 2d Gaussian kernel. 

Determines the size of the Gaussian kernel based off the specified sigma parameter. returns a 2D matrix representing the kernel which will have \textquotesingle{}Len\textquotesingle{} x \textquotesingle{}Len\textquotesingle{} dimensions. The caller will be responsible for deleting the kernel. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em sigma} & parameter used to control the width of the Gaussian kernel \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A 2-\/dimensional matrix representing the Gaussian kernel. 
\end{DoxyReturn}


Definition at line 9331 of file Raster.\+cpp.



References K\+K\+B\+::\+Matrix\+::\+Matrix(), K\+K\+B\+::\+Matrix\+::operator\mbox{[}$\,$\mbox{]}(), and K\+K\+B\+::\+Row\+::operator\mbox{[}$\,$\mbox{]}().



Referenced by Create\+Gaussian\+Smoothed\+Image().


\begin{DoxyCode}
9332 \{
9333   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row, col, x, y;
9334 
9335   \textcolor{keywordtype}{double}  prefix =  1.0 / (2.0 * \hyperlink{_k_k_base_types_8h_ac40c2b49eb51e2adc237b530adfcadf4}{PIE} * sigma * sigma);
9336   \textcolor{keywordtype}{double}  twoSigmaSquared = 2.0 * sigma * sigma;
9337 
9338 
9339   \textcolor{comment}{// Determine size of kernel}
9340   \textcolor{keywordtype}{double} z = 100;
9341   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  delta = 0;
9342   \textcolor{keywordflow}{while} (\textcolor{keyword}{true})
9343   \{
9344     z = 256.0 * prefix * exp (-(delta * delta / twoSigmaSquared));
9345     \textcolor{keywordflow}{if}  (z < 1.0)
9346     \{
9347       delta--;
9348       \textcolor{keywordflow}{break};
9349     \}
9350     ++delta;
9351   \}
9352 
9353   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} len = delta * 2 + 1;
9354 
9355   \hyperlink{class_k_k_b_1_1_matrix}{MatrixPtr}  kernel = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_matrix}{Matrix} (len, len);
9356 
9357   \textcolor{keywordtype}{double}  total = 0.0;
9358   x =  -delta;
9359   \textcolor{keywordflow}{for} (row = 0;  row < len;  row++, x++)
9360   \{
9361     y = -delta;
9362     \textcolor{keywordflow}{for}  (col = 0;  col < len;  col++, y++)
9363     \{
9364       \textcolor{keywordtype}{double}  v = exp (-( (x * x + y * y) / twoSigmaSquared));
9365       (*kernel)[row][col] = v;
9366       total += v;
9367     \}
9368   \}
9369 
9370   \textcolor{keywordflow}{for} (row = 0;  row < len;  row++)
9371   \{
9372     \textcolor{keywordflow}{for}  (col = 0;  col < len;  col++)
9373     \{
9374       (*kernel)[row][col] = ((*kernel)[row][col] / total);
9375     \}
9376   \}
9377 
9378   \textcolor{keywordflow}{return}  kernel;
9379 \}  \textcolor{comment}{/* BuildGaussian2dKernel */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Area@{Calc\+Area}}
\index{Calc\+Area@{Calc\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Area()}{CalcArea()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Raster\+::\+Calc\+Area (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_af390f8a3cd8f37b2b501d1ee9d35eeed}{}\label{class_k_k_b_1_1_raster_af390f8a3cd8f37b2b501d1ee9d35eeed}


Definition at line 3789 of file Raster.\+cpp.



References foreground\+Pixel\+Count, green, height, max\+Pix\+Val, and width.


\begin{DoxyCode}
3790 \{
3791   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r, c;
3792 
3793   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  area = 0;
3794 
3795   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
3796 
3797   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal;
3798 
3799   \textcolor{keywordflow}{for}  (r = 0; r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; r++)
3800   \{
3801     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
3802     \{
3803       pixVal = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c];
3804       
3805       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (pixVal))
3806       \{
3807         area++;
3808 
3809         \textcolor{keywordflow}{if}  (pixVal > \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal})
3810           \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = pixVal;
3811       \}
3812     \}
3813   \}
3814 
3815   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = area;
3816 
3817   \textcolor{keywordflow}{return}  area;
3818 \}  \textcolor{comment}{/* CalcArea */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Area\+And\+Intensity\+Features@{Calc\+Area\+And\+Intensity\+Features}}
\index{Calc\+Area\+And\+Intensity\+Features@{Calc\+Area\+And\+Intensity\+Features}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Area\+And\+Intensity\+Features(kkint32 \&area, float \&weighted\+Size, kkuint32 intensity\+Hist\+Buckets[8], kkint32 \&area\+With\+White\+Space, kkuint32 intensity\+Hist\+Buckets\+White\+Space[8]) const }{CalcAreaAndIntensityFeatures(kkint32 &area, float &weightedSize, kkuint32 intensityHistBuckets[8], kkint32 &areaWithWhiteSpace, kkuint32 intensityHistBucketsWhiteSpace[8]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Area\+And\+Intensity\+Features (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{area, }
\item[{float \&}]{weighted\+Size, }
\item[{{\bf kkuint32}}]{intensity\+Hist\+Buckets\mbox{[}8\mbox{]}, }
\item[{{\bf kkint32} \&}]{area\+With\+White\+Space, }
\item[{{\bf kkuint32}}]{intensity\+Hist\+Buckets\+White\+Space\mbox{[}8\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a938d83368f5eb94e1426dba3f3556e99}{}\label{class_k_k_b_1_1_raster_a938d83368f5eb94e1426dba3f3556e99}


Calculates both Intensity Histograms, one not including internal background pixels and one with plus size and weighted size. 

This method incorporates the functionality of several methods at once. The idea being that while we are iterating through the raster image we might as well get all the data we can so as to save total overall processing time. 
\begin{DoxyCode}
\hyperlink{class_k_k_b_1_1_raster_ae50c283424d3fbbdea957a3ff955909f}{Histogram} Ranges:
  0:   0  - 31    4: 128 - 159
  1:  31  - 63    5: 192 - 223
  2:  64  - 95    6: 192 - 223
  3:  96 - 127    7: 224 - 255
\end{DoxyCode}



\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em area} & Number of foreground pixels. \\
\hline
\mbox{\tt out}  & {\em weighted\+Size} & Area that takes intensity into account. The largest pixel will have a value of 1.\+0. \\
\hline
\mbox{\tt out}  & {\em intensity\+Hist\+Buckets} & A 8 element array containing a histogram by intensity range. \\
\hline
\mbox{\tt out}  & {\em area\+With\+White\+Space} & Area including any whitespace enclosed inside the image. \\
\hline
\mbox{\tt out}  & {\em intensity\+Hist\+Buckets\+White\+Space} & A 8 element array containing a histogram by intensity range, with enclosed whitespace pixels included. \\
\hline
\end{DoxyParams}


Definition at line 3912 of file Raster.\+cpp.



References Fill\+Hole(), foreground\+Pixel\+Count, freq\+Hist\+Bucket\+Idx, Green\+Area(), green\+Area, max\+Pix\+Val, Raster(), and tot\+Pixels.


\begin{DoxyCode}
3919 \{
3920   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
3921 
3922   \textcolor{comment}{// We first need to determine what background pixels are not part of the image.  We assume}
3923   \textcolor{comment}{// that any background pixels that are connected to the border of the image are not part}
3924   \textcolor{comment}{// of the image.}
3925   \hyperlink{class_k_k_b_1_1_raster}{Raster}  mask (*\textcolor{keyword}{this});
3926   mask.FillHole ();
3927   
3928   \textcolor{keywordtype}{long}  totalPixelValues = 0;
3929 
3930   area               = 0;
3931   weightedSize       = 0.0f;
3932   areaWithWhiteSpace = 0;
3933 
3934 
3935   \textcolor{keywordflow}{for}  (x = 0;  x < 8;  x++)
3936   \{
3937    intensityHistBuckets[x] = 0;
3938    intensityHistBucketsWhiteSpace[x] = 0;
3939   \}
3940 
3941 
3942   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
3943   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal;
3944 
3945   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  maskGreenArea = mask.GreenArea ();
3946 
3947   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++)
3948   \{
3949     pixVal = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [x];
3950     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (maskGreenArea[x]))
3951     \{
3952       areaWithWhiteSpace++;
3953       \textcolor{keywordflow}{if}  (pixVal > \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal})
3954         \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = pixVal;
3955       intensityHistBucketsWhiteSpace[\hyperlink{_raster_8cpp_af53de902c57701041c19ab771f77f9c2}{freqHistBucketIdx}[pixVal]]++;
3956       
3957       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (pixVal))
3958       \{
3959         area++;
3960         intensityHistBuckets[freqHistBucketIdx[pixVal]]++;
3961         totalPixelValues += pixVal;
3962       \}
3963     \}
3964   \}
3965 
3966   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = area;
3967 
3968   weightedSize = (float)totalPixelValues / (\textcolor{keywordtype}{float})\hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal};
3969 \}  \textcolor{comment}{/* CalcAreaAndIntensityFeatures */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Area\+And\+Intensity\+Features@{Calc\+Area\+And\+Intensity\+Features}}
\index{Calc\+Area\+And\+Intensity\+Features@{Calc\+Area\+And\+Intensity\+Features}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Area\+And\+Intensity\+Features(kkint32 \&area, float \&weighted\+Size, kkuint32 intensity\+Hist\+Buckets[8]) const }{CalcAreaAndIntensityFeatures(kkint32 &area, float &weightedSize, kkuint32 intensityHistBuckets[8]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Area\+And\+Intensity\+Features (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{area, }
\item[{float \&}]{weighted\+Size, }
\item[{{\bf kkuint32}}]{intensity\+Hist\+Buckets\mbox{[}8\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aae98cb9ab477fa22f09ec06f0ad057bc}{}\label{class_k_k_b_1_1_raster_aae98cb9ab477fa22f09ec06f0ad057bc}


Calculates both Intensity Histograms, one not including internal background pixels and one with plus size and weighted size. 

This method incorporates the functionality of several methods at once. The idea being that while we are iterating through the raster image we might as well get all the data we can so as to save total overall processing time. 
\begin{DoxyCode}
\hyperlink{class_k_k_b_1_1_raster_ae50c283424d3fbbdea957a3ff955909f}{Histogram} Ranges:
  0:   0  - 31    4: 128 - 159
  1:  32  - 63    5: 192 - 223
  2:  64  - 95    6: 192 - 223
  3:  96 - 127    7: 224 - 255
\end{DoxyCode}



\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em area} & Number of foreground pixels. \\
\hline
\mbox{\tt out}  & {\em weighted\+Size} & Area that takes intensity into account. The largest pixel will have a value of 1.\+0. \\
\hline
\mbox{\tt out}  & {\em intensity\+Hist\+Buckets} & A 8 element array containing a histogram by intensity range where each bucket represents a range of 32. \\
\hline
\end{DoxyParams}


Definition at line 4018 of file Raster.\+cpp.



References foreground\+Pixel\+Count, freq\+Hist\+Bucket\+Idx, green\+Area, max\+Pix\+Val, and tot\+Pixels.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
4023 \{
4024   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
4025 
4026   \textcolor{keywordtype}{long}  totalPixelValues = 0;
4027 
4028   area          = 0;
4029   weightedSize  = 0.0f;
4030 
4031   \textcolor{keywordflow}{for}  (x = 0;  x < 8;  x++)
4032    intensityHistBuckets[x] = 0;
4033 
4034   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
4035   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal;
4036 
4037   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++)
4038   \{
4039     pixVal = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [x];
4040     \textcolor{keywordflow}{if}  (pixVal > 0)
4041     \{
4042       \textcolor{keywordflow}{if}  (pixVal > \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal})
4043         \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = pixVal;
4044       area++;
4045       intensityHistBuckets[\hyperlink{_raster_8cpp_af53de902c57701041c19ab771f77f9c2}{freqHistBucketIdx}[pixVal]]++;
4046       totalPixelValues += pixVal;
4047     \}
4048   \}
4049 
4050   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = area;
4051 
4052   weightedSize = (float)totalPixelValues / (\textcolor{keywordtype}{float})255.0f;
4053 \}  \textcolor{comment}{/* CalcAreaAndIntensityFeatures */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Area\+And\+Intensity\+Features16@{Calc\+Area\+And\+Intensity\+Features16}}
\index{Calc\+Area\+And\+Intensity\+Features16@{Calc\+Area\+And\+Intensity\+Features16}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Area\+And\+Intensity\+Features16(kkint32 \&area, float \&weighed\+Size, kkuint32 intensity\+Hist\+Buckets[16])}{CalcAreaAndIntensityFeatures16(kkint32 &area, float &weighedSize, kkuint32 intensityHistBuckets[16])}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Area\+And\+Intensity\+Features16 (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{area, }
\item[{float \&}]{weighed\+Size, }
\item[{{\bf kkuint32}}]{intensity\+Hist\+Buckets\mbox{[}16\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a3cc8283e0f535e09657a98ca642a9a7d}{}\label{class_k_k_b_1_1_raster_a3cc8283e0f535e09657a98ca642a9a7d}


Definition at line 3975 of file Raster.\+cpp.



References foreground\+Pixel\+Count, freq\+Hist16\+Bucket\+Idx, green\+Area, max\+Pix\+Val, and tot\+Pixels.


\begin{DoxyCode}
3979 \{
3980   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
3981 
3982   \textcolor{keywordtype}{long}  totalPixelValues = 0;
3983 
3984   area               = 0;
3985   weighedSize        = 0.0f;
3986   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}          = 0;
3987 
3988   \textcolor{keywordflow}{for}  (x = 0;  x < 16;  x++)
3989   \{
3990    intensityHistBuckets[x] = 0;
3991   \}
3992 
3993   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
3994   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal;
3995 
3996   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++)
3997   \{
3998     pixVal = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [x];
3999     \textcolor{keywordflow}{if}  (pixVal > \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal})
4000       \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = pixVal;
4001     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (pixVal))
4002     \{
4003       area++;
4004       intensityHistBuckets[\hyperlink{_raster_8cpp_ab019f0b1d3a4bd98c990d75ca190d067}{freqHist16BucketIdx}[pixVal]]++;
4005       totalPixelValues += pixVal;
4006     \}
4007   \}
4008 
4009   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = area;
4010 
4011   weighedSize = (float)totalPixelValues / (\textcolor{keywordtype}{float})\hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal};
4012 \}  \textcolor{comment}{/* CalcAreaAndIntensityFeatures16 */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Area\+And\+Intensity\+Histogram@{Calc\+Area\+And\+Intensity\+Histogram}}
\index{Calc\+Area\+And\+Intensity\+Histogram@{Calc\+Area\+And\+Intensity\+Histogram}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Area\+And\+Intensity\+Histogram(kkint32 \&area, kkuint32 intensity\+Hist\+Buckets[8]) const }{CalcAreaAndIntensityHistogram(kkint32 &area, kkuint32 intensityHistBuckets[8]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Area\+And\+Intensity\+Histogram (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{area, }
\item[{{\bf kkuint32}}]{intensity\+Hist\+Buckets\mbox{[}8\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ab00a913651d081e3d84eb49e18788517}{}\label{class_k_k_b_1_1_raster_ab00a913651d081e3d84eb49e18788517}


Calculates the occurrence of different intensity levels. 

The pixel values 0-\/255 are split into 8 ranges. (0-\/31), (32-\/63), (64-\/95), (96-\/127), (128-\/159), (160-\/191), (192-\/223), (224-\/255). The background range (0-\/31) are not counted. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em area} & Total number of foreground pixels in the image. \\
\hline
\mbox{\tt out}  & {\em intensity\+Hist\+Buckets} & An array of 8 buckets where each bucket represents an intensity range. \\
\hline
\end{DoxyParams}


Definition at line 3872 of file Raster.\+cpp.



References foreground\+Pixel\+Count, freq\+Hist\+Bucket\+Idx, green, height, max\+Pix\+Val, and width.


\begin{DoxyCode}
3876 \{
3877   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r, c;
3878 
3879   area = 0;
3880 
3881   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0; x < 8; x++)
3882     intensityHistBuckets[x] = 0;
3883 
3884   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
3885 
3886   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal;
3887 
3888   \textcolor{keywordflow}{for}  (r = 0; r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; r++)
3889   \{
3890     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
3891     \{
3892       pixVal = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c];
3893       
3894       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (pixVal))
3895       \{
3896         area++;
3897 
3898         \textcolor{keywordflow}{if}  (pixVal > \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal})
3899           \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = pixVal;
3900 
3901         intensityHistBuckets[\hyperlink{_raster_8cpp_af53de902c57701041c19ab771f77f9c2}{freqHistBucketIdx}[pixVal]]++;
3902       \}
3903     \}
3904   \}
3905 
3906   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = area;
3907 \}  \textcolor{comment}{/* CalcAreaAndIntensityHistogram */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Area\+And\+Intensity\+Histogram\+White@{Calc\+Area\+And\+Intensity\+Histogram\+White}}
\index{Calc\+Area\+And\+Intensity\+Histogram\+White@{Calc\+Area\+And\+Intensity\+Histogram\+White}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Area\+And\+Intensity\+Histogram\+White(kkint32 \&area, kkuint32 intensity\+Hist\+Buckets[8])}{CalcAreaAndIntensityHistogramWhite(kkint32 &area, kkuint32 intensityHistBuckets[8])}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Area\+And\+Intensity\+Histogram\+White (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{area, }
\item[{{\bf kkuint32}}]{intensity\+Hist\+Buckets\mbox{[}8\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ad6b4dbd9e1af3392dc3187e4c3378086}{}\label{class_k_k_b_1_1_raster_ad6b4dbd9e1af3392dc3187e4c3378086}


Calculates a Intensity \hyperlink{class_k_k_b_1_1_histogram}{Histogram} including Background pixels in the image. 

All background pixels that are inside the image will also be included in the counts. This is done by building a mask on the original image then performing a Fill\+Hole operation. This mask is then used to select pixels for inclusion in the histogram. 

Definition at line 3825 of file Raster.\+cpp.



References Fill\+Hole(), freq\+Hist\+Bucket\+Idx, green, height, max\+Pix\+Val, Raster(), and width.


\begin{DoxyCode}
3828 \{
3829   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
3830   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
3831   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
3832 
3833   \textcolor{comment}{// We first need to determine what background pixels are not part of the image.  We assume}
3834   \textcolor{comment}{// that any background pixels that are connected to the border of the image are not part}
3835   \textcolor{comment}{// of the image.}
3836   \hyperlink{class_k_k_b_1_1_raster}{Raster}  mask (*\textcolor{keyword}{this});
3837   mask.FillHole ();
3838 
3839 
3840   area = 0;
3841   \textcolor{keywordflow}{for}  (x = 0;  x < 8;  x++)
3842    intensityHistBuckets[x] = 0;
3843 
3844 
3845   \textcolor{comment}{// Now that we know what pixels are background that are connected to}
3846   \textcolor{comment}{// one of the boarders,  any other white pixel must be in a hole inside}
3847   \textcolor{comment}{// the image.}
3848   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  curRow     = NULL;
3849   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  curMaskRow = NULL;
3850   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}   pixVal;
3851   \textcolor{keywordflow}{for}  (r = 0; r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; r++)
3852   \{
3853     curMaskRow = mask.green[r];
3854     curRow = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r];
3855     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
3856     \{
3857       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (curMaskRow[c]))
3858       \{
3859         area++;
3860         pixVal = curRow[c];
3861         \textcolor{keywordflow}{if}  (pixVal > \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal})
3862           \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = pixVal;
3863         intensityHistBuckets[\hyperlink{_raster_8cpp_af53de902c57701041c19ab771f77f9c2}{freqHistBucketIdx}[pixVal]]++;
3864       \}
3865     \}
3866   \}
3867 \}  \textcolor{comment}{/* CalcAreaAndIntensityHistogramWhite */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Centroid@{Calc\+Centroid}}
\index{Calc\+Centroid@{Calc\+Centroid}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Centroid(kkint32 \&size, kkint32 \&weight, float \&row\+Center, float \&col\+Center, float \&row\+Center\+Weighted, float \&col\+Center\+Weighted) const }{CalcCentroid(kkint32 &size, kkint32 &weight, float &rowCenter, float &colCenter, float &rowCenterWeighted, float &colCenterWeighted) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Centroid (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{size, }
\item[{{\bf kkint32} \&}]{weight, }
\item[{float \&}]{row\+Center, }
\item[{float \&}]{col\+Center, }
\item[{float \&}]{row\+Center\+Weighted, }
\item[{float \&}]{col\+Center\+Weighted}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a89e2ed864ff7030d55bf4c655de15636}{}\label{class_k_k_b_1_1_raster_a89e2ed864ff7030d55bf4c655de15636}


Definition at line 5977 of file Raster.\+cpp.



References centroid\+Col, centroid\+Row, green, height, and width.



Referenced by Calc\+Orientation\+And\+Eiger\+Ratio(), Centroid\+Col(), and Centroid\+Row().


\begin{DoxyCode}
5984 \{
5985   size              = 0;
5986   weight            = 0;
5987   rowCenter         = 0;
5988   colCenter         = 0;
5989   rowCenterWeighted = 0;
5990   colCenterWeighted = 0;
5991 
5992   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;  
5993   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
5994 
5995   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  intensity;
5996 
5997   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  row++)
5998   \{
5999     \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
6000     \{
6001       intensity = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
6002 
6003       \textcolor{keywordflow}{if}  (intensity > 0)
6004       \{
6005         rowCenter += row;
6006         colCenter += col;
6007         size++;
6008 
6009         rowCenterWeighted += row * intensity;
6010         colCenterWeighted += col * intensity;
6011         weight += intensity;
6012       \}
6013     \}
6014   \}
6015 
6016   rowCenter /= size;
6017   colCenter /= size; 
6018 
6019   this->\hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol} = colCenter;
6020   this->\hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow} = rowCenter;
6021   
6022   rowCenterWeighted /= weight;
6023   colCenterWeighted /= weight; 
6024 \}  \textcolor{comment}{/* CalcCentroid */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Orientation\+And\+Eiger\+Ratio@{Calc\+Orientation\+And\+Eiger\+Ratio}}
\index{Calc\+Orientation\+And\+Eiger\+Ratio@{Calc\+Orientation\+And\+Eiger\+Ratio}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Orientation\+And\+Eiger\+Ratio(float \&eigen\+Ratio, float \&orientation\+Angle)}{CalcOrientationAndEigerRatio(float &eigenRatio, float &orientationAngle)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Calc\+Orientation\+And\+Eiger\+Ratio (
\begin{DoxyParamCaption}
\item[{float \&}]{eigen\+Ratio, }
\item[{float \&}]{orientation\+Angle}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a29cf40b3b79c549ef3e875348f6fb053}{}\label{class_k_k_b_1_1_raster_a29cf40b3b79c549ef3e875348f6fb053}


Definition at line 5610 of file Raster.\+cpp.



References Calc\+Centroid(), centroid\+Col, centroid\+Row, green, height, K\+K\+B\+::tqli(), K\+K\+B\+::\+Tred2(), and width.



Referenced by Derive\+Image\+Length().


\begin{DoxyCode}
5613 \{
5614 \textcolor{preprocessor}{#ifdef  WIN32}
5615 
5616   \textcolor{keywordtype}{float}  centroidColWeighted;
5617   \textcolor{keywordtype}{float}  centroidRowWeighted;
5618 
5619   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  size;
5620   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  weight;
5621 
5622   \hyperlink{class_k_k_b_1_1_raster_a89e2ed864ff7030d55bf4c655de15636}{CalcCentroid} (size, weight, \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}, \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}, 
      centroidRowWeighted, centroidColWeighted);
5623 
5624   \textcolor{keywordtype}{double}  cov[2][2];
5625 
5626   cov[0][0] = 0.0;
5627   cov[0][1] = 0.0;
5628   cov[1][0] = 0.0;
5629   cov[1][1] = 0.0;
5630 
5631   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
5632   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal;
5633   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
5634 
5635   \textcolor{keywordtype}{double}  colOffset = 0.0;
5636   \textcolor{keywordtype}{double}  rowOffset = 0.0;
5637   \textcolor{keywordtype}{double}  rowOffsetSquare = 0.0;
5638 
5639   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  row++)
5640   \{
5641     rowOffset = double (row) - \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow};
5642     rowOffsetSquare = rowOffset * rowOffset;
5643 
5644     \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
5645     \{
5646       pixVal = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
5647 
5648       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (pixVal))
5649       \{
5650         colOffset = double (col) - \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol};
5651         cov[0][0] += (colOffset * colOffset);
5652         cov[1][1] += (rowOffsetSquare);
5653         cov[0][1] += (colOffset * rowOffset);
5654       \}
5655     \}
5656   \}
5657 
5658   cov[1][0] = cov[0][1];
5659   cov[0][0] /= size;
5660   cov[0][1] /= size;
5661   cov[1][0] /= size;
5662   cov[1][1] /= size;
5663 
5664   \textcolor{keywordtype}{double}  origCov00 = cov[0][0];
5665   \textcolor{keywordtype}{double}  origCov11 = cov[1][1];
5666   \textcolor{keywordtype}{double}  origCov10 = cov[1][0];
5667 
5668   \textcolor{keywordtype}{double}  d[2];
5669   \textcolor{keywordtype}{double}  e[2];
5670 
5671   d[0] = 0.0;
5672   d[1] = 0.0;
5673   e[0] = 0.0;
5674   e[1] = 0.0;
5675 
5676   \hyperlink{namespace_k_k_b_a2a2800ef0c9757025d696bcd2fb289b8}{Tred2} (2, cov, d, e);
5677 
5678   \hyperlink{namespace_k_k_b_af61d1354a68af3f797ed471b1cc3ff8f}{tqli} (2, d, e, cov);
5679 
5680   \textcolor{keywordtype}{double}  ang0;
5681 
5682   \textcolor{keywordflow}{if}  (fabs (d[0]) > fabs (d[1]))
5683   \{
5684     ang0 = atan2 (cov[0][0], cov[1][0]);
5685     eigenRatio = (d[0] == 0.0) ? 9999.0f : float (d[1] / d[0]);
5686   \}
5687   \textcolor{keywordflow}{else}
5688   \{
5689     ang0 = atan2 (cov[0][1], cov[1][1]);
5690     eigenRatio = (d[1] == 0.0) ? 9999.0f : float (d[0] / d[1]);
5691   \}
5692   \textcolor{comment}{//double  ang1 = RadToDeg * atan2 (cov[0][1], cov[1][1]);}
5693 
5694   orientationAngle = float (-ang0 - 1.57079632679f);
5695   \textcolor{keywordflow}{if}  (fabs (orientationAngle) > 1.57079632679f)
5696   \{
5697     \textcolor{keywordflow}{if}  (orientationAngle < 0.0)
5698       orientationAngle += float (\hyperlink{_k_k_base_types_8h_ac40c2b49eb51e2adc237b530adfcadf4}{PIE});
5699     \textcolor{keywordflow}{else}
5700       orientationAngle -= float (\hyperlink{_k_k_base_types_8h_ac40c2b49eb51e2adc237b530adfcadf4}{PIE});
5701   \}
5702 
5703 
5704   \textcolor{comment}{//if  (d[0] == 0.0)}
5705   \textcolor{comment}{//  eigenRatio = (float)9999.0;}
5706   \textcolor{comment}{//else}
5707   \textcolor{comment}{//  eigenRatio = (float) (d[1] / d[0]);}
5708 
5709 
5710   \textcolor{keywordflow}{if}  (origCov10 == 0)
5711   \{
5712     \textcolor{comment}{// Appears we have a image that is standing up Straight, }
5713     \textcolor{comment}{// but may be fatter than it is tall.}
5714     \textcolor{keywordflow}{if}  (origCov00 > origCov11)
5715     \{
5716       orientationAngle = 0.0f;
5717     \}
5718     \textcolor{keywordflow}{else}
5719     \{
5720       orientationAngle = 1.57079632679f;
5721     \}
5722   \}
5723 
5724   \textcolor{keywordflow}{return};
5725 
5726 \textcolor{preprocessor}{#endif}
5727 \} \textcolor{comment}{/* CalcOrientation */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Calc\+Weighted\+Area@{Calc\+Weighted\+Area}}
\index{Calc\+Weighted\+Area@{Calc\+Weighted\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Calc\+Weighted\+Area() const }{CalcWeightedArea() const }}]{\setlength{\rightskip}{0pt plus 5cm}float Raster\+::\+Calc\+Weighted\+Area (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_acdaddc7e7396dd621f98d007dd59e403}{}\label{class_k_k_b_1_1_raster_acdaddc7e7396dd621f98d007dd59e403}


Definition at line 4060 of file Raster.\+cpp.



References green, height, and width.


\begin{DoxyCode}
4061 \{
4062   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r, c;
4063 
4064   \textcolor{keywordtype}{float}  area = 0;
4065 
4066   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal = 0;
4067   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maxPixValFound = 0;
4068 
4069   \textcolor{comment}{//foregroundPixelCount = 0;}
4070 
4071   \textcolor{keywordflow}{for}  (r = 0; r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; r++)
4072   \{
4073     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
4074     \{
4075       pixVal = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c];
4076       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (pixVal))
4077       \{
4078         area = area + (float)pixVal;
4079         \textcolor{keywordflow}{if}  (pixVal > maxPixValFound)
4080           maxPixValFound = pixVal;
4081       \}
4082     \}
4083   \}
4084 
4085   area = area / (float)maxPixValFound;
4086 
4087   \textcolor{keywordflow}{return}  area;
4088 \}  \textcolor{comment}{/* CalcWeightedArea */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Cen\+Moment@{Cen\+Moment}}
\index{Cen\+Moment@{Cen\+Moment}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Cen\+Moment(kkint32 col\+Moment, kkint32 row\+Moment, double center\+Col, double center\+Row) const }{CenMoment(kkint32 colMoment, kkint32 rowMoment, double centerCol, double centerRow) const }}]{\setlength{\rightskip}{0pt plus 5cm}double K\+K\+B\+::\+Raster\+::\+Cen\+Moment (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{col\+Moment, }
\item[{{\bf kkint32}}]{row\+Moment, }
\item[{double}]{center\+Col, }
\item[{double}]{center\+Row}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_abf23069a9a29f91def97309944d543f5}{}\label{class_k_k_b_1_1_raster_abf23069a9a29f91def97309944d543f5}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Cen\+Moment\+Weighted@{Cen\+Moment\+Weighted}}
\index{Cen\+Moment\+Weighted@{Cen\+Moment\+Weighted}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Cen\+Moment\+Weighted(kkint32 p, kkint32 q, float ew, float eh) const }{CenMomentWeighted(kkint32 p, kkint32 q, float ew, float eh) const }}]{\setlength{\rightskip}{0pt plus 5cm}float K\+K\+B\+::\+Raster\+::\+Cen\+Moment\+Weighted (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{p, }
\item[{{\bf kkint32}}]{q, }
\item[{float}]{ew, }
\item[{float}]{eh}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a0f7f7ed827eb8b676c3ea3aea427a49c}{}\label{class_k_k_b_1_1_raster_a0f7f7ed827eb8b676c3ea3aea427a49c}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Central\+Moments@{Central\+Moments}}
\index{Central\+Moments@{Central\+Moments}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Central\+Moments(float features[9]) const }{CentralMoments(float features[9]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Central\+Moments (
\begin{DoxyParamCaption}
\item[{float}]{features\mbox{[}9\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a48d9a6e24ed721effc322d9b3bb7ab7d}{}\label{class_k_k_b_1_1_raster_a48d9a6e24ed721effc322d9b3bb7ab7d}


returns in \textquotesingle{}features\textquotesingle{} the 8 central moments as defined by Hu plus eccentricity in the eight bucket. 

See M. K. Hu, Visual pattern recognition by moment invariants I\+RE Trans; Inform. Theory, vol. IT, no. 8, pp. 179�187, 1962. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em features} & A array with 9 elements (0 through 8) that will receive the 8 central moments as defined by HU plus eccentricity in the eighth element. \\
\hline
\end{DoxyParams}


Definition at line 4100 of file Raster.\+cpp.



References background\+Pixel\+TH, centroid\+Col, centroid\+Row, foreground\+Pixel\+Count, green, height, and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
4101 \{
4102   \hyperlink{namespace_k_k_b_aa3486b1c5ea9162b3b020c69f72826eb}{kkint64}  m00, m10, m01;
4103   Moment (m00, m10, m01);
4104 
4105   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol} = (float)m10 / (\textcolor{keywordtype}{float})m00;   \textcolor{comment}{// Center Col}
4106   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow} = (float)m01 / (\textcolor{keywordtype}{float})m00;   \textcolor{comment}{// Center Row}
4107 
4108   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})m00;
4109 
4110   \textcolor{keywordtype}{float}  cm00   = (float)m00;
4111   \textcolor{keywordtype}{float}  gamma2 = (float)m00 * (\textcolor{keywordtype}{float})m00;
4112   \textcolor{keywordtype}{float}  gamma3 = gamma2 * (float)sqrt ((\textcolor{keywordtype}{float})m00);
4113         
4114   \textcolor{keywordtype}{float}  cm20 = 0.0;
4115   \textcolor{keywordtype}{float}  cm02 = 0.0;
4116   \textcolor{keywordtype}{float}  cm11 = 0.0;
4117 
4118   \textcolor{keywordtype}{float}  cm30 = 0.0;
4119   \textcolor{keywordtype}{float}  cm03 = 0.0;
4120   \textcolor{keywordtype}{float}  cm12 = 0.0;
4121   \textcolor{keywordtype}{float}  cm21 = 0.0;
4122 
4123   \{
4124     \textcolor{keywordtype}{float}   cm = 0.0;
4125     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col;
4126     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row;
4127 
4128     \textcolor{keywordtype}{float}   deltaCol = 0.0f;
4129     \textcolor{keywordtype}{float}   deltaRow = 0.0f;
4130 
4131     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++row)
4132     \{
4133       deltaRow = row - \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow};
4134       \textcolor{keywordtype}{float}  rowPow0 = 1.0;
4135       \textcolor{keywordtype}{float}  rowPow1 = deltaRow;
4136       \textcolor{keywordtype}{float}  rowPow2 = deltaRow * deltaRow;
4137       \textcolor{keywordtype}{float}  rowPow3 = rowPow2  * deltaRow;
4138       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowData = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
4139       \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++col)
4140       \{
4141         \textcolor{keywordflow}{if}  (rowData[col] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
4142         \{
4143           deltaCol = (float)col - \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol};
4144           \textcolor{keywordtype}{float}  colPow0 = 1.0f;
4145           \textcolor{keywordtype}{float}  colPow1 = deltaCol;
4146           \textcolor{keywordtype}{float}  colPow2 = deltaCol * deltaCol;
4147           \textcolor{keywordtype}{float}  colPow3 = colPow2  * deltaCol;
4148 
4149           cm20 += colPow2 * rowPow0;
4150           cm02 += colPow0 * rowPow2;
4151           cm11 += colPow1 * rowPow1;
4152           cm30 += colPow3 * rowPow0;
4153           cm03 += colPow0 * rowPow3;
4154 
4155           cm12 += colPow1 * rowPow2;
4156           cm21 += colPow2 * rowPow1;
4157         \}
4158       \}
4159     \}
4160   \}
4161 
4162   cm20 = cm20 / gamma2;
4163   cm02 = cm02 / gamma2;
4164   cm11 = cm11 / gamma2;
4165 
4166   cm30 = cm30 / gamma3;
4167   cm03 = cm03 / gamma3;
4168   cm12 = cm12 / gamma3;
4169   cm21 = cm21 / gamma3;
4170 
4171   features[0] = cm00;
4172 
4173   features[1] = cm20 + cm02;
4174  
4175   features[2] = (cm20 - cm02) * (cm20 - cm02) + 
4176                 4.0f * cm11 * cm11;
4177 
4178   features[3] = (cm30 - 3.0f * cm12) * (cm30 - 3.0f * cm12) + 
4179                 (3.0f * cm21 - cm03) * (3.0f * cm21 - cm03);
4180 
4181   features[4] = (cm30 + cm12) * (cm30 + cm12) + (cm21 + cm03) * (cm21 + cm03);
4182 
4183   features[5] = (cm30 - 3.0f * cm12) * (cm30 + cm12) * ((cm30 + cm12) * (cm30 + cm12) - 
4184                 3.0f * (cm21 + cm03) * (cm21 + cm03))  +  (3.0f * cm21 - cm03) * (cm21 + cm03) * 
4185                 (3.0f * (cm30 + cm12) * (cm30 + cm12) - (cm21 + cm03) * (cm21 + cm03));
4186 
4187   features[6] = (cm20 - cm02) * 
4188                 ((cm30 + cm12) * (cm30 + cm12) - (cm21 + cm03) * (cm21 + cm03))
4189                 + 4.0f * cm11 * (cm30 + cm12) * (cm21 + cm03);
4190 
4191   features[7] = (3.0f * cm21 - cm03) * (cm30 + cm12) * 
4192                 ((cm30 + cm12) * (cm30 + cm12) - 3.0f * (cm21 + cm03) * (cm21 + cm03) )
4193                -(cm30 - 3.0f * cm12) * (cm21 + cm03) * 
4194                (3.0f * (cm30 + cm12) * (cm30 + cm12) - (cm21 + cm03) * (cm21 + cm03) );
4195 
4196   \textcolor{comment}{//added by baishali to calculate eccentricity}
4197   features[8] = (((cm20 - cm02) * (cm20 - cm02)) - 
4198                 (4.0f * cm11 * cm11))/((cm20 + cm02) * (cm20 + cm02));
4199 
4200 
4201   \textcolor{keywordflow}{return};
4202 \}  \textcolor{comment}{/* CentralMoments */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Central\+Moments\+Weighted@{Central\+Moments\+Weighted}}
\index{Central\+Moments\+Weighted@{Central\+Moments\+Weighted}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Central\+Moments\+Weighted(float features[9]) const }{CentralMomentsWeighted(float features[9]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Central\+Moments\+Weighted (
\begin{DoxyParamCaption}
\item[{float}]{features\mbox{[}9\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a8fdeeeb015d5ab1b6f481f6c6a21dd9b}{}\label{class_k_k_b_1_1_raster_a8fdeeeb015d5ab1b6f481f6c6a21dd9b}


Similar to \textquotesingle{}Central\+Moments\textquotesingle{} except each pixel position is weighted by its intensity value. 

See M. K. Hu, Visual pattern recognition by moment invariants I\+RE Trans; Inform. Theory, vol. IT, no. 8, pp. 179, 187, 1962. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em features} & A array with 9 elements (0 through 8) that will receive the 8 central moments as defined by HU plus eccentricity in the eighth element. \\
\hline
\end{DoxyParams}


Definition at line 4243 of file Raster.\+cpp.



References background\+Pixel\+TH, green, height, and width.


\begin{DoxyCode}
4244 \{
4245 
4246   \textcolor{keywordtype}{float}  m00, m10, m01;
4247   MomentWeighted (m00, m10, m01);
4248 
4249   \textcolor{keywordtype}{float} ew  = m10 / m00;
4250   \textcolor{keywordtype}{float} eh  = m01 / m00;
4251         
4252   \textcolor{keywordtype}{float} cm00   = m00;
4253   \textcolor{keywordtype}{float} gamma2 = m00 * m00;
4254   \textcolor{keywordtype}{float} gamma3 = gamma2 * (float)sqrt (m00);
4255         
4256   \textcolor{keywordtype}{float} cm20 = 0.0f;
4257   \textcolor{keywordtype}{float} cm02 = 0.0f;
4258   \textcolor{keywordtype}{float} cm11 = 0.0f;
4259 
4260   \textcolor{keywordtype}{float} cm30 = 0.0f;
4261   \textcolor{keywordtype}{float} cm03 = 0.0f;
4262   \textcolor{keywordtype}{float} cm12 = 0.0f;
4263   \textcolor{keywordtype}{float} cm21 = 0.0f;
4264 
4265   \{
4266     \textcolor{keywordtype}{float}  cm = 0.0;
4267     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
4268     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
4269    
4270     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
4271 
4272     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++row)
4273     \{
4274       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowData = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
4275       \textcolor{keywordtype}{float}  deltaRow = row - eh;
4276 
4277       \textcolor{keywordtype}{float}  rowPow0 = 1;
4278       \textcolor{keywordtype}{float}  rowPow1 = deltaRow;
4279       \textcolor{keywordtype}{float}  rowPow2 = deltaRow * deltaRow;
4280       \textcolor{keywordtype}{float}  rowPow3 = rowPow2  * deltaRow;
4281 
4282       \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++col)
4283       \{
4284         \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} pv = rowData[col];
4285         \textcolor{keywordflow}{if}  (pv > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
4286         \{
4287           \textcolor{keywordflow}{if}  (pv > maxPixVal)
4288             maxPixVal = pv;
4289 
4290           \textcolor{keywordtype}{float}  deltaCol = col - ew;
4291           \textcolor{keywordtype}{float}  colPow0 = 1;
4292           \textcolor{keywordtype}{float}  colPow1 = deltaCol;
4293           \textcolor{keywordtype}{float}  colPow2 = deltaCol * deltaCol;
4294           \textcolor{keywordtype}{float}  colPow3 = colPow2  * deltaCol;
4295 
4296           \textcolor{keywordtype}{float}  pvFloat = (float)pv;
4297 
4298           cm20 += pvFloat * colPow2 * rowPow0;
4299           cm02 += pvFloat * colPow0 * rowPow2;
4300           cm30 += pvFloat * colPow3 * rowPow0;
4301           cm03 += pvFloat * colPow0 * rowPow3;
4302           cm12 += pvFloat * colPow1 * rowPow2;
4303           cm21 += pvFloat * colPow2 * rowPow1;
4304         \}
4305       \}
4306     \}
4307 
4308     cm20 = cm20 / (float)maxPixVal;
4309     cm02 = cm02 / (float)maxPixVal;
4310     cm30 = cm30 / (float)maxPixVal;
4311     cm03 = cm03 / (float)maxPixVal;
4312     cm12 = cm12 / (float)maxPixVal;
4313     cm21 = cm21 / (float)maxPixVal;
4314   \}
4315 
4316   cm20 = cm20 / gamma2;
4317   cm02 = cm02 / gamma2;
4318   cm11 = cm11 / gamma2;
4319 
4320   cm30 = cm30 / gamma3;
4321   cm03 = cm03 / gamma3;
4322   cm12 = cm12 / gamma3;
4323   cm21 = cm21 / gamma3;
4324 
4325   features[0] = cm00;
4326 
4327   features[1] = cm20 + cm02;
4328  
4329   features[2] = (cm20 - cm02) * (cm20 - cm02) + (float)4.0 * cm11 * cm11;
4330 
4331   features[3] = (cm30 - (float)3.0 * cm12) * 
4332                 (cm30 - (float)3.0 * cm12) + 
4333                 ((float)3.0 * cm21 - cm03) * 
4334                 ((float)3.0 * cm21 - cm03);
4335 
4336   features[4] = (cm30 + cm12) * (cm30 + cm12) + (cm21 + cm03) * (cm21 + cm03);
4337 
4338   features[5] = (cm30 - (float)3.0 * cm12) * (cm30 + cm12) * 
4339                 ((cm30 + cm12) * (cm30 + cm12) - 
4340                 (\textcolor{keywordtype}{float})3.0 * (cm21 + cm03) * (cm21 + cm03)) +
4341                 ((\textcolor{keywordtype}{float})3.0 * cm21 - cm03) * (cm21 + cm03) * 
4342                 ((float)3.0 * (cm30 + cm12) * (cm30 + cm12) - 
4343                 (cm21 + cm03) * (cm21 + cm03));
4344 
4345   features[6] = (cm20 - cm02) * 
4346                 (
4347                  (cm30 + cm12) * (cm30 + cm12) - 
4348                  (cm21 + cm03) * (cm21 + cm03)
4349                 ) +
4350                 (float)4.0 * cm11 * (cm30 + cm12) * (cm21 + cm03);
4351 
4352   features[7] = ((float)3.0 * cm21 - cm03) * 
4353                 (cm30 + cm12) * ((cm30 + cm12) * 
4354                 (cm30 + cm12) - (\textcolor{keywordtype}{float})3.0 * 
4355                 (cm21 + cm03) * (cm21 + cm03)) -
4356                 (cm30 - (\textcolor{keywordtype}{float})3.0 * cm12) * 
4357                 (cm21 + cm03) * ((float)3.0 * 
4358                 (cm30 + cm12) * (cm30 + cm12) - 
4359                 (cm21 + cm03) * (cm21 + cm03));
4360 
4361 \textcolor{comment}{//added by Baishali to calculate eccentricity}
4362   features[8] = (float)((((cm20 - cm02) * (cm20 - cm02)) - 
4363                 (4.0 * cm11 * cm11))/((cm20 + cm02) * (cm20 + cm02)));
4364 
4365   \textcolor{keywordflow}{return};
4366 \}  \textcolor{comment}{/* CentralMomentsWeighted */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Centroid\+Col@{Centroid\+Col}}
\index{Centroid\+Col@{Centroid\+Col}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Centroid\+Col() const }{CentroidCol() const }}]{\setlength{\rightskip}{0pt plus 5cm}float Raster\+::\+Centroid\+Col (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a27438047c266b2a207918a60831b0677}{}\label{class_k_k_b_1_1_raster_a27438047c266b2a207918a60831b0677}
\begin{DoxyReturn}{Returns}
returns the centroid\textquotesingle{}s column 
\end{DoxyReturn}


Definition at line 1100 of file Raster.\+cpp.



References Calc\+Centroid(), centroid\+Col, centroid\+Row, and tot\+Pixels.


\begin{DoxyCode}
1101 \{
1102   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol} >= 0)
1103     \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol};
1104 
1105   \textcolor{keywordtype}{float}  centroidColWeighted;
1106   \textcolor{keywordtype}{float}  centroidRowWeighted;
1107 
1108   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  weight = 0;
1109   \hyperlink{class_k_k_b_1_1_raster_a89e2ed864ff7030d55bf4c655de15636}{CalcCentroid} (\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}, weight, \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}, 
      \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}, centroidRowWeighted, centroidColWeighted);
1110 
1111   \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol};
1112 \} 
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Centroid\+Row@{Centroid\+Row}}
\index{Centroid\+Row@{Centroid\+Row}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Centroid\+Row() const }{CentroidRow() const }}]{\setlength{\rightskip}{0pt plus 5cm}float Raster\+::\+Centroid\+Row (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ab74f32c36bb08f11b52e748527052c20}{}\label{class_k_k_b_1_1_raster_ab74f32c36bb08f11b52e748527052c20}
\begin{DoxyReturn}{Returns}
returns the centroid\textquotesingle{}s row 
\end{DoxyReturn}


Definition at line 1116 of file Raster.\+cpp.



References Calc\+Centroid(), centroid\+Col, centroid\+Row, and tot\+Pixels.


\begin{DoxyCode}
1117 \{
1118   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow} >= 0)
1119     \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow};
1120 
1121   \textcolor{keywordtype}{float}  centroidColWeighted;
1122   \textcolor{keywordtype}{float}  centroidRowWeighted;
1123   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  weight = 0;
1124   \hyperlink{class_k_k_b_1_1_raster_a89e2ed864ff7030d55bf4c655de15636}{CalcCentroid} (\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}, weight, \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}, 
      \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}, centroidRowWeighted, centroidColWeighted);
1125   \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow};
1126 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Closing@{Closing}}
\index{Closing@{Closing}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Closing()}{Closing()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Closing (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a94fed3ca0f4c163500235447a44f3067}{}\label{class_k_k_b_1_1_raster_a94fed3ca0f4c163500235447a44f3067}


Definition at line 2961 of file Raster.\+cpp.



References Dilation(), and Erosion().


\begin{DoxyCode}
2962 \{
2963   \hyperlink{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}{Dilation} ();
2964   \hyperlink{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{Erosion} ();
2965 \}  \textcolor{comment}{/* Open */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Closing@{Closing}}
\index{Closing@{Closing}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Closing(\+Mask\+Types mask)}{Closing(MaskTypes mask)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Closing (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ae87534cc6246107a595083c08f9130fa}{}\label{class_k_k_b_1_1_raster_ae87534cc6246107a595083c08f9130fa}


Definition at line 2971 of file Raster.\+cpp.



References Dilation(), and Erosion().


\begin{DoxyCode}
2972 \{
2973   \hyperlink{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}{Dilation} (mask);
2974   \hyperlink{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{Erosion} (mask);
2975 \}  \textcolor{comment}{/* Open */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Color@{Color}}
\index{Color@{Color}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Color() const }{Color() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool K\+K\+B\+::\+Raster\+::\+Color (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{}\label{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}


Definition at line 310 of file Raster.\+h.



References color.



Referenced by K\+K\+B\+::\+Bmp\+Image\+::\+Bmp\+Image(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Class\+Average\+R\+G\+B(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Dilation(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Get\+Class\+Closest\+To\+Target\+Color(), K\+K\+B\+::\+Morph\+Op\+Sobel\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), K\+K\+B\+::\+Read\+Image(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Save\+Image\+P\+G\+M(), K\+K\+B\+::\+Save\+Image\+P\+N\+G(), K\+K\+B\+::\+Save\+Image\+P\+P\+M(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), Segment\+Image(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image(), and K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster().


\begin{DoxyCode}
310 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Compute\+Central\+Moments@{Compute\+Central\+Moments}}
\index{Compute\+Central\+Moments@{Compute\+Central\+Moments}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Compute\+Central\+Moments(kkint32 \&foreground\+Pixel\+Count, float \&weighted\+Pixel\+Count, float central\+Moments[9], float central\+Moments\+Weighted[9]) const }{ComputeCentralMoments(kkint32 &foregroundPixelCount, float &weightedPixelCount, float centralMoments[9], float centralMomentsWeighted[9]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Compute\+Central\+Moments (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{foreground\+Pixel\+Count, }
\item[{float \&}]{weighted\+Pixel\+Count, }
\item[{float}]{central\+Moments\mbox{[}9\mbox{]}, }
\item[{float}]{central\+Moments\+Weighted\mbox{[}9\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aba990cd9fd39b7804863b6d4cad39f05}{}\label{class_k_k_b_1_1_raster_aba990cd9fd39b7804863b6d4cad39f05}


Computes central moments; one set where each pixel is treated as 1 or 0(Foreground/\+Background) and the other where each pixel is weighted by intensity value. 

See M. K. Hu, Visual pattern recognition by moment invariants I\+RE Trans; Inform. Theory, vol. IT, no. 8, pp. 179?187, 1962. While performing this computation the mutable fields \textquotesingle{}centroid\+Row\textquotesingle{} and \textquotesingle{}centroid\+Col\textquotesingle{} will be recomputed and their values can be retrieved by their respective access methods. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em foreground\+Pixel\+Count} & Number of pixels that are considered Foreground; as per the \textquotesingle{}Foreground\textquotesingle{} method. \\
\hline
\mbox{\tt out}  & {\em weighted\+Pixel\+Count} & The sum of all pixels that are Foreground pixels but weighted by their intensity; such that each foreground pixel will be divided by 255. \\
\hline
\mbox{\tt out}  & {\em central\+Moments} & \\
\hline
\mbox{\tt out}  & {\em central\+Moments\+Weighted} & \\
\hline
\end{DoxyParams}


Definition at line 4418 of file Raster.\+cpp.



References background\+Pixel\+TH, centroid\+Col, centroid\+Row, green, height, and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
4424 \{
4425   \hyperlink{namespace_k_k_b_aa3486b1c5ea9162b3b020c69f72826eb}{kkint64}  m00,  m10,  m01;
4426   \textcolor{keywordtype}{float}    mw00, mw10, mw01;
4427   Moments (m00, m10, m01, mw00, mw10, mw01);
4428 
4429   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})m00;
4430   weightedPixelCount   = mw00;
4431 
4432   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol} = (float)m10 / (\textcolor{keywordtype}{float})m00;
4433   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow} = (float)m01 / (\textcolor{keywordtype}{float})m00;
4434 
4435   \textcolor{keywordtype}{float} centroidColW  = mw10 / mw00;
4436   \textcolor{keywordtype}{float} centroidRowW  = mw01 / mw00;
4437         
4438   \textcolor{keywordtype}{float}  cm00   = (float)m00;
4439   \textcolor{keywordtype}{float}  gamma2 = (float)m00 * (\textcolor{keywordtype}{float})m00;
4440   \textcolor{keywordtype}{float}  gamma3 = gamma2 * (float)sqrt ((\textcolor{keywordtype}{float})m00);
4441         
4442   \textcolor{keywordtype}{float}  cm20 = 0.0;
4443   \textcolor{keywordtype}{float}  cm02 = 0.0;
4444   \textcolor{keywordtype}{float}  cm11 = 0.0;
4445 
4446   \textcolor{keywordtype}{float}  cm30 = 0.0;
4447   \textcolor{keywordtype}{float}  cm03 = 0.0;
4448   \textcolor{keywordtype}{float}  cm12 = 0.0;
4449   \textcolor{keywordtype}{float}  cm21 = 0.0;
4450 
4451   \textcolor{keywordtype}{float} cmw00   = mw00;
4452   \textcolor{keywordtype}{float} gammaW2 = (\textcolor{keywordtype}{float})mw00 * (\textcolor{keywordtype}{float})mw00;
4453   \textcolor{keywordtype}{float} gammaW3 = (\textcolor{keywordtype}{float})gammaW2 * (\textcolor{keywordtype}{float})sqrt ((\textcolor{keywordtype}{float})mw00);
4454         
4455   \textcolor{keywordtype}{float} cmw20 = 0.0f;
4456   \textcolor{keywordtype}{float} cmw02 = 0.0f;
4457   \textcolor{keywordtype}{float} cmw11 = 0.0f;
4458 
4459   \textcolor{keywordtype}{float} cmw30 = 0.0f;
4460   \textcolor{keywordtype}{float} cmw03 = 0.0f;
4461   \textcolor{keywordtype}{float} cmw12 = 0.0f;
4462   \textcolor{keywordtype}{float} cmw21 = 0.0f;
4463 
4464   \{
4465     \textcolor{keywordtype}{float}  cmw = 0.0;
4466     \textcolor{keywordtype}{float}  cm  = 0.0;
4467     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
4468     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
4469 
4470     \textcolor{keywordtype}{float}   deltaCol = 0.0f;
4471     \textcolor{keywordtype}{float}   deltaRow = 0.0f;
4472    
4473     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal} = 0;
4474 
4475     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++row)
4476     \{
4477       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowData = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
4478 
4479       \textcolor{keywordtype}{float}  deltaRow  = row - \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow};
4480       \textcolor{keywordtype}{float}  deltaRowW = row - centroidRowW;
4481 
4482       \textcolor{keywordtype}{float}  rowPow0 = 1.0;
4483       \textcolor{keywordtype}{float}  rowPow1 = deltaRow;
4484       \textcolor{keywordtype}{float}  rowPow2 = deltaRow * deltaRow;
4485       \textcolor{keywordtype}{float}  rowPow3 = rowPow2  * deltaRow;
4486 
4487       \textcolor{keywordtype}{float}  rowPowW0 = 1;
4488       \textcolor{keywordtype}{float}  rowPowW1 = deltaRowW;
4489       \textcolor{keywordtype}{float}  rowPowW2 = deltaRowW * deltaRowW;
4490       \textcolor{keywordtype}{float}  rowPowW3 = rowPowW2  * deltaRowW;
4491 
4492       \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++col)
4493       \{
4494         \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar} pv = rowData[col];
4495         \textcolor{keywordflow}{if}  (pv > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
4496         \{
4497           \textcolor{keywordtype}{float}  deltaCol = col - \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol};
4498 
4499           \textcolor{keywordtype}{float}  colPow0 = 1.0f;
4500           \textcolor{keywordtype}{float}  colPow1 = deltaCol;
4501           \textcolor{keywordtype}{float}  colPow2 = deltaCol * deltaCol;
4502           \textcolor{keywordtype}{float}  colPow3 = colPow2  * deltaCol;
4503 
4504           cm20 += colPow2 * rowPow0;
4505           cm02 += colPow0 * rowPow2;
4506           cm11 += colPow1 * rowPow1;
4507           cm30 += colPow3 * rowPow0;
4508           cm03 += colPow0 * rowPow3;
4509 
4510           cm12 += colPow1 * rowPow2;
4511           cm21 += colPow2 * rowPow1;
4512 
4513           \textcolor{keywordflow}{if}  (pv > maxPixVal)
4514             maxPixVal = pv;
4515 
4516           \textcolor{keywordtype}{float}  deltaColW = col - centroidColW;
4517           \textcolor{keywordtype}{float}  colPowW0 = 1;
4518           \textcolor{keywordtype}{float}  colPowW1 = deltaColW;
4519           \textcolor{keywordtype}{float}  colPowW2 = deltaColW * deltaColW;
4520           \textcolor{keywordtype}{float}  colPowW3 = colPowW2  * deltaColW;
4521 
4522           cmw20 += colPowW2 * rowPowW0;
4523           cmw02 += colPowW0 * rowPowW2;
4524           cmw30 += colPowW3 * rowPowW0;
4525           cmw03 += colPowW0 * rowPowW3;
4526           cmw12 += colPowW1 * rowPowW2;
4527           cmw21 += colPowW2 * rowPowW1;
4528         \}
4529       \}
4530     \}
4531 
4532     cmw20 = cmw20 / (float)maxPixVal;
4533     cmw02 = cmw02 / (float)maxPixVal;
4534     cmw30 = cmw30 / (float)maxPixVal;
4535     cmw03 = cmw03 / (float)maxPixVal;
4536     cmw12 = cmw12 / (float)maxPixVal;
4537     cmw21 = cmw21 / (float)maxPixVal;
4538   \}
4539 
4540   cm20  = cm20  / gamma2;
4541   cm02  = cm02  / gamma2;
4542   cm11  = cm11  / gamma2;
4543 
4544   cm30  = cm30  / gamma3;
4545   cm03  = cm03  / gamma3;
4546   cm12  = cm12  / gamma3;
4547   cm21  = cm21  / gamma3;
4548 
4549   cmw20 = cmw20 / gammaW2;
4550   cmw02 = cmw02 / gammaW2;
4551   cmw11 = cmw11 / gammaW2;
4552 
4553   cmw30 = cmw30 / gammaW3;
4554   cmw03 = cmw03 / gammaW3;
4555   cmw12 = cmw12 / gammaW3;
4556   cmw21 = cmw21 / gammaW3;
4557 
4558 
4559   centralMoments[0] = cm00;
4560 
4561   centralMoments[1] = cm20 + cm02;
4562  
4563   centralMoments[2] = (cm20 - cm02) * (cm20 - cm02) + 
4564                 4.0f * cm11 * cm11;
4565 
4566   centralMoments[3] = (cm30 - 3.0f * cm12) * (cm30 - 3.0f * cm12) + 
4567                 (3.0f * cm21 - cm03) * (3.0f * cm21 - cm03);
4568 
4569   centralMoments[4] = (cm30 + cm12) * (cm30 + cm12) + (cm21 + cm03) * (cm21 + cm03);
4570 
4571   centralMoments[5] = (cm30 - 3.0f * cm12) * (cm30 + cm12) * ((cm30 + cm12) * (cm30 + cm12) - 
4572                 3.0f * (cm21 + cm03) * (cm21 + cm03))  +  (3.0f * cm21 - cm03) * (cm21 + cm03) * 
4573                 (3.0f * (cm30 + cm12) * (cm30 + cm12) - (cm21 + cm03) * (cm21 + cm03));
4574 
4575   centralMoments[6] = (cm20 - cm02) * 
4576                 ((cm30 + cm12) * (cm30 + cm12) - (cm21 + cm03) * (cm21 + cm03))
4577                 + 4.0f * cm11 * (cm30 + cm12) * (cm21 + cm03);
4578 
4579   centralMoments[7] = (3.0f * cm21 - cm03) * (cm30 + cm12) * 
4580                 ((cm30 + cm12) * (cm30 + cm12) - 3.0f * (cm21 + cm03) * (cm21 + cm03) )
4581                -(cm30 - 3.0f * cm12) * (cm21 + cm03) * 
4582                (3.0f * (cm30 + cm12) * (cm30 + cm12) - (cm21 + cm03) * (cm21 + cm03) );
4583 
4584   \textcolor{comment}{//added by baishali to calculate eccentricity}
4585   centralMoments[8] = (((cm20 - cm02) * (cm20 - cm02)) - 
4586                 (4.0f * cm11 * cm11))/((cm20 + cm02) * (cm20 + cm02));
4587 
4588 
4589 
4590   centralMomentsWeighted[0] = cmw00;
4591 
4592   centralMomentsWeighted[1] = cmw20 + cmw02;
4593  
4594   centralMomentsWeighted[2] = (cmw20 - cmw02) * (cmw20 - cmw02) + (float)4.0 * cmw11 * cmw11;
4595 
4596   centralMomentsWeighted[3] = (cmw30 - (float)3.0 * cmw12) * 
4597                 (cmw30 - (float)3.0 * cmw12) + 
4598                 ((float)3.0 * cmw21 - cmw03) * 
4599                 ((float)3.0 * cmw21 - cmw03);
4600 
4601   centralMomentsWeighted[4] = (cmw30 + cmw12) * (cmw30 + cmw12) + (cmw21 + cmw03) * (cmw21 + cmw03);
4602 
4603   centralMomentsWeighted[5] = (cmw30 - (float)3.0 * cmw12) * (cmw30 + cmw12) * 
4604                 ((cmw30 + cmw12) * (cmw30 + cmw12) - 
4605                  (\textcolor{keywordtype}{float})3.0 * (cmw21 + cmw03) * (cmw21 + cmw03)) +
4606                 ((\textcolor{keywordtype}{float})3.0 * cmw21 - cmw03) * (cmw21 + cmw03) * 
4607                 ((float)3.0 * (cmw30 + cmw12) * (cmw30 + cmw12) - 
4608                 (cmw21 + cmw03) * (cmw21 + cmw03));
4609 
4610   centralMomentsWeighted[6] = (cmw20 - cmw02) * 
4611                 (
4612                  (cmw30 + cmw12) * (cmw30 + cmw12) - 
4613                  (cmw21 + cmw03) * (cmw21 + cmw03)
4614                 ) +
4615                 (float)4.0 * cmw11 * (cmw30 + cmw12) * (cmw21 + cmw03);
4616 
4617   centralMomentsWeighted[7] = ((float)3.0 * cmw21 - cmw03) * 
4618                 (cmw30 + cmw12) * ((cmw30 + cmw12) * 
4619                 (cmw30 + cmw12) - (\textcolor{keywordtype}{float})3.0 * 
4620                 (cmw21 + cmw03) * (cmw21 + cmw03)) -
4621                 (cmw30 - (\textcolor{keywordtype}{float})3.0 * cmw12) * 
4622                 (cmw21 + cmw03) * ((float)3.0 * 
4623                 (cmw30 + cmw12) * (cmw30 + cmw12) - 
4624                 (cmw21 + cmw03) * (cmw21 + cmw03));
4625 
4626 \textcolor{comment}{//added by baishali to calculate eccentricity}
4627   centralMomentsWeighted[8] = (float)((((cmw20 - cmw02) * (cmw20 - cmw02)) - 
4628                 (4.0 * cmw11 * cmw11))/((cmw20 + cmw02) * (cmw20 + cmw02)));
4629 
4630   \textcolor{keywordflow}{return};
4631 \}  \textcolor{comment}{/* CentralMoments */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Connected\+Component@{Connected\+Component}}
\index{Connected\+Component@{Connected\+Component}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Connected\+Component(uchar connected\+Component\+Dist)}{ConnectedComponent(uchar connectedComponentDist)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Connected\+Component (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{connected\+Component\+Dist}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a3062e4d08b104319c1da0561017eb6f7}{}\label{class_k_k_b_1_1_raster_a3062e4d08b104319c1da0561017eb6f7}


Definition at line 3466 of file Raster.\+cpp.



References blob\+Ids, Extract\+Blobs(), green, green\+Area, height, K\+K\+B\+::\+Blob\+::\+Id(), K\+K\+B\+::\+Blob\+List\+::\+Locate\+Largest\+Blob(), tot\+Pixels, and width.



Referenced by Derive\+Image\+Length(), and Thin\+Contour().


\begin{DoxyCode}
3467 \{
3468   \textcolor{keywordflow}{if}  (connectedComponentDist < 1)
3469     connectedComponentDist = 3;
3470 
3471   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0, col = 0;
3472 
3473   \hyperlink{class_k_k_b_1_1_blob_list}{BlobListPtr}  blobs = \hyperlink{class_k_k_b_1_1_raster_a5d6059f6d0020e493683b2a00a6a8821}{ExtractBlobs} (connectedComponentDist);
3474 
3475   \hyperlink{class_k_k_b_1_1_blob}{BlobPtr} largestBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a68a45d0c30102a70de2bcd96f3aa48a2}{LocateLargestBlob} ();
3476   \textcolor{keywordflow}{if}  (largestBlob)
3477   \{
3478     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobId = largestBlob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3479      
3480     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   newImageArea = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
3481     memset (newImageArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
3482     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   newImageAreaPtr = newImageArea;
3483 
3484     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newRows = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}];
3485 
3486     \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3487     \{
3488       newRows[row] = newImageAreaPtr;
3489       
3490       \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
3491       \{
3492         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blobId)
3493         \{
3494           newRows[row][col] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
3495         \}
3496       \}
3497 
3498       newImageAreaPtr = newImageAreaPtr + \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
3499     \}
3500 
3501     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
3502     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
3503 
3504     \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = newImageArea;
3505     \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} = newRows;
3506   \}
3507 
3508   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3509     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row];
3510   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds};
3511   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} = NULL;
3512 
3513   \textcolor{keyword}{delete}  blobs;  blobs = NULL;
3514 
3515   \textcolor{keywordflow}{return};
3516 \}  \textcolor{comment}{/* ConnectedComponent */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Connected\+Component8\+Conected@{Connected\+Component8\+Conected}}
\index{Connected\+Component8\+Conected@{Connected\+Component8\+Conected}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Connected\+Component8\+Conected()}{ConnectedComponent8Conected()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Connected\+Component8\+Conected (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_af5bce18047f6f93accafcc4f6fa0f8f3}{}\label{class_k_k_b_1_1_raster_af5bce18047f6f93accafcc4f6fa0f8f3}


Definition at line 3577 of file Raster.\+cpp.



References blob\+Ids, K\+K\+B\+::\+Blob\+List\+::\+Blob\+List(), green, green\+Area, height, K\+K\+B\+::\+Blob\+::\+Id(), K\+K\+B\+::\+Blob\+::id, K\+K\+B\+::\+Blob\+List\+::\+Locate\+Largest\+Blob(), K\+K\+B\+::\+Blob\+List\+::\+Look\+Up\+By\+Blob\+Id(), K\+K\+B\+::\+Blob\+List\+::\+Merge\+Blob\+Ids(), K\+K\+B\+::\+Blob\+List\+::\+New\+Blob(), K\+K\+B\+::\+Blob\+::pixel\+Count, tot\+Pixels, and width.


\begin{DoxyCode}
3578 \{
3579   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   curRow         = NULL;
3580   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*   curRowBlobIds  = NULL;
3581   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*   prevRowBlobIds = NULL;
3582 
3583   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 2;
3584   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 2;
3585 
3586   \hyperlink{class_k_k_b_1_1_blob}{BlobPtr}  curBlob    = NULL;
3587   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  curBlobId  = 0;
3588   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nearBlobId = 0;
3589 
3590   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blankColsInARow = 0;
3591 
3592   \textcolor{comment}{// Initialize Blob ID's}
3593 
3594   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}];
3595 
3596   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3597   \{
3598     \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row] = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}[\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}];
3599     \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
3600     \{
3601       \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] = -1;
3602     \}
3603   \}
3604 
3605   \hyperlink{class_k_k_b_1_1_blob_list}{BlobListPtr} blobs = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_blob_list}{BlobList} (\textcolor{keyword}{true});
3606 
3607   \textcolor{keywordflow}{for}  (row = 1; row < height - 1; row++)
3608   \{
3609     curRow         = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
3610     curRowBlobIds  = \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row];
3611     prevRowBlobIds = \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row - 1];
3612 
3613 
3614     curBlob = NULL;
3615 
3616     col = 1;
3617     \textcolor{keywordflow}{while}  (col < (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1))
3618     \{
3619       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (curRow[col]))
3620       \{
3621         blankColsInARow = 0;
3622 
3623         nearBlobId = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (prevRowBlobIds[col - 1],
3624                           prevRowBlobIds[col],
3625                           prevRowBlobIds[col + 1]
3626                          );
3627         \textcolor{keywordflow}{if}  (curBlob)
3628         \{
3629           \textcolor{keywordflow}{if}  (nearBlobId >= 0)
3630           \{
3631             \textcolor{keywordflow}{if}  (nearBlobId != curBlobId)
3632             \{
3633               blobs->\hyperlink{class_k_k_b_1_1_blob_list_a542ca9592d04a6c7cf1b56127d1c7b4e}{MergeBlobIds} (curBlob, nearBlobId, \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds});
3634             \}
3635           \}
3636 
3637           curRowBlobIds[col] = curBlobId;
3638           curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}  = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}, col);
3639           curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot}    = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot},   row);
3640           curBlob->\hyperlink{class_k_k_b_1_1_blob_a415767d4a364df537d7b2fc06a95721d}{pixelCount}++;
3641         \}
3642         \textcolor{keywordflow}{else}
3643         \{
3644           \textcolor{comment}{// No Current Blob}
3645           \textcolor{keywordflow}{if}  (nearBlobId >= 0)
3646           \{
3647             curBlob   = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a3acd3cdb0c08780511f2087f72749b91}{LookUpByBlobId} (nearBlobId);
3648             curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id};
3649           \}
3650           \textcolor{keywordflow}{else}
3651           \{
3652             curBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a4542efb8f886b31c58f0a03507d20e69}{NewBlob} (row, col);
3653             curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id};
3654           \}
3655 
3656           curRowBlobIds[col] = curBlobId;
3657           curBlob->\hyperlink{class_k_k_b_1_1_blob_a1d47c1a8131e60211a3dd91910699318}{colLeft}   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min}  (curBlob->\hyperlink{class_k_k_b_1_1_blob_a1d47c1a8131e60211a3dd91910699318}{colLeft},  col);
3658           curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}  = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}, col);
3659           curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot}    = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot},   row);
3660           curBlob->\hyperlink{class_k_k_b_1_1_blob_adeb391a75a10791e7f59566eafa847ae}{rowTop}    = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min}  (curBlob->\hyperlink{class_k_k_b_1_1_blob_adeb391a75a10791e7f59566eafa847ae}{rowTop},   row);
3661           curBlob->\hyperlink{class_k_k_b_1_1_blob_a415767d4a364df537d7b2fc06a95721d}{pixelCount}++;
3662         \}
3663       \}
3664       \textcolor{keywordflow}{else}
3665       \{
3666         blankColsInARow++;
3667         curBlob = NULL;
3668         curBlobId = -1;
3669       \}
3670 
3671       col++;
3672     \}
3673   \}
3674 
3675   \hyperlink{class_k_k_b_1_1_blob}{BlobPtr} largestBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a68a45d0c30102a70de2bcd96f3aa48a2}{LocateLargestBlob} ();
3676   \textcolor{keywordflow}{if}  (largestBlob)
3677   \{
3678     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobId = largestBlob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3679     
3680     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   newImageArea = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
3681     memset (newImageArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
3682     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   newImageAreaPtr = newImageArea;
3683 
3684     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newRows = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}];
3685 
3686     \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3687     \{
3688       newRows[row] = newImageAreaPtr;
3689       
3690       \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
3691       \{
3692         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blobId)
3693         \{
3694           newRows[row][col] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
3695         \}
3696       \}
3697 
3698       newImageAreaPtr = newImageAreaPtr + \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
3699     \}
3700 
3701     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
3702     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
3703 
3704     \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = newImageArea;
3705     \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} = newRows;
3706   \}
3707 
3708   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3709     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row];
3710   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds};
3711   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} = NULL;
3712 
3713   \textcolor{keyword}{delete}  blobs;  blobs = NULL;
3714 
3715   \textcolor{keywordflow}{return};
3716 \}  \textcolor{comment}{/* ConnectedComponent8Conected */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Color@{Create\+Color}}
\index{Create\+Color@{Create\+Color}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Color() const }{CreateColor() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Color (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ad9aafcf75ace95ae4e5170ffa5b44f0d}{}\label{class_k_k_b_1_1_raster_ad9aafcf75ace95ae4e5170ffa5b44f0d}


Definition at line 6028 of file Raster.\+cpp.



References color, K\+K\+B\+::\+Pixel\+Value\+::\+From\+H\+S\+I(), green, height, K\+K\+B\+::\+Pixel\+Value\+::operator=(), Raster(), Set\+Pixel\+Value(), K\+K\+B\+::\+Pixel\+Value\+::\+White, and width.


\begin{DoxyCode}
6029 \{
6030   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6031     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (*\textcolor{keyword}{this});
6032 
6033   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  colorImage = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
6034 
6035   \hyperlink{namespace_k_k_b_ab8557ae1b1f2361659d82a890e2f8014}{uint}  x = 0;
6036   \hyperlink{class_k_k_b_1_1_pixel_value}{PixelValue}  pv[256];
6037   \textcolor{keywordflow}{for}  (x = 0;  x < 256;  ++x)
6038   \{
6039     pv[x] = \hyperlink{class_k_k_b_1_1_pixel_value_a1aed38456fe38d925a5fdeb25d94cd6f}{PixelValue::FromHSI} ((\textcolor{keywordtype}{float})x, 1.0f, 1.0f);
6040   \}
6041 
6042   \textcolor{keywordflow}{for}  (\textcolor{keywordtype}{int} r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
6043   \{
6044     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowData = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r];
6045     \textcolor{keywordflow}{for}  (\textcolor{keywordtype}{int} c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
6046     \{
6047       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  intensity = rowData[c];
6048       \textcolor{keywordflow}{if}  (intensity == 0)
6049         colorImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, \hyperlink{class_k_k_b_1_1_pixel_value_acc6b911dd3a96eb1dc6eb0baf42047ed}{PixelValue::White});
6050       \textcolor{keywordflow}{else}
6051         colorImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, pv[rowData[c]]);
6052     \}
6053   \}
6054 
6055   \textcolor{keywordflow}{return}   colorImage;
6056 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Color\+Image\+From\+Labels@{Create\+Color\+Image\+From\+Labels}}
\index{Create\+Color\+Image\+From\+Labels@{Create\+Color\+Image\+From\+Labels}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Color\+Image\+From\+Labels()}{CreateColorImageFromLabels()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Color\+Image\+From\+Labels (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a2161a69c86313baeff5d21f66cd9efd7}{}\label{class_k_k_b_1_1_raster_a2161a69c86313baeff5d21f66cd9efd7}


Produces a color image using the \textquotesingle{}green\+Area\textquotesingle{} channel, assuming that each unique value will be assigned a unique color. 

Assuming that each value in the channel(\+Green\+Area) will be assigned a different color useful for image created by \char`\"{}\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image\char`\"{}. \begin{DoxySeeAlso}{See also}
Raster\+::\+Create\+K\+LT 
\end{DoxySeeAlso}


Definition at line 9837 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), K\+K\+B\+::\+Pixel\+Value\+::b, K\+K\+B\+::\+Pixel\+Value\+::\+Black, Blue\+Area(), K\+K\+B\+::\+Pixel\+Value\+::\+From\+H\+S\+I(), K\+K\+B\+::\+Pixel\+Value\+::g, Green\+Area(), green\+Area, height, K\+K\+B\+::\+Pixel\+Value\+::operator=(), K\+K\+B\+::\+Pixel\+Value\+::r, Red\+Area(), tot\+Pixels, and width.


\begin{DoxyCode}
9838 \{
9839   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x = 0;
9840 
9841   \textcolor{comment}{// Determine number of unique values in greenArea channel.}
9842   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  freqCount[256];
9843   \textcolor{keywordflow}{for}  (x = 0;  x < 256;  ++x)
9844     freqCount[x] = 0;
9845   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x)
9846     freqCount[\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x]]++;
9847 
9848   multimap<kkint32,uchar>  sortedFreqCounts;
9849   \textcolor{keywordflow}{for}  (x = 0;  x < 256;  ++x)
9850   \{
9851     \textcolor{keywordflow}{if}  (freqCount[x] > 0)
9852       sortedFreqCounts.insert (pair<kkint32,uchar> (freqCount[x], (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})x));
9853   \}
9854 
9855   \hyperlink{class_k_k_b_1_1_pixel_value}{PixelValue}  colorAssignments[256];
9856   colorAssignments[0] = \hyperlink{class_k_k_b_1_1_pixel_value_af2eb1c2546e02ff0f6c14ab76e604e19}{PixelValue::Black};
9857   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numUniqueValues = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})sortedFreqCounts.size ();
9858   multimap<kkint32,uchar>::reverse\_iterator  idx;
9859   x = 0;
9860   \textcolor{keywordflow}{for}  (idx = sortedFreqCounts.rbegin ();  idx != sortedFreqCounts.rend ();  ++idx)
9861   \{
9862     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelValue = idx->second;
9863     colorAssignments[pixelValue] = \hyperlink{class_k_k_b_1_1_pixel_value_a1aed38456fe38d925a5fdeb25d94cd6f}{PixelValue::FromHSI} ((\textcolor{keywordtype}{float})x / (\textcolor{keywordtype}{float})
      numUniqueValues, 1.0f, 1.0f);
9864     x++;
9865   \}
9866 
9867   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  colorImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
9868   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRed   = colorImage->\hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{RedArea}   ();
9869   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destGreen = colorImage->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
9870   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destBlue  = colorImage->\hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{BlueArea}  ();
9871   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x)
9872   \{
9873     \hyperlink{class_k_k_b_1_1_pixel_value}{PixelValue}& pv = colorAssignments[\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x]];
9874     destRed  [x] = pv.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r};
9875     destGreen[x] = pv.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g};
9876     destBlue [x] = pv.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b};
9877   \}
9878 
9879   \textcolor{keywordflow}{return}  colorImage;
9880 \}  \textcolor{comment}{/* CreateColorImageFromLabels */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Color\+With\+Blobs\+Labeld\+By\+Color@{Create\+Color\+With\+Blobs\+Labeld\+By\+Color}}
\index{Create\+Color\+With\+Blobs\+Labeld\+By\+Color@{Create\+Color\+With\+Blobs\+Labeld\+By\+Color}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Color\+With\+Blobs\+Labeld\+By\+Color(\+Blob\+List\+Ptr blobs)}{CreateColorWithBlobsLabeldByColor(BlobListPtr blobs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Color\+With\+Blobs\+Labeld\+By\+Color (
\begin{DoxyParamCaption}
\item[{{\bf Blob\+List\+Ptr}}]{blobs}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a8c410f4489fcff95c0041e94ccebd504}{}\label{class_k_k_b_1_1_raster_a8c410f4489fcff95c0041e94ccebd504}


Returns image where each blob is labeled with a different color. 

Only useful if \textquotesingle{}Extract\+Blobs\textquotesingle{} was performed on this instance. Eight different colors are used and they are selected by the modules of the blob\+Id(blob\+Id \% 8). Assignments are 0\+:Red, 1\+:Green, 2\+:Blue, 3\+:Yellow, 4\+:Orange, 5\+:Magenta, 6\+:Purple, 7\+:Teal.\+Only useful if \textquotesingle{}Extract\+Blobs\textquotesingle{} was performed on this instance, the returned image will be color with each blob labeled a different color.

Only useful if \textquotesingle{}Extract\+Blobs\textquotesingle{} was performed on this instance. 

Definition at line 3331 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blob\+Ids, K\+K\+B\+::\+Pixel\+Value\+::\+Blue, K\+K\+B\+::\+Pixel\+Value\+::\+Green, height, K\+K\+B\+::\+Blob\+::\+Id(), K\+K\+B\+::\+Pixel\+Value\+::\+Magenta, K\+K\+B\+::\+Pixel\+Value\+::operator=(), K\+K\+B\+::\+Pixel\+Value\+::\+Orange, K\+K\+B\+::\+Pixel\+Value\+::\+Purple, K\+K\+B\+::\+Pixel\+Value\+::\+Red, Set\+Pixel\+Value(), K\+K\+B\+::\+Pixel\+Value\+::\+Teal, width, and K\+K\+B\+::\+Pixel\+Value\+::\+Yellow.


\begin{DoxyCode}
3332 \{
3333   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  colorImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
3334   \textcolor{keywordflow}{if}  (blobs == NULL)
3335     \textcolor{keywordflow}{return} colorImage;
3336 
3337   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} == NULL)
3338     \textcolor{keywordflow}{return} colorImage;
3339 
3340   BlobList::iterator  idx;
3341   \textcolor{keywordflow}{for}  (idx = blobs->begin ();  idx != blobs->end ();  ++idx)
3342   \{
3343     \hyperlink{class_k_k_b_1_1_blob}{BlobPtr}  blob = idx->second;
3344     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobId = blob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3345     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0, col = 0;
3346 
3347     \hyperlink{class_k_k_b_1_1_pixel_value}{PixelValue}  \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color};
3348     \textcolor{keywordflow}{switch}  (blobId % 8)
3349     \{
3350     \textcolor{keywordflow}{case}  0:  color = \hyperlink{class_k_k_b_1_1_pixel_value_a9d2c067be56aec7c69d00ec701020fca}{PixelValue::Red};      \textcolor{keywordflow}{break};
3351     \textcolor{keywordflow}{case}  1:  color = \hyperlink{class_k_k_b_1_1_pixel_value_a151caa1579d95170de6eccdd0947bf58}{PixelValue::Green};    \textcolor{keywordflow}{break};
3352     \textcolor{keywordflow}{case}  2:  color = \hyperlink{class_k_k_b_1_1_pixel_value_a95467b558e03495bcedbbcb3b000cfd2}{PixelValue::Blue};     \textcolor{keywordflow}{break};
3353     \textcolor{keywordflow}{case}  3:  color = \hyperlink{class_k_k_b_1_1_pixel_value_a27b4eed1835edf9ed4dd82b1d81319ef}{PixelValue::Yellow};   \textcolor{keywordflow}{break};
3354     \textcolor{keywordflow}{case}  4:  color = \hyperlink{class_k_k_b_1_1_pixel_value_adfa545c41c42b0a959e9e118a88a850b}{PixelValue::Orange};   \textcolor{keywordflow}{break};
3355     \textcolor{keywordflow}{case}  5:  color = \hyperlink{class_k_k_b_1_1_pixel_value_a39b5f23dae5d2065b943e5faa546879c}{PixelValue::Magenta};  \textcolor{keywordflow}{break};
3356     \textcolor{keywordflow}{case}  6:  color = \hyperlink{class_k_k_b_1_1_pixel_value_ad957c67e590c8abf653217642afebbac}{PixelValue::Purple};   \textcolor{keywordflow}{break};
3357     \textcolor{keywordflow}{case}  7:  color = \hyperlink{class_k_k_b_1_1_pixel_value_a3fab97045e7187877973856b6b38d9df}{PixelValue::Teal};     \textcolor{keywordflow}{break};
3358     \}
3359 
3360     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowStart = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_ab6735f537773b0a21f2e37c8793f8868}{RowTop}   (), \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
3361     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowEnd   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a6ffc22c0be20c597d49b0f5aa7aad008}{RowBot}   (), \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
3362     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colStart = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a42dc8a4c5009bcc67cbc39848169559a}{ColLeft}  (), \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);
3363     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colEnd   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a9ae87430e9269e0fbfcd88a2d5891b88}{ColRight} (), \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);
3364 
3365     \textcolor{keywordflow}{for}  (row = rowStart;  row <= rowEnd;  ++row)
3366     \{
3367       \textcolor{keywordflow}{for}  (col = colStart;  col <= colEnd;  ++col)
3368       \{
3369         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blobId)
3370         \{
3371           colorImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, color);
3372         \}
3373       \}
3374     \}
3375   \}
3376 
3377   \textcolor{keywordflow}{return}  colorImage;
3378 \}  \textcolor{comment}{/* CreateColorWithBlobsLabeldByColor*/}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Dilated\+Raster@{Create\+Dilated\+Raster}}
\index{Create\+Dilated\+Raster@{Create\+Dilated\+Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Dilated\+Raster() const }{CreateDilatedRaster() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Dilated\+Raster (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_add28bd664fc2962aed6631d157a37aa6}{}\label{class_k_k_b_1_1_raster_add28bd664fc2962aed6631d157a37aa6}


Definition at line 1623 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), foreground\+Pixel\+Count, green, height, and width.



Referenced by Dilation().


\begin{DoxyCode}
1624 \{
1625   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
1626   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
1627 
1628   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  resultForegroundPixelCount = 0;
1629 
1630   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
1631 
1632   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}** resultRows = result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1633 
1634   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totValue     = 0;
1635   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  numNeighbors = 0;
1636 
1637   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultRow = NULL;
1638 
1639   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
1640   \{
1641     resultRow = resultRows[row];
1642     \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
1643     \{
1644       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (resultRow[col]))
1645       \{
1646         \textcolor{comment}{// Since we are a blank cell we want our value to be set to the average value of our occupied
       neighbors.}
1647         totValue     = 0;
1648         numNeighbors = 0;
1649 
1650         CalcDialatedValue (row - 1, col - 1, totValue, numNeighbors);
1651         CalcDialatedValue (row - 1, col,     totValue, numNeighbors);
1652         CalcDialatedValue (row - 1, col + 1, totValue, numNeighbors);
1653 
1654         CalcDialatedValue (row    , col - 1, totValue, numNeighbors);
1655         CalcDialatedValue (row    , col + 1, totValue, numNeighbors);
1656 
1657         CalcDialatedValue (row + 1, col - 1, totValue, numNeighbors);
1658         CalcDialatedValue (row + 1, col    , totValue, numNeighbors);
1659         CalcDialatedValue (row + 1, col + 1, totValue, numNeighbors);
1660 
1661         \textcolor{keywordflow}{if}  (numNeighbors > 0)
1662         \{
1663           resultRow[col] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(totValue / numNeighbors);
1664           resultForegroundPixelCount++;
1665         \}
1666       \}
1667       \textcolor{keywordflow}{else}
1668       \{
1669         resultForegroundPixelCount++;
1670       \}
1671     \}
1672   \}
1673 
1674   result->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = resultForegroundPixelCount;
1675   \textcolor{keywordflow}{return}  result;
1676 \}  \textcolor{comment}{/* CreateDilatedRaster */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Dilated\+Raster@{Create\+Dilated\+Raster}}
\index{Create\+Dilated\+Raster@{Create\+Dilated\+Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Dilated\+Raster(\+Mask\+Types mask) const }{CreateDilatedRaster(MaskTypes mask) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Dilated\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a388b0f8522bf7d89833398a08e534190}{}\label{class_k_k_b_1_1_raster_a388b0f8522bf7d89833398a08e534190}


Definition at line 1702 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), foreground\+Pixel\+Count, green, height, and width.



Referenced by Dilation().


\begin{DoxyCode}
1703 \{
1704   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row;
1705   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col;
1706 
1707   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
1708 
1709   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}** resultRows = result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1710 
1711   \textcolor{comment}{//uchar  numNeighbors = 0;}
1712 
1713   \textcolor{comment}{//for  (row = 1; row < (height - 1); row++)}
1714   \textcolor{comment}{//\{}
1715   \textcolor{comment}{//  for  (col = 1; col < (width - 1); col++)}
1716   \textcolor{comment}{//  \{}
1717   \textcolor{comment}{//    if  (resultRows[row][col] == 0)}
1718   \textcolor{comment}{//    \{}
1719   \textcolor{comment}{//      resultRows[row][col] = Hit (mask, row, col);}
1720   \textcolor{comment}{//    \}}
1721   \textcolor{comment}{//  \}}
1722   \textcolor{comment}{//\}}
1723 
1724   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  resultForegroundPixelCount = 0;
1725   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultRow = NULL;
1726   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}   pixelValue;
1727   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
1728   \{
1729     resultRow = resultRows[row];
1730     \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
1731     \{
1732       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (resultRow[col]))
1733       \{
1734         pixelValue = Hit (mask, row, col);
1735         resultRow[col] = pixelValue;
1736         \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (pixelValue))
1737           resultForegroundPixelCount++;
1738       \}
1739       \textcolor{keywordflow}{else}
1740       \{
1741         resultForegroundPixelCount++;
1742       \}
1743     \}
1744   \}
1745 
1746   result->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = resultForegroundPixelCount;
1747 
1748   \textcolor{keywordflow}{return}  result;
1749 \}  \textcolor{comment}{/* CreateDilatedRaster */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Eroded\+Image@{Create\+Eroded\+Image}}
\index{Create\+Eroded\+Image@{Create\+Eroded\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Eroded\+Image(\+Mask\+Types mask) const }{CreateErodedImage(MaskTypes mask) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Eroded\+Image (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a026621d5d9e30567daa0062c57a05d54}{}\label{class_k_k_b_1_1_raster_a026621d5d9e30567daa0062c57a05d54}


Definition at line 2906 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), background\+Pixel\+Value, foreground\+Pixel\+Count, Green(), green, height, and width.



Referenced by Derive\+Image\+Length().


\begin{DoxyCode}
2907 \{
2908   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2909   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2910 
2911   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}   erodedRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
2912 
2913   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*      srcRow    = NULL;
2914   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**     destGreen = erodedRaster->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
2915   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*      destRow   = NULL;
2916 
2917   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  erodedForegroundPixelCount = \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount};
2918 
2919   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
2920   \{
2921     destRow = destGreen[r];
2922     srcRow  = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r];
2923 
2924     \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
2925     \{
2926       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (srcRow[c]))
2927       \{
2928         \textcolor{keywordflow}{if}  (!Fit (mask, r, c))
2929         \{
2930           destRow[c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
2931           erodedForegroundPixelCount--;
2932         \}
2933       \}
2934     \}  \textcolor{comment}{/* for (c) */}
2935   \}  \textcolor{comment}{/* for (r) */}
2936 
2937   erodedRaster->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = erodedForegroundPixelCount;
2938 
2939   \textcolor{keywordflow}{return}  erodedRaster;
2940 \}  \textcolor{comment}{/* Erosion  */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only@{Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only}}
\index{Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only@{Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(\+Raster\+Ptr orig\+Image, Blob\+List\+Ptr blobs)}{CreateFromOrginalImageWithSpecifidBlobsOnly(RasterPtr origImage, BlobListPtr blobs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{orig\+Image, }
\item[{{\bf Blob\+List\+Ptr}}]{blobs}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a65c37759a81d05fe07ec1f3ec38ea30f}{}\label{class_k_k_b_1_1_raster_a65c37759a81d05fe07ec1f3ec38ea30f}


Returns a copy of \textquotesingle{}orig\+Image\textquotesingle{} where only the blobs specified in \textquotesingle{}blobs\textquotesingle{} are copied over. 


\begin{DoxyCode}
Example:
    origImage = image that we want to segment and \textcolor{keyword}{get} list of discrete blobs from.
    \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{RasterPtr}  segmentedImage = origImage->\hyperlink{class_k_k_b_1_1_raster_a5e55331b6ea8e6517a3c17819db74c25}{SegmentImage} ();
    \hyperlink{namespace_k_k_b_a43f0fcfaef97a91bc290134c9a407d4d}{BlobListPtr}  blobs = segmentedImage->ExtractBlobs (1);
    \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{RasterPtr}  imageWithBlobOnly = segmentedImage->
      \hyperlink{class_k_k_b_1_1_raster_a65c37759a81d05fe07ec1f3ec38ea30f}{CreateFromOrginalImageWithSpecifidBlobsOnly} (blobs);
\end{DoxyCode}
 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em orig\+Image} & Image that this instance was derived for, must have same dimensions. \\
\hline
\mbox{\tt in}  & {\em blobs} & List of blob\textquotesingle{}s that you want copied into new \hyperlink{class_k_k_b_1_1_raster}{Raster} instance that is created.. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Image consisting of specified blobs only. 
\end{DoxyReturn}


Definition at line 3382 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blob\+Ids, Get\+Pixel\+Value(), height, K\+K\+B\+::\+Blob\+::\+Id(), Set\+Pixel\+Value(), and width.


\begin{DoxyCode}
3385 \{
3386   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  resultImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
3387   \textcolor{keywordflow}{if}  (blobs == NULL)
3388     \textcolor{keywordflow}{return} resultImage;
3389 
3390   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} == NULL)
3391     \textcolor{keywordflow}{return} resultImage;
3392 
3393   BlobList::iterator  idx;
3394   \textcolor{keywordflow}{for}  (idx = blobs->begin ();  idx != blobs->end ();  ++idx)
3395   \{
3396     \hyperlink{class_k_k_b_1_1_blob}{BlobPtr}  blob = idx->second;
3397     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobId = blob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3398     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0, col = 0;
3399 
3400     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowStart = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_ab6735f537773b0a21f2e37c8793f8868}{RowTop}   (), \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
3401     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowEnd   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a6ffc22c0be20c597d49b0f5aa7aad008}{RowBot}   (), \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
3402     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colStart = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a42dc8a4c5009bcc67cbc39848169559a}{ColLeft}  (), \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);
3403     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colEnd   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a9ae87430e9269e0fbfcd88a2d5891b88}{ColRight} (), \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);
3404 
3405     \hyperlink{class_k_k_b_1_1_pixel_value}{PixelValue}  pixelValue;
3406 
3407     \textcolor{keywordflow}{for}  (row = rowStart;  row <= rowEnd;  ++row)
3408     \{
3409       \textcolor{keywordflow}{for}  (col = colStart;  col <= colEnd;  ++col)
3410       \{
3411         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blobId)
3412         \{
3413           origImage->\hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (row, col, pixelValue);
3414           resultImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, pixelValue);
3415         \}
3416       \}
3417     \}
3418   \}
3419 
3420   \textcolor{keywordflow}{return}  resultImage;
3421 \}  \textcolor{comment}{/* CreateFromOrginalImageWithSpecifidBlobsOnly*/}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Gaussian\+Smoothed\+Image@{Create\+Gaussian\+Smoothed\+Image}}
\index{Create\+Gaussian\+Smoothed\+Image@{Create\+Gaussian\+Smoothed\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Gaussian\+Smoothed\+Image(float sigma) const }{CreateGaussianSmoothedImage(float sigma) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Gaussian\+Smoothed\+Image (
\begin{DoxyParamCaption}
\item[{float}]{sigma}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_af1178db42e2bd30a47b9ee3e0199d356}{}\label{class_k_k_b_1_1_raster_af1178db42e2bd30a47b9ee3e0199d356}


Definition at line 9433 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blue, Build\+Gaussian2d\+Kernel(), color, green, and red.


\begin{DoxyCode}
9434 \{
9435   \hyperlink{class_k_k_b_1_1_matrix}{MatrixPtr}  kernel = \hyperlink{class_k_k_b_1_1_raster_ac01c3f7be62b86764ddd044ef7af0b5a}{BuildGaussian2dKernel} (sigma);
9436 
9437   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
9438 
9439   SmoothUsingKernel (*kernel, this->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}, result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green});
9440   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
9441   \{
9442     SmoothUsingKernel (*kernel, \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red},  result->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red});
9443     SmoothUsingKernel (*kernel, \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}, result->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue});
9444   \}
9445 
9446   \textcolor{keyword}{delete}  kernel;
9447   kernel = NULL;
9448 
9449   \textcolor{keywordflow}{return}  result;
9450 \}  \textcolor{comment}{/* CreateGaussianSmoothedImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Gray\+Scale@{Create\+Gray\+Scale}}
\index{Create\+Gray\+Scale@{Create\+Gray\+Scale}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Gray\+Scale() const }{CreateGrayScale() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Gray\+Scale (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ab2a2f8d11f4d51cbc5418069a7b58299}{}\label{class_k_k_b_1_1_raster_ab2a2f8d11f4d51cbc5418069a7b58299}


Definition at line 6060 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blue\+Area, color, Green\+Area(), green\+Area, height, red\+Area, tot\+Pixels, and width.



Referenced by Histogram\+Grayscale\+Image(), K\+K\+B\+::\+Save\+Image\+P\+G\+M(), and Segment\+Image().


\begin{DoxyCode}
6061 \{
6062   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6063   \{
6064     \textcolor{comment}{// Already a gray-scale image,  Just return copy of self.}
6065     \textcolor{keywordflow}{return}  (\hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this}));
6066   \}
6067 
6068   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  h = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
6069   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  w = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
6070 
6071   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  grayRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (h, w, \textcolor{keyword}{false});
6072   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* grayPtr  = grayRaster->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
6073   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* redPtr   = \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea};
6074   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* greenPtr = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
6075   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* bluePtr  = \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea};
6076 
6077   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x, ++grayPtr, ++redPtr, ++greenPtr, ++bluePtr)
6078   \{
6079     *grayPtr = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})((\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})((0.30f) * (\textcolor{keywordtype}{float})(*redPtr)    +  
6080                               (0.59f) * (\textcolor{keywordtype}{float})(*greenPtr)  +  
6081                               (0.11f) * (\textcolor{keywordtype}{float})(*bluePtr)
6082                              )
6083                       );
6084   \}
6085   \textcolor{keywordflow}{return}  grayRaster;
6086 \}  \textcolor{comment}{/* CreateGrayScale */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Gray\+Scale\+K\+LT@{Create\+Gray\+Scale\+K\+LT}}
\index{Create\+Gray\+Scale\+K\+LT@{Create\+Gray\+Scale\+K\+LT}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Gray\+Scale\+K\+L\+T() const }{CreateGrayScaleKLT() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Gray\+Scale\+K\+LT (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_afc5e92625a20de51791bd369340d9fa2}{}\label{class_k_k_b_1_1_raster_afc5e92625a20de51791bd369340d9fa2}


Creates a image using a K\+LT Transform with the goal of weighting in favor the color channels with greatest amount of variance. 

The idea is to weight each color channel by the amount of variance. This is accomplished by producing a covariance matrix of the three color channels and then taking the Eigen-\/\+Vector with the largest eigen value and using its components to derive weights for each channel for the conversion from R\+GB to grayscale. 

Definition at line 9503 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blue\+Area, color, K\+K\+B\+::\+Matrix\+::\+Eigen\+Vectors(), K\+K\+B\+::\+Matrix\+::\+Get\+Col(), Green\+Area(), green\+Area, Height(), K\+K\+B\+::\+Matrix\+::\+Matrix(), K\+K\+B\+::\+Matrix\+::operator\mbox{[}$\,$\mbox{]}(), K\+K\+B\+::\+Row\+::operator\mbox{[}$\,$\mbox{]}(), red\+Area, tot\+Pixels, and Width().



Referenced by K\+K\+B\+::\+Morph\+Op\+Sobel\+::\+Perform\+Operation(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), and K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image().


\begin{DoxyCode}
9504 \{
9505   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
9506   \{
9507     \textcolor{comment}{// Already a Gray-scale image,  nothing much to do.}
9508     \textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
9509   \}
9510 
9511   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  x = 0;
9512 
9513   \hyperlink{class_k_k_b_1_1_matrix}{MatrixPtr}  cov = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_matrix}{Matrix} (3, 3);
9514   \{
9515     \textcolor{comment}{// Build a covariance matrix.}
9516     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0, row = 0;
9517 
9518     \textcolor{keywordtype}{double}*   totals       = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[3];
9519     \textcolor{keywordtype}{double}*   means        = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[3];
9520     \textcolor{keywordtype}{double}**  centeredVals = \textcolor{keyword}{new} \textcolor{keywordtype}{double}*[3];
9521     \textcolor{keywordflow}{for}  (col = 0;  col < 3;  ++col)
9522     \{
9523       totals[col] = 0.0;
9524       means [col] = 0.0;
9525       centeredVals[col] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
9526     \}
9527 
9528     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++row)
9529     \{
9530       totals[0] += (double)\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   [row];
9531       totals[1] += (double)\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [row];
9532       totals[2] += (double)\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  [row];
9533     \}
9534 
9535     \textcolor{keywordflow}{for}  (col = 0;  col < 3;  ++col)
9536       means[col] = totals[col] / (\textcolor{keywordtype}{double})\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};
9537 
9538     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++row)
9539     \{
9540       centeredVals[0][row] = (double)\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   [row] - means[0];
9541       centeredVals[1][row] = (double)\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [row] - means[1];
9542       centeredVals[2][row] = (double)\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  [row] - means[2];
9543     \}
9544  
9545     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} varIdxX = 0;  varIdxX < 3;  ++varIdxX)
9546     \{
9547       \textcolor{keywordtype}{double}*  varXs = centeredVals[varIdxX];
9548       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} varIdxY = varIdxX;  varIdxY < 3;  ++varIdxY)
9549       \{
9550         \textcolor{comment}{// Calculate the covariance between chanIdx0 and chanIdx1}
9551 
9552         \textcolor{keywordtype}{double}*  varYs = centeredVals[varIdxY];
9553         \textcolor{keywordtype}{double} total = 0.0f;
9554         \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++row)
9555           total += varXs[row] * varYs[row];
9556         (*cov)[varIdxX][varIdxY] = total / (double)(totPixels - 1);
9557         (*cov)[varIdxY][varIdxX]  = (*cov)[varIdxX][varIdxY];
9558       \}
9559     \}
9560 
9561     \textcolor{keywordflow}{for}  (col = 0;  col < 3;  col++)
9562     \{
9563       \textcolor{keyword}{delete}[]  centeredVals[col];
9564       centeredVals[col] = NULL;
9565     \}
9566     \textcolor{keyword}{delete}[]  centeredVals;   centeredVals = NULL;
9567     \textcolor{keyword}{delete}[]  means;          means  = NULL;
9568     \textcolor{keyword}{delete}[]  totals;         totals = NULL;
9569   \}
9570  
9571   \hyperlink{class_k_k_b_1_1_matrix}{MatrixPtr}      eigenVectors = NULL;
9572   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}*  eigenValues  = NULL;
9573 
9574   cov->\hyperlink{class_k_k_b_1_1_matrix_a1d9e7525cebca179d2cefa3c68beb523}{EigenVectors} (eigenVectors, eigenValues);
9575   \textcolor{keywordflow}{if}  (!eigenVectors)
9576   \{
9577     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} 
9578       << \textcolor{stringliteral}{"Raster::CreateGrayScaleKLT  ***ERROR***   Could not derive Eigen Vectors of covariance matrix."} <
      < \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9579       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9580     \textcolor{keyword}{delete}  cov;
9581     cov = NULL;
9582     \textcolor{keywordflow}{return} NULL;
9583   \}
9584 
9585   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} eigenValueMaxIdx = 0;
9586   \textcolor{keywordtype}{double}  eigenValueMax    = (*eigenValues)[0];
9587   \textcolor{keywordflow}{for}  (x = 1;  x < eigenValues->size ();  ++x)
9588   \{
9589     \textcolor{keywordflow}{if}  ((*eigenValues)[x] > eigenValueMax)
9590     \{
9591       eigenValueMaxIdx = x;
9592       eigenValueMax = (*eigenValues)[x];
9593     \}
9594   \}
9595 
9596   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}  eigenVector = eigenVectors->\hyperlink{class_k_k_b_1_1_matrix_aa0e75f188938ed8b108999e432704c6f}{GetCol} (eigenValueMaxIdx);
9597   \textcolor{comment}{// We are now going to do Matrix multiplication between the original image and the eigenVector}
9598   \textcolor{comment}{// but since the eigen vector may have negative values the resultant numbers can be negative for}
9599   \textcolor{comment}{// some pixels and a magnitude greater than 255.  We will place temporarily into a floating }
9600   \textcolor{comment}{// array,  after which we will use the adjustment value and scaling factor.}
9601   \textcolor{keywordtype}{double}  redFact   = eigenVector[0];
9602   \textcolor{keywordtype}{double}  greenFact = eigenVector[1];
9603   \textcolor{keywordtype}{double}  blueFact  = eigenVector[2];
9604   \textcolor{keywordtype}{double}  adjVal    = 0.0;
9605 
9606   \textcolor{keywordtype}{double}  valMin = DBL\_MAX;
9607   \textcolor{keywordtype}{double}  valMax = DBL\_MIN;
9608   \textcolor{keywordtype}{double}*  adjChannel = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
9609   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} y = 0;  y < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++y)
9610   \{
9611     adjVal = (double)\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}  [y] * redFact    +
9612              (\textcolor{keywordtype}{double})\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[y] * greenFact  +
9613              (double)\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea} [y] * blueFact;
9614     \textcolor{keywordflow}{if}  (adjVal < valMin)  valMin = adjVal;
9615     \textcolor{keywordflow}{if}  (adjVal > valMax)  valMax = adjVal;
9616     adjChannel[y] = adjVal;
9617   \}
9618 
9619   \textcolor{keywordflow}{if}  (valMax <= valMin)  valMax = valMin + 1.0;   \textcolor{comment}{// This would only happen if the whole image had the
       same GrayScale value.}
9620 
9621   \textcolor{comment}{//double  adjScaleFact = 256.0 / (1 + valMax - valMin);}
9622   \textcolor{keywordtype}{double}  adjScaleFact = 255.0 / (valMax - valMin);
9623 
9624   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} (), \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} (), \textcolor{keyword}{false});
9625   \{
9626     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultArea = result->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
9627     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} y = 0;  y < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++y)
9628     \{
9629       resultArea[y] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})\hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((adjChannel[y] - valMin) * adjScaleFact + 0.5), 
      (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})255);
9630     \}
9631   \}
9632   \textcolor{keyword}{delete}[]  adjChannel;  adjChannel   = NULL;
9633   \textcolor{keyword}{delete}  cov;           cov          = NULL;
9634   \textcolor{keyword}{delete}  eigenValues;   eigenValues  = NULL;
9635   \textcolor{keyword}{delete}  eigenVectors;  eigenVectors = NULL;
9636 
9637   \textcolor{keywordflow}{return}  result;
9638 \}  \textcolor{comment}{/* CreateGrayScaleKLT */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area@{Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area}}
\index{Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area@{Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(const Raster \&mask) const }{CreateGrayScaleKLTOnMaskedArea(const Raster &mask) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{mask}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a279dc0c8311fd9b4cfaf351ae515bba2}{}\label{class_k_k_b_1_1_raster_a279dc0c8311fd9b4cfaf351ae515bba2}


Same as \textquotesingle{}Create\+K\+LT\textquotesingle{} except it will only take into account pixels specified by the \textquotesingle{}mask\textquotesingle{} image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mask} & \hyperlink{class_k_k_b_1_1_raster}{Raster} object where pixels that are greater than \textquotesingle{}background\+Pixel\+TH\textquotesingle{} are to be considered. \\
\hline
\end{DoxyParams}


Definition at line 9643 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), background\+Pixel\+TH, blue\+Area, color, K\+K\+B\+::\+Matrix\+::\+Eigen\+Vectors(), K\+K\+B\+::\+Matrix\+::\+Get\+Col(), Green\+Area(), green\+Area, Height(), height, K\+K\+B\+::\+Matrix\+::\+Matrix(), K\+K\+B\+::\+Matrix\+::operator\mbox{[}$\,$\mbox{]}(), K\+K\+B\+::\+Row\+::operator\mbox{[}$\,$\mbox{]}(), red\+Area, Total\+Background\+Pixels(), tot\+Pixels, Width(), and width.



Referenced by K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image().


\begin{DoxyCode}
9644 \{
9645   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
9646   \{
9647     \textcolor{comment}{// Already a Gray-scale image,  nothing much to do.}
9648     \textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
9649   \}
9650 
9651   \textcolor{keywordflow}{if}  ((mask.\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||  (mask.\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
9652   \{
9653     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9654       << \textcolor{stringliteral}{"Raster::CreateGrayScaleKLTOnMaskedArea   ***ERROR***   Mask image dimensions must match !!!!"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9655       << \textcolor{stringliteral}{"                    Our["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{","} << \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]  Mask["} << mask.
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{","} << mask.\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9656       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9657     \textcolor{keywordflow}{return} NULL;
9658   \}
9659 
9660   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  maskArea = mask.\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
9661   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}   maskTh   = mask.\hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH};
9662 
9663   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totalMaskPixels = mask.\hyperlink{class_k_k_b_1_1_raster_ac227e0f97820f74b2518b10852fd2d13}{TotalBackgroundPixels} ();
9664 
9665   \hyperlink{class_k_k_b_1_1_matrix}{MatrixPtr}  cov = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_matrix}{Matrix} (3, 3);
9666   \{
9667     \textcolor{comment}{// Build a covariance matrix.}
9668     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0, row = 0;
9669 
9670     \textcolor{keywordtype}{double}*   totals       = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[3];
9671     \textcolor{keywordtype}{double}*   means        = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[3];
9672     \textcolor{keywordtype}{double}**  centeredVals = \textcolor{keyword}{new} \textcolor{keywordtype}{double}*[3];
9673     \textcolor{keywordflow}{for}  (col = 0;  col < 3;  ++col)
9674     \{
9675       totals[col] = 0.0;
9676       means [col] = 0.0;
9677       centeredVals[col] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
9678     \}
9679 
9680     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++row)
9681     \{
9682       \textcolor{keywordflow}{if}  (maskArea[row] > maskTh)
9683       \{
9684         totals[0] += (double)\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   [row];
9685         totals[1] += (double)\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [row];
9686         totals[2] += (double)\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  [row];
9687       \}
9688     \}
9689 
9690     \textcolor{keywordflow}{for}  (col = 0;  col < 3;  ++col)
9691       means[col] = totals[col] / (\textcolor{keywordtype}{double})totalMaskPixels;
9692 
9693     \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++row)
9694     \{
9695       \textcolor{keywordflow}{if}  (maskArea[row] > maskTh)
9696       \{
9697         centeredVals[0][row] = (double)\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   [row] - means[0];
9698         centeredVals[1][row] = (double)\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} [row] - means[1];
9699         centeredVals[2][row] = (double)\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  [row] - means[2];
9700       \}
9701     \}
9702  
9703     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} varIdxX = 0;  varIdxX < 3;  ++varIdxX)
9704     \{
9705       \textcolor{keywordtype}{double}*  varXs = centeredVals[varIdxX];
9706       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} varIdxY = varIdxX;  varIdxY < 3;  ++varIdxY)
9707       \{
9708         \textcolor{comment}{// Calculate the covariance between chanIdx0 and chanIdx1}
9709 
9710         \textcolor{keywordtype}{double}*  varYs = centeredVals[varIdxY];
9711         \textcolor{keywordtype}{double} total = 0.0f;
9712         \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++row)
9713         \{
9714           \textcolor{keywordflow}{if}  (maskArea[row] > maskTh)
9715             total += varXs[row] * varYs[row];
9716         \}
9717         (*cov)[varIdxX][varIdxY] = total / (double)(totalMaskPixels - 1);
9718         (*cov)[varIdxY][varIdxX]  = (*cov)[varIdxX][varIdxY];
9719       \}
9720     \}
9721 
9722     \textcolor{keywordflow}{for}  (col = 0;  col < 3;  col++)
9723     \{
9724       \textcolor{keyword}{delete}  centeredVals[col];
9725       centeredVals[col] = NULL;
9726     \}
9727     \textcolor{keyword}{delete}[]  centeredVals;   centeredVals = NULL;
9728     \textcolor{keyword}{delete}[]  means;          means  = NULL;
9729     \textcolor{keyword}{delete}[]  totals;         totals = NULL;
9730   \}
9731  
9732   \hyperlink{class_k_k_b_1_1_matrix}{MatrixPtr}      eigenVectors = NULL;
9733   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}*  eigenValues  = NULL;
9734 
9735   cov->\hyperlink{class_k_k_b_1_1_matrix_a1d9e7525cebca179d2cefa3c68beb523}{EigenVectors} (eigenVectors, eigenValues);
9736   \textcolor{keywordflow}{if}  (!eigenVectors)
9737   \{
9738     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} 
9739       << \textcolor{stringliteral}{"Raster::CreateGrayScaleKLT  ***ERROR***   Could not derive Eigen Vectors of covariance matrix."} <
      < \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9740       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9741     \textcolor{keyword}{delete}  cov;
9742     cov = NULL;
9743     \textcolor{keywordflow}{return} NULL;
9744   \}
9745 
9746   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} eigenValueMaxIdx = 0;
9747   \textcolor{keywordtype}{double}  eigenValueMax    = (*eigenValues)[0];
9748   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} y = 1;  y < eigenValues->size ();  ++y)
9749   \{
9750     \textcolor{keywordflow}{if}  ((*eigenValues)[y] > eigenValueMax)
9751     \{
9752       eigenValueMaxIdx = y;
9753       eigenValueMax = (*eigenValues)[y];
9754     \}
9755   \}
9756 
9757   \hyperlink{namespace_k_k_b_a5906c207479607e5f450434095914a41}{VectorDouble}  eigenVector = eigenVectors->\hyperlink{class_k_k_b_1_1_matrix_aa0e75f188938ed8b108999e432704c6f}{GetCol} (eigenValueMaxIdx);
9758   \textcolor{comment}{// We are now going to do Matrix multiplication between the original image and the eigenVector}
9759   \textcolor{comment}{// but since the eigen vector may have negative values the resultant numbers can be negative for}
9760   \textcolor{comment}{// some pixels and a magnitude greater than 255.  We will place temporarily into a floating }
9761   \textcolor{comment}{// array,  after which we will no the adjustment value and scaling factor.}
9762 
9763   \textcolor{keywordtype}{double}  redFact   = eigenVector[0];
9764   \textcolor{keywordtype}{double}  greenFact = eigenVector[1];
9765   \textcolor{keywordtype}{double}  blueFact  = eigenVector[2];
9766   \textcolor{keywordtype}{double}  adjVal    = 0.0;
9767 
9768   \textcolor{keywordtype}{double}  valMin = DBL\_MAX;
9769   \textcolor{keywordtype}{double}  valMax = -9999999999.99;
9770   \textcolor{keywordtype}{double}*  adjChannel = \textcolor{keyword}{new} \textcolor{keywordtype}{double} [\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
9771   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} y = 0;  y < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++y)
9772   \{
9773     \textcolor{keywordflow}{if}  (maskArea[y] > maskTh)
9774     \{
9775       adjVal = (double)\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}  [y] * redFact    +
9776                (\textcolor{keywordtype}{double})\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[y] * greenFact  +
9777                (double)\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea} [y] * blueFact;
9778       \textcolor{keywordflow}{if}  (adjVal < valMin)  valMin = adjVal;
9779       \textcolor{keywordflow}{if}  (adjVal > valMax)  valMax = adjVal;
9780       adjChannel[y] = adjVal;
9781     \}
9782     \textcolor{keywordflow}{else}
9783     \{
9784       adjChannel[y] = 0.0;
9785     \}
9786   \}
9787 
9788   \textcolor{keywordflow}{if}  (valMax <= valMin)  valMax = valMin + 1.0;   \textcolor{comment}{// This would only happen if the whole image had the
       same GrayScale value.}
9789 
9790   \textcolor{comment}{//double  adjScaleFact = 256.0 / (1 + valMax - valMin);}
9791   \textcolor{keywordtype}{double}  adjScaleFact = 255.0 / (valMax - valMin);
9792 
9793   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} (), \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} (), \textcolor{keyword}{false});
9794   \{
9795     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultArea = result->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
9796     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} y = 0;  y < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++y)
9797     \{
9798       \textcolor{keywordflow}{if}  (maskArea[y] > maskTh)
9799         resultArea[y] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})\hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((adjChannel[y] - valMin) * adjScaleFact + 0.5)
      , (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})255);
9800       \textcolor{keywordflow}{else}
9801         resultArea[y] = 0;
9802     \}
9803   \}
9804   \textcolor{keyword}{delete}[] adjChannel;    adjChannel   = NULL;
9805   \textcolor{keyword}{delete}   cov;           cov          = NULL;
9806   \textcolor{keyword}{delete}   eigenValues;   eigenValues  = NULL;
9807   \textcolor{keyword}{delete}   eigenVectors;  eigenVectors = NULL;
9808 
9809   \textcolor{keywordflow}{return}  result;
9810 \}  \textcolor{comment}{/* CreateGrayScaleKLTOnMaskedArea */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Padded\+Raster@{Create\+Padded\+Raster}}
\index{Create\+Padded\+Raster@{Create\+Padded\+Raster}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Padded\+Raster(\+Bmp\+Image \&image, kkint32 padding)}{CreatePaddedRaster(BmpImage &image, kkint32 padding)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Padded\+Raster (
\begin{DoxyParamCaption}
\item[{{\bf Bmp\+Image} \&}]{image, }
\item[{{\bf kkint32}}]{padding}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_k_k_b_1_1_raster_a80828292a321ed5e829d400b16dd400d}{}\label{class_k_k_b_1_1_raster_a80828292a321ed5e829d400b16dd400d}


Definition at line 1131 of file Raster.\+cpp.



References foreground\+Pixel\+Count, green, K\+K\+B\+::\+Bmp\+Image\+::\+Height(), K\+K\+B\+::\+Bmp\+Image\+::\+Image\+Row(), Raster(), and K\+K\+B\+::\+Bmp\+Image\+::\+Width().


\begin{DoxyCode}
1134 \{
1135   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  oldWidth  = image.\hyperlink{class_k_k_b_1_1_bmp_image_a843e1821a1191100b03da9258e77e356}{Width}  ();
1136   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  oldHeight = image.\hyperlink{class_k_k_b_1_1_bmp_image_ae9a8a8f35af1c7d4b2fabbea4b92cc23}{Height} ();
1137 
1138   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newWidth  = oldWidth  + 2 * padding;
1139   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newHeight = oldHeight + 2 * padding;
1140 
1141   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  paddedRaster = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (newHeight, newWidth, \textcolor{keyword}{false});
1142 
1143   \textcolor{comment}{//const uchar**  oldRows = image.Image ();}
1144 
1145   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newRows = paddedRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1146 
1147   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newRow = padding;
1148   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
1149   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
1150 
1151   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  paddedForgroudPixelCount = 0;
1152 
1153   \textcolor{keywordflow}{for}  (row = 0;  row < oldHeight;  row++)
1154   \{
1155     \textcolor{keyword}{const} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* oldRow = image.\hyperlink{class_k_k_b_1_1_bmp_image_ab0d6fac104e1b68ac72e4c7b57dc5ead}{ImageRow} (row);
1156     
1157     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newCol = padding;
1158     \textcolor{keywordflow}{for}  (col = 0; col < oldWidth;  col++)
1159     \{
1160       \textcolor{keywordflow}{if}  (oldRow[col] > 0)
1161          paddedForgroudPixelCount++;
1162 
1163       newRows[newRow][newCol] = oldRow[col];
1164       newCol++;
1165     \}
1166 
1167     newRow++;
1168   \}
1169 
1170   paddedRaster->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = paddedForgroudPixelCount;
1171 
1172   \textcolor{keywordflow}{return}  paddedRaster; 
1173 \}  \textcolor{comment}{/* CreatePaddedRaster */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Smoothed\+Medium\+Image@{Create\+Smoothed\+Medium\+Image}}
\index{Create\+Smoothed\+Medium\+Image@{Create\+Smoothed\+Medium\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Smoothed\+Medium\+Image(kkint32 mask\+Size) const }{CreateSmoothedMediumImage(kkint32 maskSize) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Smoothed\+Medium\+Image (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{mask\+Size}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a89598f745fffeb6d89c8e01446ff72a3}{}\label{class_k_k_b_1_1_raster_a89598f745fffeb6d89c8e01446ff72a3}


Definition at line 7229 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Blue(), color, Green(), green, height, Red(), and width.


\begin{DoxyCode}
7230 \{
7231   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
7232   \textcolor{keywordflow}{if}  (maskSize < 2)
7233     \textcolor{keywordflow}{return} result;
7234 
7235   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destR = result->\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}   ();
7236   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destG = result->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
7237   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destB = result->\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue}  ();
7238 
7239   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maxCandidates = maskSize * maskSize;
7240   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  candidatesRed   = NULL;
7241   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  candidatesGreen = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[maxCandidates];
7242   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  candidatesBlue  = NULL;
7243   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7244   \{
7245     candidatesRed  = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[maxCandidates];
7246     candidatesBlue = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[maxCandidates];
7247   \}
7248 
7249   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numCandidates = 0;
7250   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  middleCandidate = 0;
7251 
7252   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
7253 
7254   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  firstMaskRow, firstMaskCol;
7255   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastMaskRow,  lastMaskCol;
7256 
7257   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRow,  maskCol;
7258 
7259   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskOffset = maskSize / 2;
7260 
7261   \textcolor{comment}{//uchar*  srcRow = NULL;}
7262   
7263   \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  row++)
7264   \{
7265     firstMaskRow = row - maskOffset;
7266     lastMaskRow  = firstMaskRow + maskSize - 1;
7267 
7268     firstMaskRow = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0, firstMaskRow);
7269     lastMaskRow  = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (lastMaskRow, (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(height - 1));
7270     
7271     \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  col++)
7272     \{
7273       firstMaskCol = col - maskOffset;
7274       lastMaskCol = firstMaskCol + maskSize - 1;
7275       firstMaskCol = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (firstMaskCol, (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0);
7276       lastMaskCol  = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (lastMaskCol,  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(width - 1));
7277 
7278       \textcolor{comment}{//if  (ForegroundPixel (row, col))}
7279       \textcolor{comment}{//\{}
7280         numCandidates = 0;
7281 
7282         \textcolor{keywordflow}{for}  (maskRow = firstMaskRow;  maskRow <= lastMaskRow;  maskRow++)
7283         \{
7284           \textcolor{keywordflow}{for}  (maskCol = firstMaskCol;  maskCol <= lastMaskCol;  maskCol++)
7285           \{
7286             \textcolor{comment}{//if  (ForegroundPixel (maskRow, maskCol))}
7287             \textcolor{comment}{//\{}
7288               candidatesGreen[numCandidates] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[maskRow][maskCol];
7289               \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7290               \{
7291                 candidatesRed[numCandidates]  = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[maskRow][maskCol];
7292                 candidatesBlue[numCandidates] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[maskRow][maskCol];
7293               \}
7294               numCandidates++;
7295             \textcolor{comment}{//\}}
7296           \}
7297         \}
7298 
7299         middleCandidate = numCandidates / 2;
7300         \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  medium = \hyperlink{_raster_8cpp_a87f66b9005f9f4224fa1c553fe5f122f}{FindKthValue} (candidatesGreen, numCandidates, middleCandidate);
7301         destG[row][col] = medium;
7302 
7303         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7304         \{
7305           medium = \hyperlink{_raster_8cpp_a87f66b9005f9f4224fa1c553fe5f122f}{FindKthValue} (candidatesRed, numCandidates, middleCandidate);
7306           destR[row][col] = medium;
7307           medium = \hyperlink{_raster_8cpp_a87f66b9005f9f4224fa1c553fe5f122f}{FindKthValue} (candidatesBlue, numCandidates, middleCandidate);
7308           destB[row][col] = medium;
7309         \}
7310         \textcolor{comment}{//\}}
7311     \}
7312   \}
7313 
7314   \textcolor{keyword}{delete}[]  candidatesRed;    candidatesRed   = NULL;
7315   \textcolor{keyword}{delete}[]  candidatesGreen;  candidatesGreen = NULL;
7316   \textcolor{keyword}{delete}[]  candidatesBlue;   candidatesBlue  = NULL;
7317 
7318   \textcolor{keywordflow}{return}  result;
7319 \} \textcolor{comment}{/* CreateSmoothedMediumImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Create\+Smooth\+Image@{Create\+Smooth\+Image}}
\index{Create\+Smooth\+Image@{Create\+Smooth\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Create\+Smooth\+Image(kkint32 mask\+Size=3) const }{CreateSmoothImage(kkint32 maskSize=3) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Create\+Smooth\+Image (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{mask\+Size = {\ttfamily 3}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a7cc2985980e4679bd1ce1283da0bd9a3}{}\label{class_k_k_b_1_1_raster_a7cc2985980e4679bd1ce1283da0bd9a3}


Definition at line 7152 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Blue(), blue, Green(), green, Red(), and red.



Referenced by Segment\+Image().


\begin{DoxyCode}
7153 \{
7154   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
7155   \textcolor{keywordflow}{if}  (maskSize < 2)
7156     \textcolor{keywordflow}{return} result;
7157 
7158   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red})
7159     SmoothImageChannel (\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red},   result->\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}   (), maskSize);
7160 
7161   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green})
7162     SmoothImageChannel (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}, result->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} (), maskSize);
7163 
7164   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue})
7165     SmoothImageChannel (\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue},  result->\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue}  (), maskSize);
7166 
7167   \textcolor{keywordflow}{return}  result;
7168 \} \textcolor{comment}{/* CreateSmoothImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Derive\+Image\+Length@{Derive\+Image\+Length}}
\index{Derive\+Image\+Length@{Derive\+Image\+Length}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Derive\+Image\+Length() const }{DeriveImageLength() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Point\+List\+Ptr} Raster\+::\+Derive\+Image\+Length (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aa062339510c35f16df15b8d803e20b02}{}\label{class_k_k_b_1_1_raster_aa062339510c35f16df15b8d803e20b02}


Definition at line 9922 of file Raster.\+cpp.



References Calc\+Orientation\+And\+Eiger\+Ratio(), Connected\+Component(), Create\+Eroded\+Image(), Erosion(), Fill\+Hole(), Find\+Bounding\+Box(), Green(), height, K\+K\+B\+::\+Point\+::\+Point(), K\+K\+B\+::\+Point\+List\+::\+Point\+List(), Rotate(), Rotate\+Derive\+Pre\+Rotated\+Point(), K\+K\+B\+::\+Morph\+Op\+::\+S\+Q\+U\+A\+R\+E3, K\+K\+B\+::\+Morph\+Op\+::\+S\+Q\+U\+A\+R\+E7, and width.


\begin{DoxyCode}
9923 \{
9924   \hyperlink{class_k_k_b_1_1_point_list}{PointListPtr}  results = NULL;
9925 
9926   \textcolor{keywordtype}{float}  eigenRatio;
9927   \textcolor{keywordtype}{float}  orientationAngle;
9928 
9929   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  workRaster = \hyperlink{class_k_k_b_1_1_raster_a026621d5d9e30567daa0062c57a05d54}{CreateErodedImage}(
      \hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35eba8dc0b7886154fdf311e7035c58aff432}{MorphOp::MaskTypes::SQUARE3});
9930   workRaster->\hyperlink{class_k_k_b_1_1_raster_a617d427bb2b7094a9d012e63036a66d8}{FillHole} ();
9931   workRaster->\hyperlink{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{Erosion}(\hyperlink{class_k_k_b_1_1_morph_op_a9eaa0383bf9e046da208af397e7e35ebad5dad206d5246f258a016929477ff19d}{MorphOp::MaskTypes::SQUARE7});
9932   workRaster->\hyperlink{class_k_k_b_1_1_raster_a3062e4d08b104319c1da0561017eb6f7}{ConnectedComponent} (1);
9933   workRaster->\hyperlink{class_k_k_b_1_1_raster_a29cf40b3b79c549ef3e875348f6fb053}{CalcOrientationAndEigerRatio} (eigenRatio,
9934                                             orientationAngle
9935                                            );
9936   \textcolor{keywordflow}{if}  ((orientationAngle > \hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie})  ||  (orientationAngle < -\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie}))
9937   \{
9938     orientationAngle = 0.0;
9939     eigenRatio = 1.0;
9940   \}
9941  
9942   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} rotatedImage = workRaster->\hyperlink{class_k_k_b_1_1_raster_a7b77d6efde4a3d52b70489180b9afc93}{Rotate} (orientationAngle);
9943   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  tlRow;
9944   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  tlCol;
9945   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  brRow;
9946   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  brCol;
9947 
9948   rotatedImage->\hyperlink{class_k_k_b_1_1_raster_aee22b87a6feeb8a3e4a388400a23f616}{FindBoundingBox} (tlRow, tlCol, brRow, brCol);
9949   \textcolor{keywordflow}{if}  (tlRow >= 0)
9950   \{
9951     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  imageData = rotatedImage->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
9952 
9953     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  boxWidth  = brCol - tlCol;
9954     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  boxHeight = brRow - tlRow;
9955 
9956     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  mark1Col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})boxWidth * 0.05f + 0.5f) + tlCol;
9957     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  mark2Col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})boxWidth * 0.95f + 0.5f) + tlCol;
9958 
9959     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a1RowTot   = 0;
9960     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a1ColTot   = 0;
9961     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a1PixCount = 0l;
9962 
9963     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a2RowTot   = 0;
9964     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a2ColTot   = 0;
9965     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a2PixCount = 0l;
9966 
9967     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a3RowTot   = 0;
9968     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a3ColTot   = 0;
9969     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  a3PixCount = 0;
9970 
9971     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row = tlRow;  row <= brRow;  ++row)
9972     \{
9973       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col = 0;
9974 
9975       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowData = imageData[row];
9976 
9977       \textcolor{keywordflow}{for}  (col = tlCol;  col <= mark1Col;  ++col)
9978       \{
9979         \textcolor{keywordflow}{if}  (rowData[col] > 2)
9980         \{
9981           ++a1PixCount;
9982           a1RowTot += row;
9983           a1ColTot += col;
9984         \}
9985       \}
9986 
9987       \textcolor{keywordflow}{for}  (col = mark1Col + 1;  col <= mark2Col;  ++col)
9988       \{
9989         \textcolor{keywordflow}{if}  (rowData[col] > 2)
9990         \{
9991           ++a2PixCount;
9992           a2RowTot += row;
9993           a2ColTot += col;
9994         \}
9995       \}
9996 
9997       \textcolor{keywordflow}{for}  (col = mark2Col + 1;  col <= brCol;  ++col)
9998       \{
9999         \textcolor{keywordflow}{if}  (rowData[col] > 2)
10000         \{
10001           ++a3PixCount;
10002           a3RowTot += row;
10003           a3ColTot += col;
10004         \}
10005       \}
10006     \}
10007 
10008     a1PixCount = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})1, a1PixCount);
10009     a2PixCount = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})1, a2PixCount);
10010     a3PixCount = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})1, a3PixCount);
10011 
10012     \hyperlink{class_k_k_b_1_1_point}{Point} p1 ((\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})(0.5f + a1RowTot / a1PixCount), (\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})(0.5f + a1ColTot / 
      a1PixCount));
10013     \hyperlink{class_k_k_b_1_1_point}{Point} p2 ((\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})(0.5f + a2RowTot / a2PixCount), (\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})(0.5f + a2ColTot / 
      a2PixCount));
10014     \hyperlink{class_k_k_b_1_1_point}{Point} p3 ((\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})(0.5f + a3RowTot / a3PixCount), (\hyperlink{namespace_k_k_b_a93809780ee294124dda4c23069f41248}{kkint16})(0.5f + a3ColTot / 
      a3PixCount));
10015 
10016    
10017     \hyperlink{class_k_k_b_1_1_point}{Point} p1Orig = \hyperlink{class_k_k_b_1_1_raster_a10227c8d743941ea2e8a961fbad3d471}{RotateDerivePreRotatedPoint} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, p1, orientationAngle);
10018     \hyperlink{class_k_k_b_1_1_point}{Point} p2Orig = \hyperlink{class_k_k_b_1_1_raster_a10227c8d743941ea2e8a961fbad3d471}{RotateDerivePreRotatedPoint} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, p2, orientationAngle);
10019     \hyperlink{class_k_k_b_1_1_point}{Point} p3Orig = \hyperlink{class_k_k_b_1_1_raster_a10227c8d743941ea2e8a961fbad3d471}{RotateDerivePreRotatedPoint} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, p3, orientationAngle);
10020 
10021     results = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_point_list}{PointList} (\textcolor{keyword}{true});
10022     results->\hyperlink{class_k_k_b_1_1_k_k_queue_aa9fba4632b54268bf71ecb42dee0b575}{PushOnBack} (\textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_point}{Point} (p1Orig));
10023     results->\hyperlink{class_k_k_b_1_1_k_k_queue_aa9fba4632b54268bf71ecb42dee0b575}{PushOnBack} (\textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_point}{Point} (p2Orig));
10024     results->\hyperlink{class_k_k_b_1_1_k_k_queue_aa9fba4632b54268bf71ecb42dee0b575}{PushOnBack} (\textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_point}{Point} (p3Orig));
10025   \}
10026 
10027 
10028   \textcolor{keyword}{delete} rotatedImage;  rotatedImage = NULL;
10029   \textcolor{keyword}{delete} workRaster;    workRaster   = NULL;
10030 
10031   \textcolor{keywordflow}{return}  results;
10032 
10033 \}  \textcolor{comment}{/* DeriveImageLength */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Dilation@{Dilation}}
\index{Dilation@{Dilation}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Dilation()}{Dilation()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Dilation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}{}\label{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}


Definition at line 1681 of file Raster.\+cpp.



References Create\+Dilated\+Raster(), foreground\+Pixel\+Count, green, and green\+Area.



Referenced by Closing(), and Opening().


\begin{DoxyCode}
1682 \{
1683   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  tempRaster = \hyperlink{class_k_k_b_1_1_raster_add28bd664fc2962aed6631d157a37aa6}{CreateDilatedRaster} ();
1684 
1685   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1686   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1687 
1688   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1689   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1690  
1691   tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = NULL;
1692   tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = NULL;
1693 
1694   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount};
1695 
1696   \textcolor{keyword}{delete}  tempRaster;
1697 \}  \textcolor{comment}{/* Dilation */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Dilation@{Dilation}}
\index{Dilation@{Dilation}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Dilation(\+Raster\+Ptr dest) const }{Dilation(RasterPtr dest) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Dilation (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{dest}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a0611d08df2ec9c3ba78b6d8f221b407f}{}\label{class_k_k_b_1_1_raster_a0611d08df2ec9c3ba78b6d8f221b407f}


Definition at line 1804 of file Raster.\+cpp.



References background\+Pixel\+TH, Color(), color, foreground\+Pixel\+Count, Green(), Green\+Area(), Height(), height, Re\+Size(), Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
1805 \{
1806   \textcolor{keywordflow}{if}  ((dest->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||  (dest->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})  ||  (dest->\hyperlink{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{Color} ()  != \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}))
1807     dest->\hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{ReSize} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
1808 
1809   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   srcArea  = \hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
1810   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  srcRows  = \hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green}     ();
1811 
1812   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   destArea = dest->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
1813   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destRows = dest->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green}     ();
1814 
1815   memset (destArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
1816   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelCount = 0;
1817 
1818   \textcolor{keywordtype}{int}  c, r;
1819 
1820   \textcolor{comment}{//  Take care of Top and Bottom rows.}
1821   \{
1822     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow0    = srcRows[0];
1823     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow1    = srcRows[1];
1824     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRowBot0 = srcRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1];
1825     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRowBot1 = srcRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 2];
1826 
1827     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRow0 = destRows[0];
1828     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRowBot = destRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1];
1829     \textcolor{keywordflow}{for} (c = 1;  c < (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);  ++c)
1830     \{
1831       \textcolor{keywordflow}{if}  ((srcRow0[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow0[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow0[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1832            (srcRow1[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow1[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow1[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
1833           )
1834       \{
1835         destRow0[c] = 255;
1836         ++pixelCount;
1837       \}
1838 
1839       \textcolor{keywordflow}{if}  ((srcRowBot0[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||                                    
             (srcRowBot0[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1840            (srcRowBot1[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRowBot1[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRowBot1[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
1841           )
1842       \{
1843         destRowBot[c] = 255;
1844         ++pixelCount;
1845       \}
1846     \}
1847   \}
1848 
1849 
1850   \textcolor{comment}{// Take care of left and right columns}
1851   \{
1852     \textcolor{keywordflow}{for}  (r = 1;  r < (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);  ++r)
1853     \{
1854       \textcolor{keywordflow}{if}  ((srcRows[r - 1][0] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRows[r - 1][1] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1855            (srcRows[r    ][0] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRows[r    ][1] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1856            (srcRows[r + 1][0] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRows[r + 1][1] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
1857           )
1858       \{
1859         destRows[r][0] = 255;
1860         ++pixelCount;
1861       \}
1862 
1863 
1864       \textcolor{keywordflow}{if}  ((srcRows[r - 1][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRows[r - 1][
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 2] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1865            (srcRows[r    ][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRows[r    ][
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 2] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1866            (srcRows[r + 1][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRows[r + 1][
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 2] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
1867           )
1868       \{
1869         destRows[r][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] = 255;
1870         ++pixelCount;
1871       \}
1872     \}
1873   \}
1874 
1875 
1876   \textcolor{comment}{// Take care of main Body}
1877   \{
1878     \textcolor{keywordflow}{for}  (r = 1;  r < (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);  ++r)
1879     \{
1880       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow0 = srcRows[r - 1];
1881       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow1 = srcRows[r    ];
1882       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow2 = srcRows[r + 1];
1883 
1884       \textcolor{keywordflow}{for}  (c = 1;  c < (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1);  ++c)
1885       \{
1886         \textcolor{keywordflow}{if}  ((srcRow0[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow0[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow0[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1887              (srcRow1[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow1[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow1[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
1888              (srcRow2[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow2[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||  (srcRow2[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
1889             )
1890         \{
1891           destRows[r][c] = 255;
1892           ++pixelCount;
1893         \}
1894       \}
1895     \}
1896   \}
1897 
1898   dest->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = pixelCount;
1899 \}  \textcolor{comment}{/* Dilation */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Dilation@{Dilation}}
\index{Dilation@{Dilation}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Dilation(\+Mask\+Types mask)}{Dilation(MaskTypes mask)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Dilation (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a7171dd6394e04a8585790231e09737a2}{}\label{class_k_k_b_1_1_raster_a7171dd6394e04a8585790231e09737a2}


Definition at line 1755 of file Raster.\+cpp.



References Create\+Dilated\+Raster(), foreground\+Pixel\+Count, green, and green\+Area.



Referenced by Closing(), Opening(), and K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation().


\begin{DoxyCode}
1756 \{    
1757   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} tempRaster = \hyperlink{class_k_k_b_1_1_raster_add28bd664fc2962aed6631d157a37aa6}{CreateDilatedRaster} (mask);
1758 
1759   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1760   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1761 
1762   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount};
1763 
1764   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1765   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1766 
1767   tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = NULL;
1768   tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = NULL;
1769 
1770   \textcolor{keyword}{delete}  tempRaster;
1771 \} \textcolor{comment}{/* Dilation */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Dilation@{Dilation}}
\index{Dilation@{Dilation}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Dilation(\+Raster\+Ptr dest, Mask\+Types mask) const }{Dilation(RasterPtr dest, MaskTypes mask) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Dilation (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{dest, }
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a9db1b47039b2eeea6dc55d2812ca79db}{}\label{class_k_k_b_1_1_raster_a9db1b47039b2eeea6dc55d2812ca79db}


Definition at line 1905 of file Raster.\+cpp.



References Color(), color, foreground\+Pixel\+Count, Green(), Green\+Area(), Height(), height, Re\+Size(), Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
1909 \{
1910   \textcolor{keywordflow}{if}  ((dest->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||  (dest->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})  ||  (dest->\hyperlink{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{Color} ()  != \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}))
1911     dest->\hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{ReSize} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
1912 
1913   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   destArea = dest->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
1914   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destRows = dest->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green}     ();
1915 
1916   memset (destArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
1917   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelCount = 0;
1918 
1919   \textcolor{keywordtype}{int}  c, r;
1920 
1921 
1922   \textcolor{comment}{// Take care of main Body}
1923   \{
1924     \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
1925     \{
1926       \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
1927       \{
1928         \textcolor{keywordflow}{if}  (IsThereANeighbor (mask, r, c)) 
1929         \{
1930           destRows[r][c] = 255;
1931           ++pixelCount;
1932         \}
1933       \}
1934     \}
1935   \}
1936 
1937   dest->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = pixelCount;
1938 \}  \textcolor{comment}{/* Dilation */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Dilation@{Dilation}}
\index{Dilation@{Dilation}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Dilation(\+Morph\+Op\+::\+Structure\+Type \+\_\+structure, kkuint16 \+\_\+structure\+Size, kkint32 \+\_\+foreground\+Count\+T\+H)}{Dilation(MorphOp::StructureType _structure, kkuint16 _structureSize, kkint32 _foregroundCountTH)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Dilation (
\begin{DoxyParamCaption}
\item[{{\bf Morph\+Op\+::\+Structure\+Type}}]{\+\_\+structure, }
\item[{{\bf kkuint16}}]{\+\_\+structure\+Size, }
\item[{{\bf kkint32}}]{\+\_\+foreground\+Count\+TH}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a85c8038b1c4ba67cc609ecec37fa6e88}{}\label{class_k_k_b_1_1_raster_a85c8038b1c4ba67cc609ecec37fa6e88}


Definition at line 1776 of file Raster.\+cpp.



References K\+K\+B\+::\+Morph\+Op\+Struct\+::\+Foreground\+Count\+T\+H(), Foreground\+Pixel\+Count(), foreground\+Pixel\+Count, green, green\+Area, K\+K\+B\+::\+Morph\+Op\+Dilation\+::\+Morph\+Op\+Dilation(), and K\+K\+B\+::\+Morph\+Op\+Dilation\+::\+Perform\+Operation().


\begin{DoxyCode}
1780 \{
1781   \hyperlink{class_k_k_b_1_1_morph_op_dilation}{MorphOpDilation}  dialator (\_structure, \_structureSize);
1782   dialator.ForegroundCountTH (\_foregroundCountTH);
1783   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} tempRaster = dialator.PerformOperation (\textcolor{keyword}{this});
1784 
1785   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1786   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1787 
1788   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}{ForegroundPixelCount} ();
1789 
1790   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1791   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1792 
1793   tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = NULL;
1794   tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = NULL;
1795 
1796   \textcolor{keyword}{delete}  tempRaster;
1797 \} \textcolor{comment}{/* Dilation */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Divisor@{Divisor}}
\index{Divisor@{Divisor}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Divisor() const }{Divisor() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::\+Divisor (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a6a5e1b533d8455653b32215094b70179}{}\label{class_k_k_b_1_1_raster_a6a5e1b533d8455653b32215094b70179}


Definition at line 312 of file Raster.\+h.



References divisor.


\begin{DoxyCode}
312 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Divisor@{Divisor}}
\index{Divisor@{Divisor}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Divisor(kkint32 \+\_\+divisor)}{Divisor(kkint32 _divisor)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Divisor (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+divisor}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a13531b0af4388acd010ed80e71c12d30}{}\label{class_k_k_b_1_1_raster_a13531b0af4388acd010ed80e71c12d30}


Definition at line 343 of file Raster.\+h.



References divisor.


\begin{DoxyCode}
343 \{\hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}              = \_divisor;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Circle@{Draw\+Circle}}
\index{Draw\+Circle@{Draw\+Circle}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Circle(const Point \&point, kkint32 radius, const Pixel\+Value \&color)}{DrawCircle(const Point &point, kkint32 radius, const PixelValue &color)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Circle (
\begin{DoxyParamCaption}
\item[{const {\bf Point} \&}]{point, }
\item[{{\bf kkint32}}]{radius, }
\item[{const {\bf Pixel\+Value} \&}]{color}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a21fa17339fe0c963d0cf7af374255cd0}{}\label{class_k_k_b_1_1_raster_a21fa17339fe0c963d0cf7af374255cd0}


Draw a circle who\textquotesingle{}s center is at \textquotesingle{}point\textquotesingle{} and radius in pixels is \textquotesingle{}radius\textquotesingle{} using color \textquotesingle{}color\textquotesingle{}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em point} & Location in image where the center of circle is to be located. \\
\hline
\mbox{\tt in}  & {\em radius} & The radius in pixels of the circle that is to be drawn. \\
\hline
\mbox{\tt in}  & {\em color} & The color that is to be used to draw the circle with. \\
\hline
\end{DoxyParams}


Definition at line 7081 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), Draw\+Circle(), and K\+K\+B\+::\+Point\+::\+Row().


\begin{DoxyCode}
7085 \{
7086   \hyperlink{class_k_k_b_1_1_raster_a21fa17339fe0c963d0cf7af374255cd0}{DrawCircle} ((\textcolor{keywordtype}{float})point.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (),
7087               (float)point.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (),
7088               (float)radius,
7089               color
7090              );
7091 \}  \textcolor{comment}{/* DrawCircle */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Circle@{Draw\+Circle}}
\index{Draw\+Circle@{Draw\+Circle}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Circle(float center\+Row, float center\+Col, float radius, const Pixel\+Value \&pixel\+Value)}{DrawCircle(float centerRow, float centerCol, float radius, const PixelValue &pixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Circle (
\begin{DoxyParamCaption}
\item[{float}]{center\+Row, }
\item[{float}]{center\+Col, }
\item[{float}]{radius, }
\item[{const {\bf Pixel\+Value} \&}]{pixel\+Value}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a4c2bf896887fa1bb0413d78ea4f58cbe}{}\label{class_k_k_b_1_1_raster_a4c2bf896887fa1bb0413d78ea4f58cbe}


Definition at line 6991 of file Raster.\+cpp.



References Set\+Pixel\+Value().



Referenced by Draw\+Circle().


\begin{DoxyCode}
6996 \{
6997   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6998   \textcolor{keywordtype}{float}  x, y;
6999 
7000   \textcolor{keywordtype}{float}  start = -(float)ceil  (radius);
7001   \textcolor{keywordtype}{float}  end   = +(float)floor (radius);
7002 
7003   \textcolor{keywordtype}{float}  radiusSquare = radius * radius;
7004 
7005   \textcolor{keywordflow}{for}  (x = start;  x <= end;  x++)
7006   \{
7007     y = (float)sqrt (radiusSquare - (x * x));
7008     col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(x + centerCol + 0.5);
7009     row = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerRow + 0.5 + y);
7010     \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, pixelValue);
7011 
7012     row = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerRow + 0.5 - y);
7013     \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, pixelValue);
7014 
7015 
7016     row = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(x + centerRow + 0.5);
7017     col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerCol + 0.5 + y);
7018     \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, pixelValue);
7019 
7020     col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerCol + 0.5 - y);
7021     \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, pixelValue);
7022 
7023   \}
7024 \}  \textcolor{comment}{/* DrawCircle */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Circle@{Draw\+Circle}}
\index{Draw\+Circle@{Draw\+Circle}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Circle(float center\+Row, float center\+Col, float radius, float start\+Angle, float end\+Angle, const Pixel\+Value \&pixel\+Value)}{DrawCircle(float centerRow, float centerCol, float radius, float startAngle, float endAngle, const PixelValue &pixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Circle (
\begin{DoxyParamCaption}
\item[{float}]{center\+Row, }
\item[{float}]{center\+Col, }
\item[{float}]{radius, }
\item[{float}]{start\+Angle, }
\item[{float}]{end\+Angle, }
\item[{const {\bf Pixel\+Value} \&}]{pixel\+Value}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_af1c00ed51760513b1ec1be5a7418a96d}{}\label{class_k_k_b_1_1_raster_af1c00ed51760513b1ec1be5a7418a96d}

\begin{DoxyParams}{Parameters}
{\em center\+Row} & \hyperlink{class_k_k_b_1_1_row}{Row} that will contain the center of the circle. \\
\hline
{\em center\+Col} & Column that will contain the center of the circle. \\
\hline
{\em radius} & The radius of the circle in pixels. \\
\hline
{\em start\+Angle} & Start and End angles should be given in radians \\
\hline
{\em end\+Angle} & Where the angles are with respect to the compass \\
\hline
{\em pixel\+Value} & Pixel value that is to be assigned to locations in the image that are part of the circle. \\
\hline
\end{DoxyParams}


Definition at line 7030 of file Raster.\+cpp.



References height, Set\+Pixel\+Value(), and width.


\begin{DoxyCode}
7037 \{
7038   \textcolor{keywordtype}{float}  row, col;
7039 
7040   \textcolor{keywordflow}{while}  (startAngle < 0.0f)
7041     startAngle += (float)\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie};
7042 
7043   \textcolor{keywordflow}{while}  (startAngle >= (\textcolor{keywordtype}{float})\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie})
7044     startAngle -= (\textcolor{keywordtype}{float})\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie};
7045 
7046   \textcolor{keywordflow}{while}  (endAngle < startAngle)
7047     endAngle += (float)\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie};
7048   
7049   \textcolor{keywordflow}{while}  ((endAngle - startAngle) >= (float)\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie})
7050     endAngle -= (float)\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie};
7051 
7052   \textcolor{keywordtype}{float}  angle = startAngle;
7053   \textcolor{keywordtype}{float}  angleIncrement = asin (0.5f / radius);
7054 
7055   \textcolor{keywordflow}{while}  (angle <= endAngle)
7056   \{
7057     \textcolor{comment}{// 1st Determine Which Quarter we r in}
7058 
7059     \textcolor{keywordtype}{float}  qtrAngle = angle;
7060     \textcolor{keywordflow}{while}  (qtrAngle > (\textcolor{keywordtype}{float})\hyperlink{_k_k_base_types_8h_a964d907aa0bbca73f950ed1659081d73}{TwoPie})
7061       qtrAngle -= (float)TwoPie;
7062 
7063     row = -(radius * cos (angle));
7064     col =  (radius * sin (angle));
7065 
7066     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  adjRow = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerRow + row + 0.5f);
7067     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  adjCol = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerCol + col + 0.5f);
7068 
7069     \textcolor{keywordflow}{if}  ((adjRow >= 0)  &&  (adjRow < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  &&
7070          (adjCol >= 0)  &&  (adjCol < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
7071       \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerRow + row + 0.5f), (
      \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(centerCol + col + 0.5f), pixelValue);
7072 
7073     angle += angleIncrement;
7074   \}
7075 \}  \textcolor{comment}{/* DrawCircle */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Connected\+Point\+List@{Draw\+Connected\+Point\+List}}
\index{Draw\+Connected\+Point\+List@{Draw\+Connected\+Point\+List}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Connected\+Point\+List(\+Point offset, const Point\+List \&border\+Pixs, const Pixel\+Value \&pixel\+Value, const Pixel\+Value \&line\+Pixel\+Value)}{DrawConnectedPointList(Point offset, const PointList &borderPixs, const PixelValue &pixelValue, const PixelValue &linePixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Connected\+Point\+List (
\begin{DoxyParamCaption}
\item[{{\bf Point}}]{offset, }
\item[{const {\bf Point\+List} \&}]{border\+Pixs, }
\item[{const {\bf Pixel\+Value} \&}]{pixel\+Value, }
\item[{const {\bf Pixel\+Value} \&}]{line\+Pixel\+Value}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a508adfee4d3a801d193390bb53bbe2fa}{}\label{class_k_k_b_1_1_raster_a508adfee4d3a801d193390bb53bbe2fa}


Definition at line 6894 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, blue, K\+K\+B\+::\+Point\+::\+Col(), color, Draw\+Line(), K\+K\+B\+::\+Pixel\+Value\+::g, green, height, K\+K\+B\+::\+Point\+::operator+(), K\+K\+B\+::\+Pixel\+Value\+::r, red, K\+K\+B\+::\+Point\+::\+Row(), and width.


\begin{DoxyCode}
6899 \{
6900   \hyperlink{class_k_k_b_1_1_k_k_queue_aeb057c9c010446f46f57c1e355f981f1}{PointList::const\_iterator}  pIDX;
6901 
6902   \hyperlink{class_k_k_b_1_1_point}{PointPtr}  pixel = NULL;
6903   \hyperlink{class_k_k_b_1_1_point}{PointPtr}  lastPoint = NULL;
6904 
6905   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0, col = 0;
6906 
6907   \textcolor{keywordflow}{for}  (pIDX = borderPixs.begin ();  pIDX != borderPixs.end ();  pIDX++)
6908   \{
6909     pixel = *pIDX;
6910     \textcolor{keywordflow}{if}  (lastPoint)
6911     \{
6912       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaRow = lastPoint->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} () - pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ();
6913       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaCol = lastPoint->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} () - pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ();
6914 
6915       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  distSquared = deltaRow * deltaRow  +  deltaCol * deltaCol;
6916 
6917       \textcolor{keywordflow}{if}  (distSquared > 5)
6918       \{
6919         \textcolor{comment}{// We need to draw a line between the two points.}
6920         \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (*lastPoint + offset, *pixel + offset, linePixelValue);
6921       \}
6922     \}
6923 
6924     \textcolor{keywordflow}{if}  (pixel != NULL)
6925     \{
6926       row = pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} () + offset.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ();
6927       col = pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} () + offset.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ();
6928     \}
6929 
6930     \textcolor{keywordflow}{if}  ((row <  \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  &&  (col <  \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})   &&
6931          (row >= 0)       &&  (col >= 0)    
6932         )
6933     \{
6934       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g};
6935       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6936       \{
6937         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r};
6938         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b};
6939       \}
6940     \}
6941 
6942     lastPoint = pixel;
6943   \}
6944 \}  \textcolor{comment}{/* DrawPointList */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Dot@{Draw\+Dot}}
\index{Draw\+Dot@{Draw\+Dot}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Dot(const Point \&point, const Pixel\+Value \&color, kkint32 size)}{DrawDot(const Point &point, const PixelValue &color, kkint32 size)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Dot (
\begin{DoxyParamCaption}
\item[{const {\bf Point} \&}]{point, }
\item[{const {\bf Pixel\+Value} \&}]{color, }
\item[{{\bf kkint32}}]{size}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_aeaf39a193318e5d9cef06f736fc97f7e}{}\label{class_k_k_b_1_1_raster_aeaf39a193318e5d9cef06f736fc97f7e}


Definition at line 6948 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), K\+K\+B\+::\+Point\+::\+Row(), and Set\+Pixel\+Value().



Referenced by K\+K\+B\+::\+Chart\+::\+Create\+Raster().


\begin{DoxyCode}
6952 \{
6953   \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (point, color);
6954   
6955   \textcolor{keywordtype}{double}  radius = (double)size / 2.0;
6956   \textcolor{keywordtype}{double}  radiusSquared = radius * radius;
6957 
6958   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  left  = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0,           (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})floor ((\textcolor{keywordtype}{double})point.
      \hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} () - radius));
6959   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  right = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1), (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})ceil  ((\textcolor{keywordtype}{double})point.
      \hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} () + radius));
6960 
6961   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bot   = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0,            (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})floor ((\textcolor{keywordtype}{double})point.
      \hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} () - radius));
6962   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  top   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1), (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})ceil  ((\textcolor{keywordtype}{double})point.
      \hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} () + radius));
6963 
6964   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6965 
6966   \textcolor{keywordflow}{for}  (row = bot;  row <= top;  row++)
6967   \{
6968     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaRow = row - point.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ();
6969     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaRowSquared = deltaRow * deltaRow;
6970 
6971     \textcolor{keywordflow}{if}  (deltaRowSquared <= radiusSquared)
6972     \{
6973       \textcolor{keywordflow}{for}  (col = left;  col <= right;  col++)
6974       \{
6975         \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaCol = col - point.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ();
6976         \textcolor{keywordtype}{double}  distFromCenterSquares = deltaRowSquared + deltaCol * deltaCol;
6977 
6978         \textcolor{keywordflow}{if}  (distFromCenterSquares <= radiusSquared)
6979         \{
6980           \textcolor{comment}{// we are within the dot.}
6981           \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, color);
6982         \}
6983       \}
6984     \}
6985   \}
6986 \}  \textcolor{comment}{/* DrawDot */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Fat\+Line@{Draw\+Fat\+Line}}
\index{Draw\+Fat\+Line@{Draw\+Fat\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Fat\+Line(\+Point start\+Point, Point end\+Point, Pixel\+Value pv, float alpha)}{DrawFatLine(Point startPoint, Point endPoint, PixelValue pv, float alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Fat\+Line (
\begin{DoxyParamCaption}
\item[{{\bf Point}}]{start\+Point, }
\item[{{\bf Point}}]{end\+Point, }
\item[{{\bf Pixel\+Value}}]{pv, }
\item[{float}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a3bfd7c65bbcc718997607651d9a2d043}{}\label{class_k_k_b_1_1_raster_a3bfd7c65bbcc718997607651d9a2d043}


Definition at line 6636 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), height, Paint\+Fat\+Point(), K\+K\+B\+::\+Point\+::\+Row(), and width.


\begin{DoxyCode}
6641 \{
6642   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bpRow = startPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ();
6643   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bpCol = startPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ();
6644   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  epRow = endPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row}   ();
6645   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  epCol = endPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col}   ();
6646 
6647   \textcolor{keywordflow}{if}  ((bpRow < 0)  ||  (bpRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
6648        (bpCol < 0)  ||  (bpCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})   ||
6649        (epRow < 0)  ||  (epRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
6650        (epCol < 0)  ||  (epCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
6651       )
6652   \{
6653     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6654          << \textcolor{stringliteral}{"*** WARNING ***"}
6655          << \textcolor{stringliteral}{"Raster::DrawFatLine,  Out of Raster Boundaries   Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6656          << \textcolor{stringliteral}{"                      BeginPoint"} << startPoint << \textcolor{stringliteral}{"   EndPoint"} << endPoint << \textcolor{stringliteral}{"."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6657          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
6658     \textcolor{keywordflow}{return};
6659   \}
6660 
6661   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaY = epRow - bpRow;
6662   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaX = epCol - bpCol;
6663 
6664   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6665 
6666   \textcolor{keywordflow}{if}  (deltaY == 0)
6667   \{
6668     \textcolor{comment}{// We have a Straight Horizontal Line}
6669 
6670     row = bpRow;
6671     
6672     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol;
6673     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endCol;
6674 
6675     \textcolor{keywordflow}{if}  (bpCol < epCol)
6676     \{
6677       startCol = bpCol;
6678       endCol   = epCol;
6679     \}
6680     \textcolor{keywordflow}{else}
6681     \{
6682       startCol = epCol;
6683       endCol   = bpCol;
6684     \}
6685 
6686     \textcolor{keywordflow}{for}  (col = startCol;  col <= endCol;  col++)
6687       \hyperlink{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}{PaintFatPoint} (row, col, pv, alpha);
6688 
6689     \textcolor{keywordflow}{return};
6690   \}
6691 
6692   \textcolor{keywordflow}{if}  (deltaX == 0)
6693   \{
6694     \textcolor{comment}{// We have a Straight Vertical Line}
6695 
6696     col = bpCol;
6697     
6698     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow;
6699     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endRow;
6700 
6701     \textcolor{keywordflow}{if}  (bpRow < epRow)
6702     \{
6703       startRow = bpRow;
6704       endRow   = epRow;
6705     \}
6706     \textcolor{keywordflow}{else}
6707     \{
6708       startRow = epRow;
6709       endRow   = bpRow;
6710     \}
6711 
6712     \textcolor{keywordflow}{for}  (row = startRow;  row <= endRow;  row++)
6713       \hyperlink{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}{PaintFatPoint} (row, col, pv, alpha);
6714 
6715     \textcolor{keywordflow}{return};
6716   \}
6717 
6718   \textcolor{keywordtype}{float}  m = (float)deltaY / (\textcolor{keywordtype}{float})deltaX;
6719 
6720   \textcolor{keywordtype}{float}  c = bpRow - m * bpCol;
6721 
6722   \textcolor{keywordflow}{if}  (fabs (m) < 0.5)
6723   \{
6724     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol;
6725     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endCol;
6726 
6727     \textcolor{keywordflow}{if}  (bpCol < epCol)
6728     \{
6729       startCol = bpCol;
6730       endCol   = epCol;
6731     \}
6732     \textcolor{keywordflow}{else}
6733     \{
6734       startCol = epCol;
6735       endCol   = bpCol;
6736     \}
6737 
6738     \textcolor{keywordflow}{for}  (col = startCol;  col <= endCol;  col++)
6739     \{
6740       row = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(m * col + c + 0.5);
6741       \hyperlink{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}{PaintFatPoint} (row, col, pv, alpha);
6742     \}
6743   \}
6744   \textcolor{keywordflow}{else}
6745   \{
6746     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow;
6747     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endRow;
6748 
6749     \textcolor{keywordflow}{if}  (bpRow < epRow)
6750     \{
6751       startRow = bpRow;
6752       endRow   = epRow;
6753     \}
6754     \textcolor{keywordflow}{else}
6755     \{
6756       startRow = epRow;
6757       endRow   = bpRow;
6758     \}
6759 
6760     \textcolor{keywordflow}{for}  (row = startRow;  row <= endRow;  row++)
6761     \{
6762       col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(((row - c) / m) + 0.5);
6763       \hyperlink{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}{PaintFatPoint} (row, col, pv, alpha);
6764     \}
6765   \}
6766 \}  \textcolor{comment}{/* DrawFatLine */};
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Grid@{Draw\+Grid}}
\index{Draw\+Grid@{Draw\+Grid}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Grid(float pixels\+Per\+Minor, kkuint32 minors\+Per\+Major, const Pixel\+Value \&hash\+Color, const Pixel\+Value \&grid\+Color)}{DrawGrid(float pixelsPerMinor, kkuint32 minorsPerMajor, const PixelValue &hashColor, const PixelValue &gridColor)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Grid (
\begin{DoxyParamCaption}
\item[{float}]{pixels\+Per\+Minor, }
\item[{{\bf kkuint32}}]{minors\+Per\+Major, }
\item[{const {\bf Pixel\+Value} \&}]{hash\+Color, }
\item[{const {\bf Pixel\+Value} \&}]{grid\+Color}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a7a954cb16dc7d0f651ee95bb2483d38c}{}\label{class_k_k_b_1_1_raster_a7a954cb16dc7d0f651ee95bb2483d38c}


Definition at line 1543 of file Raster.\+cpp.



References Draw\+Line(), Fill\+Rectangle(), height, and width.


\begin{DoxyCode}
1548 \{
1549   \textcolor{keywordtype}{int}  x = 0;
1550 
1551   \textcolor{keywordtype}{int}  hashLen = 4;
1552 
1553   \textcolor{comment}{// Horizontal Hash Marks}
1554 
1555   \textcolor{comment}{//kkint32  horzOffset = (width - (kkint32)(((float)width / pixelsPerMinor) * pixelsPerMinor) / 2);}
1556   \textcolor{keywordflow}{while}  (\textcolor{keyword}{true})
1557   \{
1558     \textcolor{keywordtype}{int}  hashPos = (int)((\textcolor{keywordtype}{float})x * pixelsPerMinor + 0.5f); \textcolor{comment}{// + horzOffset;}
1559     \textcolor{keywordflow}{if}  (hashPos >= (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - hashLen))
1560       \textcolor{keywordflow}{break};
1561 
1562     \textcolor{keywordflow}{if}  ((x % minorsPerMajor) == 0)
1563       hashLen = 10;
1564     \textcolor{keywordflow}{else}
1565       hashLen = 6;
1566 
1567     \hyperlink{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}{FillRectangle} (hashPos,     0,               hashPos + 2, hashLen - 1, hashColor);
1568     \hyperlink{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}{FillRectangle} (hashPos,     \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - hashLen, hashPos + 2, 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1,   hashColor);
1569     \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine}      (hashPos + 1, 0,               hashPos + 1, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1,   gridColor, 0.2f);
1570     x++;
1571   \}
1572 
1573   x = 0;
1574 
1575   \textcolor{comment}{// Vertical Hash Marks}
1576   \textcolor{comment}{// kkint32  vertOffset = (height - (kkint32)((height / pixelsPerMinor) * pixelsPerMinor) / 2);}
1577   \textcolor{keywordflow}{while}  (\textcolor{keyword}{true})
1578   \{
1579     \textcolor{keywordtype}{int}  hashPos = (int)((\textcolor{keywordtype}{float})x * pixelsPerMinor + 0.5f); \textcolor{comment}{// + vertOffset;}
1580     \textcolor{keywordflow}{if}  (hashPos >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
1581       \textcolor{keywordflow}{break};
1582 
1583     \textcolor{keywordflow}{if}  ((x % minorsPerMajor) == 0)
1584       hashLen = 8;
1585     \textcolor{keywordflow}{else}
1586       hashLen = 4;
1587 
1588     \hyperlink{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}{FillRectangle} (0,                 hashPos,     hashLen - 1, hashPos + 2, hashColor);
1589     \hyperlink{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}{FillRectangle} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - hashLen,  hashPos,     \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1,  hashPos + 2, 
      hashColor);
1590     \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine}      (0,                 hashPos + 1, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1,  hashPos + 1, gridColor, 0.2f)
      ;
1591 
1592     x++;
1593   \}
1594 \}  \textcolor{comment}{/* DrawGrid */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(kkint32 bp\+Row, kkint32 bp\+Col, kkint32 ep\+Row, kkint32 ep\+Col)}{DrawLine(kkint32 bpRow, kkint32 bpCol, kkint32 epRow, kkint32 epCol)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{bp\+Row, }
\item[{{\bf kkint32}}]{bp\+Col, }
\item[{{\bf kkint32}}]{ep\+Row, }
\item[{{\bf kkint32}}]{ep\+Col}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{}\label{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}


Definition at line 6239 of file Raster.\+cpp.



References Draw\+Line().


\begin{DoxyCode}
6242 \{
6243   \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (bpRow, bpCol,  
6244             epRow, epCol,
6245             255
6246            );
6247 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(kkint32 bp\+Row, kkint32 bp\+Col, kkint32 ep\+Row, kkint32 ep\+Col, uchar pixel\+Val)}{DrawLine(kkint32 bpRow, kkint32 bpCol, kkint32 epRow, kkint32 epCol, uchar pixelVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{bp\+Row, }
\item[{{\bf kkint32}}]{bp\+Col, }
\item[{{\bf kkint32}}]{ep\+Row, }
\item[{{\bf kkint32}}]{ep\+Col, }
\item[{{\bf uchar}}]{pixel\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a2d611fbbce8226f7f0fd7f3e1bab9f78}{}\label{class_k_k_b_1_1_raster_a2d611fbbce8226f7f0fd7f3e1bab9f78}


Definition at line 6253 of file Raster.\+cpp.



References Draw\+Line().



Referenced by K\+K\+B\+::\+Histogram\+::\+Create\+Graph(), and Draw\+Line().


\begin{DoxyCode}
6257 \{
6258   \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (bpRow, bpCol, epRow, epCol, pixelVal, pixelVal, pixelVal);
6259 \}  \textcolor{comment}{/* DrawLine */};
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(const Point \&begin\+Point, const Point \&end\+Point, uchar pixel\+Val)}{DrawLine(const Point &beginPoint, const Point &endPoint, uchar pixelVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{const {\bf Point} \&}]{begin\+Point, }
\item[{const {\bf Point} \&}]{end\+Point, }
\item[{{\bf uchar}}]{pixel\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ac6461ac804cc01723c4359e156fa9fab}{}\label{class_k_k_b_1_1_raster_ac6461ac804cc01723c4359e156fa9fab}


Definition at line 6794 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), Draw\+Line(), and K\+K\+B\+::\+Point\+::\+Row().


\begin{DoxyCode}
6798 \{
6799   \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (beginPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (), beginPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), 
6800             endPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (),   endPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), 
6801             pixelVal
6802            );
6803 \}  \textcolor{comment}{/* DrawLine */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(const Point \&begin\+Point, const Point \&end\+Point, const Pixel\+Value \&pixel\+Val)}{DrawLine(const Point &beginPoint, const Point &endPoint, const PixelValue &pixelVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{const {\bf Point} \&}]{begin\+Point, }
\item[{const {\bf Point} \&}]{end\+Point, }
\item[{const {\bf Pixel\+Value} \&}]{pixel\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a45e0f83a666f40d6d84e674f996b7570}{}\label{class_k_k_b_1_1_raster_a45e0f83a666f40d6d84e674f996b7570}


Definition at line 6807 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), Draw\+Line(), and K\+K\+B\+::\+Point\+::\+Row().



Referenced by K\+K\+B\+::\+Chart\+::\+Create\+Raster(), and Draw\+Connected\+Point\+List().


\begin{DoxyCode}
6811 \{
6812   \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (beginPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (), beginPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), 
6813             endPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row}   (), endPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col}   (), 
6814             pixelVal
6815            );
6816 
6817 \}  \textcolor{comment}{/* DrawLine */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(kkint32 bp\+Row, kkint32 bp\+Col, kkint32 ep\+Row, kkint32 ep\+Col, uchar r, uchar g, uchar b)}{DrawLine(kkint32 bpRow, kkint32 bpCol, kkint32 epRow, kkint32 epCol, uchar r, uchar g, uchar b)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{bp\+Row, }
\item[{{\bf kkint32}}]{bp\+Col, }
\item[{{\bf kkint32}}]{ep\+Row, }
\item[{{\bf kkint32}}]{ep\+Col, }
\item[{{\bf uchar}}]{r, }
\item[{{\bf uchar}}]{g, }
\item[{{\bf uchar}}]{b}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a6c5dcf4f51729014eb17ee0acf33b94c}{}\label{class_k_k_b_1_1_raster_a6c5dcf4f51729014eb17ee0acf33b94c}


Definition at line 6264 of file Raster.\+cpp.



References blue, color, green, height, red, and width.



Referenced by Draw\+Line().


\begin{DoxyCode}
6270 \{
6271 
6272   \textcolor{keywordflow}{if}  ((bpRow < 0)  ||  (bpRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
6273        (bpCol < 0)  ||  (bpCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})   ||
6274        (epRow < 0)  ||  (epRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
6275        (epCol < 0)  ||  (epCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
6276       )
6277   \{
6278     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6279          << \textcolor{stringliteral}{"*** WARNING ***"}
6280          << \textcolor{stringliteral}{"Raster::DrawLine,  Out of Raster Boundaries   Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6281          << \textcolor{stringliteral}{"                   BeginPoint"} << \hyperlink{class_k_k_b_1_1_point}{Point} (bpRow, bpCol) << \textcolor{stringliteral}{"   EndPoint"} << 
      \hyperlink{class_k_k_b_1_1_point}{Point} (epRow, epCol) << \textcolor{stringliteral}{"."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6282          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
6283     \textcolor{keywordflow}{return};
6284   \}
6285 
6286   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaY = epRow - bpRow;
6287   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaX = epCol - bpCol;
6288 
6289   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6290 
6291   \textcolor{keywordflow}{if}  (deltaY == 0)
6292   \{
6293     \textcolor{comment}{// We have a Straight Horizontal Line}
6294 
6295     row = bpRow;
6296     
6297     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol;
6298     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endCol;
6299 
6300     \textcolor{keywordflow}{if}  (bpCol < epCol)
6301     \{
6302       startCol = bpCol;
6303       endCol   = epCol;
6304     \}
6305     \textcolor{keywordflow}{else}
6306     \{
6307       startCol = epCol;
6308       endCol   = bpCol;
6309     \}
6310 
6311     \textcolor{keywordflow}{for}  (col = startCol;  col <= endCol;  col++)
6312     \{
6313       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = g;
6314       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6315       \{
6316         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = r;
6317         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = b;
6318       \}
6319     \}
6320 
6321     \textcolor{keywordflow}{return};
6322   \}
6323 
6324   \textcolor{keywordflow}{if}  (deltaX == 0)
6325   \{
6326     \textcolor{comment}{// We have a Straight Vertical Line}
6327 
6328     col = bpCol;
6329     
6330     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow;
6331     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endRow;
6332 
6333     \textcolor{keywordflow}{if}  (bpRow < epRow)
6334     \{
6335       startRow = bpRow;
6336       endRow   = epRow;
6337     \}
6338     \textcolor{keywordflow}{else}
6339     \{
6340       startRow = epRow;
6341       endRow   = bpRow;
6342     \}
6343 
6344     \textcolor{keywordflow}{for}  (row = startRow;  row <= endRow;  row++)
6345     \{
6346       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = g;
6347       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6348       \{
6349         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = r;
6350         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = b;
6351       \}
6352     \}
6353 
6354     \textcolor{keywordflow}{return};
6355   \}
6356 
6357   \textcolor{keywordtype}{float}  m = (float)deltaY / (\textcolor{keywordtype}{float})deltaX;
6358 
6359   \textcolor{keywordtype}{float}  c = bpRow - m * bpCol;
6360 
6361   \textcolor{keywordflow}{if}  (fabs (m) < 0.5)
6362   \{
6363     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol;
6364     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endCol;
6365 
6366     \textcolor{keywordflow}{if}  (bpCol < epCol)
6367     \{
6368       startCol = bpCol;
6369       endCol   = epCol;
6370     \}
6371     \textcolor{keywordflow}{else}
6372     \{
6373       startCol = epCol;
6374       endCol   = bpCol;
6375     \}
6376 
6377     \textcolor{keywordflow}{for}  (col = startCol;  col <= endCol;  col++)
6378     \{
6379       row = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(m * col + c + 0.5);
6380       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = g;
6381       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6382       \{
6383         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = r;
6384         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = b;
6385       \}
6386     \}
6387   \}
6388   \textcolor{keywordflow}{else}
6389   \{
6390     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow;
6391     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endRow;
6392 
6393     \textcolor{keywordflow}{if}  (bpRow < epRow)
6394     \{
6395       startRow = bpRow;
6396       endRow   = epRow;
6397     \}
6398     \textcolor{keywordflow}{else}
6399     \{
6400       startRow = epRow;
6401       endRow   = bpRow;
6402     \}
6403 
6404     \textcolor{keywordflow}{for}  (row = startRow;  row <= endRow;  row++)
6405     \{
6406       col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(((row - c) / m) + 0.5);
6407       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = g;
6408       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6409       \{
6410         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = r;
6411         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = b;
6412       \}
6413     \}
6414   \}
6415 \}  \textcolor{comment}{/* DrawLine */};
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(kkint32 bp\+Row, kkint32 bp\+Col, kkint32 ep\+Row, kkint32 ep\+Col, uchar r, uchar g, uchar b, float alpha)}{DrawLine(kkint32 bpRow, kkint32 bpCol, kkint32 epRow, kkint32 epCol, uchar r, uchar g, uchar b, float alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{bp\+Row, }
\item[{{\bf kkint32}}]{bp\+Col, }
\item[{{\bf kkint32}}]{ep\+Row, }
\item[{{\bf kkint32}}]{ep\+Col, }
\item[{{\bf uchar}}]{r, }
\item[{{\bf uchar}}]{g, }
\item[{{\bf uchar}}]{b, }
\item[{float}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5f85d89a5a5c23a5f19cd2090d39cfc5}{}\label{class_k_k_b_1_1_raster_a5f85d89a5a5c23a5f19cd2090d39cfc5}


Definition at line 6479 of file Raster.\+cpp.



References blue, color, green, height, Merge\+Alpfa\+Beta(), red, and width.



Referenced by Draw\+Line().


\begin{DoxyCode}
6486 \{
6487   \textcolor{keywordtype}{float}  beta = 1.0f - alpha;
6488 
6489   \textcolor{keywordflow}{if}  ((bpRow < 0)  ||  (bpRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
6490        (bpCol < 0)  ||  (bpCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})   ||
6491        (epRow < 0)  ||  (epRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
6492        (epCol < 0)  ||  (epCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
6493       )
6494   \{
6495     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6496          << \textcolor{stringliteral}{"*** WARNING ***"}
6497          << \textcolor{stringliteral}{"Raster::DrawLine,  Out of Raster Boundaries   Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6498          << \textcolor{stringliteral}{"                   BeginPoint"} << \hyperlink{class_k_k_b_1_1_point}{Point} (bpRow, bpCol) << \textcolor{stringliteral}{"   EndPoint"} << 
      \hyperlink{class_k_k_b_1_1_point}{Point} (epRow, epCol) << \textcolor{stringliteral}{"."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6499          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
6500     \textcolor{keywordflow}{return};
6501   \}
6502 
6503   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaY = epRow - bpRow;
6504   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  deltaX = epCol - bpCol;
6505 
6506   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6507 
6508   \textcolor{keywordflow}{if}  (deltaY == 0)
6509   \{
6510     \textcolor{comment}{// We have a Straight Horizontal Line}
6511 
6512     row = bpRow;
6513     
6514     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol;
6515     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endCol;
6516 
6517     \textcolor{keywordflow}{if}  (bpCol < epCol)
6518     \{
6519       startCol = bpCol;
6520       endCol   = epCol;
6521     \}
6522     \textcolor{keywordflow}{else}
6523     \{
6524       startCol = epCol;
6525       endCol   = bpCol;
6526     \}
6527 
6528     \textcolor{keywordflow}{for}  (col = startCol;  col <= endCol;  col++)
6529     \{
6530       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, g, beta, \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]);
6531       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6532       \{
6533         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, r, beta, \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col]);
6534         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, b, beta, \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col]);
6535       \}
6536     \}
6537 
6538     \textcolor{keywordflow}{return};
6539   \}
6540 
6541   \textcolor{keywordflow}{if}  (deltaX == 0)
6542   \{
6543     \textcolor{comment}{// We have a Straight Vertical Line}
6544 
6545     col = bpCol;
6546     
6547     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow;
6548     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endRow;
6549 
6550     \textcolor{keywordflow}{if}  (bpRow < epRow)
6551     \{
6552       startRow = bpRow;
6553       endRow   = epRow;
6554     \}
6555     \textcolor{keywordflow}{else}
6556     \{
6557       startRow = epRow;
6558       endRow   = bpRow;
6559     \}
6560 
6561     \textcolor{keywordflow}{for}  (row = startRow;  row <= endRow;  row++)
6562     \{
6563       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, g, beta, \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]);
6564       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6565       \{
6566         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, r, beta, \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col]);
6567         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, b, beta, \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col]);
6568       \}
6569     \}
6570 
6571     \textcolor{keywordflow}{return};
6572   \}
6573 
6574   \textcolor{keywordtype}{float}  m = (float)deltaY / (\textcolor{keywordtype}{float})deltaX;
6575 
6576   \textcolor{keywordtype}{float}  c = bpRow - m * bpCol;
6577 
6578   \textcolor{keywordflow}{if}  (fabs (m) < 0.5)
6579   \{
6580     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol;
6581     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endCol;
6582 
6583     \textcolor{keywordflow}{if}  (bpCol < epCol)
6584     \{
6585       startCol = bpCol;
6586       endCol   = epCol;
6587     \}
6588     \textcolor{keywordflow}{else}
6589     \{
6590       startCol = epCol;
6591       endCol   = bpCol;
6592     \}
6593 
6594     \textcolor{keywordflow}{for}  (col = startCol;  col <= endCol;  col++)
6595     \{
6596       row = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(m * col + c + 0.5);
6597       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, g, beta, \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]);
6598       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6599       \{
6600         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, r, beta, \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col]);
6601         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, b, beta, \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col]);
6602       \}
6603     \}
6604   \}
6605   \textcolor{keywordflow}{else}
6606   \{
6607     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow;
6608     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endRow;
6609 
6610     \textcolor{keywordflow}{if}  (bpRow < epRow)
6611     \{
6612       startRow = bpRow;
6613       endRow   = epRow;
6614     \}
6615     \textcolor{keywordflow}{else}
6616     \{
6617       startRow = epRow;
6618       endRow   = bpRow;
6619     \}
6620 
6621     \textcolor{keywordflow}{for}  (row = startRow;  row <= endRow;  row++)
6622     \{
6623       col = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(((row - c) / m) + 0.5);
6624       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, g, beta, \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]);
6625       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6626       \{
6627         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, r, beta, \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col]);
6628         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = \hyperlink{_raster_8cpp_a35cd27498a34528ebe070556016152f5}{MergeAlpfaBeta} (alpha, b, beta, \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col]);
6629       \}
6630     \}
6631   \}
6632 \}  \textcolor{comment}{/* DrawLine */};
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(kkint32 bp\+Row, kkint32 bp\+Col, kkint32 ep\+Row, kkint32 ep\+Col, Pixel\+Value pixel\+Val)}{DrawLine(kkint32 bpRow, kkint32 bpCol, kkint32 epRow, kkint32 epCol, PixelValue pixelVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{bp\+Row, }
\item[{{\bf kkint32}}]{bp\+Col, }
\item[{{\bf kkint32}}]{ep\+Row, }
\item[{{\bf kkint32}}]{ep\+Col, }
\item[{{\bf Pixel\+Value}}]{pixel\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a28fbbdb8290487d13725ce4610a030c1}{}\label{class_k_k_b_1_1_raster_a28fbbdb8290487d13725ce4610a030c1}


Definition at line 6771 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, Draw\+Line(), K\+K\+B\+::\+Pixel\+Value\+::g, and K\+K\+B\+::\+Pixel\+Value\+::r.



Referenced by K\+K\+B\+::\+Chart\+::\+Create\+Raster(), and Draw\+Line().


\begin{DoxyCode}
6775 \{
6776   \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (bpRow, bpCol, epRow, epCol, pixelVal.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r}, pixelVal.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g}, pixelVal.
      \hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b});
6777 \}  \textcolor{comment}{/* DrawLine */};
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Line@{Draw\+Line}}
\index{Draw\+Line@{Draw\+Line}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Line(kkint32 bp\+Row, kkint32 bp\+Col, kkint32 ep\+Row, kkint32 ep\+Col, Pixel\+Value pixel\+Val, float alpha)}{DrawLine(kkint32 bpRow, kkint32 bpCol, kkint32 epRow, kkint32 epCol, PixelValue pixelVal, float alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Line (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{bp\+Row, }
\item[{{\bf kkint32}}]{bp\+Col, }
\item[{{\bf kkint32}}]{ep\+Row, }
\item[{{\bf kkint32}}]{ep\+Col, }
\item[{{\bf Pixel\+Value}}]{pixel\+Val, }
\item[{float}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a3348d6cd4db5b01284004cc20d411dc4}{}\label{class_k_k_b_1_1_raster_a3348d6cd4db5b01284004cc20d411dc4}


Definition at line 6782 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, Draw\+Line(), K\+K\+B\+::\+Pixel\+Value\+::g, and K\+K\+B\+::\+Pixel\+Value\+::r.



Referenced by Draw\+Grid().


\begin{DoxyCode}
6787 \{
6788   \hyperlink{class_k_k_b_1_1_raster_a118bf0fa32356ddea42f579c044c65cd}{DrawLine} (bpRow, bpCol, epRow, epCol, pixelVal.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r}, pixelVal.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g}, pixelVal.
      \hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b}, alpha);
6789 \}  \textcolor{comment}{/* DrawLine */};
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Point\+List@{Draw\+Point\+List}}
\index{Draw\+Point\+List@{Draw\+Point\+List}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Point\+List(const Point\+List \&border\+Pixs, const Pixel\+Value \&pixel\+Value)}{DrawPointList(const PointList &borderPixs, const PixelValue &pixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Point\+List (
\begin{DoxyParamCaption}
\item[{const {\bf Point\+List} \&}]{border\+Pixs, }
\item[{const {\bf Pixel\+Value} \&}]{pixel\+Value}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a7afa361fd71c5eaad80941bece5f68a1}{}\label{class_k_k_b_1_1_raster_a7afa361fd71c5eaad80941bece5f68a1}


Definition at line 6822 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, Draw\+Point\+List(), K\+K\+B\+::\+Pixel\+Value\+::g, K\+K\+B\+::\+Point\+::\+Point(), and K\+K\+B\+::\+Pixel\+Value\+::r.


\begin{DoxyCode}
6825 \{
6826   \hyperlink{class_k_k_b_1_1_raster_a7afa361fd71c5eaad80941bece5f68a1}{DrawPointList} (\hyperlink{class_k_k_b_1_1_point}{Point} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0, (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0), borderPixs, pixelValue.
      \hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r}, pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g}, pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b});
6827 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Point\+List@{Draw\+Point\+List}}
\index{Draw\+Point\+List@{Draw\+Point\+List}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Point\+List(\+Point offset, const Point\+List \&border\+Pixs, const Pixel\+Value \&pixel\+Value)}{DrawPointList(Point offset, const PointList &borderPixs, const PixelValue &pixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Point\+List (
\begin{DoxyParamCaption}
\item[{{\bf Point}}]{offset, }
\item[{const {\bf Point\+List} \&}]{border\+Pixs, }
\item[{const {\bf Pixel\+Value} \&}]{pixel\+Value}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a204938dab72379d43cd231d67ed1241e}{}\label{class_k_k_b_1_1_raster_a204938dab72379d43cd231d67ed1241e}


Definition at line 6830 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, Draw\+Point\+List(), K\+K\+B\+::\+Pixel\+Value\+::g, and K\+K\+B\+::\+Pixel\+Value\+::r.


\begin{DoxyCode}
6834 \{
6835   \hyperlink{class_k_k_b_1_1_raster_a7afa361fd71c5eaad80941bece5f68a1}{DrawPointList} (offset, borderPixs, pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r}, pixelValue.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g}, pixelValue.
      \hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b});
6836 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Point\+List@{Draw\+Point\+List}}
\index{Draw\+Point\+List@{Draw\+Point\+List}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Point\+List(const Point\+List \&border\+Pixs, uchar red\+Val, uchar green\+Val, uchar blue\+Val)}{DrawPointList(const PointList &borderPixs, uchar redVal, uchar greenVal, uchar blueVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Point\+List (
\begin{DoxyParamCaption}
\item[{const {\bf Point\+List} \&}]{border\+Pixs, }
\item[{{\bf uchar}}]{red\+Val, }
\item[{{\bf uchar}}]{green\+Val, }
\item[{{\bf uchar}}]{blue\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a2de3887292960a46cfb2af7b8d10f51e}{}\label{class_k_k_b_1_1_raster_a2de3887292960a46cfb2af7b8d10f51e}


Definition at line 6841 of file Raster.\+cpp.



References Draw\+Point\+List(), and K\+K\+B\+::\+Point\+::\+Point().


\begin{DoxyCode}
6846 \{
6847   \hyperlink{class_k_k_b_1_1_raster_a7afa361fd71c5eaad80941bece5f68a1}{DrawPointList} (\hyperlink{class_k_k_b_1_1_point}{Point} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0, (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})0), borderPixs, redVal, 
      greenVal, blueVal);
6848 \}  \textcolor{comment}{/* DrawPointList */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Draw\+Point\+List@{Draw\+Point\+List}}
\index{Draw\+Point\+List@{Draw\+Point\+List}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Draw\+Point\+List(\+Point offset, const Point\+List \&border\+Pixs, uchar red\+Val, uchar green\+Val, uchar blue\+Val)}{DrawPointList(Point offset, const PointList &borderPixs, uchar redVal, uchar greenVal, uchar blueVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Draw\+Point\+List (
\begin{DoxyParamCaption}
\item[{{\bf Point}}]{offset, }
\item[{const {\bf Point\+List} \&}]{border\+Pixs, }
\item[{{\bf uchar}}]{red\+Val, }
\item[{{\bf uchar}}]{green\+Val, }
\item[{{\bf uchar}}]{blue\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a2db797acdc478931e0a5f65509330445}{}\label{class_k_k_b_1_1_raster_a2db797acdc478931e0a5f65509330445}


Definition at line 6853 of file Raster.\+cpp.



References blue, K\+K\+B\+::\+Point\+::\+Col(), color, green, height, red, K\+K\+B\+::\+Point\+::\+Row(), and width.



Referenced by Draw\+Point\+List().


\begin{DoxyCode}
6859 \{
6860   \hyperlink{class_k_k_b_1_1_k_k_queue_aeb057c9c010446f46f57c1e355f981f1}{PointList::const\_iterator}  pIDX;
6861 
6862   \hyperlink{class_k_k_b_1_1_point}{PointPtr}  pixel = NULL;
6863 
6864   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6865 
6866   \textcolor{keywordflow}{for}  (pIDX = borderPixs.begin ();  pIDX != borderPixs.end ();  pIDX++)
6867   \{
6868     pixel = *pIDX;
6869     row = pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} () + offset.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ();
6870     col = pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} () + offset.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ();
6871 
6872     \textcolor{keywordflow}{if}  ((row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  &&  
6873          (row >= 0)      &&
6874          (col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})   &&
6875          (col >= 0)   
6876         )  
6877     \{
6878       \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = greenVal;
6879       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6880       \{
6881         \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = redVal;
6882         \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = blueVal;
6883       \}
6884     \}
6885     \textcolor{keywordflow}{else}
6886     \{
6887       \textcolor{keywordflow}{continue};
6888     \}
6889   \}
6890 \}  \textcolor{comment}{/* DrawPointList */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Edge@{Edge}}
\index{Edge@{Edge}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Edge()}{Edge()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Edge (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a02fe968acb47d8f7654c115041598c8a}{}\label{class_k_k_b_1_1_raster_a02fe968acb47d8f7654c115041598c8a}


reduces image to edge pixels only. 



Definition at line 3043 of file Raster.\+cpp.



References Edge(), and Raster().


\begin{DoxyCode}
3044 \{
3045   \hyperlink{class_k_k_b_1_1_raster}{Raster}  orig (*\textcolor{keyword}{this});
3046   orig.Edge (\textcolor{keyword}{this});
3047 \}  \textcolor{comment}{/*  Edge */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Edge@{Edge}}
\index{Edge@{Edge}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Edge(\+Raster\+Ptr dest)}{Edge(RasterPtr dest)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Edge (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{dest}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a8d1b7f8485f2634b6d8c8499d63b7453}{}\label{class_k_k_b_1_1_raster_a8d1b7f8485f2634b6d8c8499d63b7453}


Definition at line 3052 of file Raster.\+cpp.



References background\+Pixel\+Value, foreground\+Pixel\+Count, foreground\+Pixel\+Value, Green(), Green\+Area(), Height(), height, Re\+Size(), Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector(), and Edge().


\begin{DoxyCode}
3053 \{
3054   \textcolor{keywordflow}{if}  ((dest->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  |  (dest->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
3055     dest->\hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{ReSize} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
3056 
3057   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
3058   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
3059 
3060   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastRow = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1;
3061   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastCol = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1;
3062 
3063   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  origRows = \hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
3064 
3065   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  origRowLast = NULL;
3066   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  origRowCur  = NULL;
3067   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  origRowNext = NULL;
3068    
3069   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelCount = 0;
3070 
3071   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destArea = dest->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
3072   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}** destRows = dest->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
3073 
3074   \textcolor{keywordflow}{for}  (r = 1;  r < lastRow;  ++r)
3075   \{
3076     origRowLast = origRows[r - 1];
3077     origRowCur  = origRows[r];
3078     origRowNext = origRows[r + 1];
3079 
3080     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRow = destRows[r];
3081 
3082     \textcolor{keywordflow}{for}  (c = 1; c < lastCol; c++)
3083     \{
3084       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowCur[c]))
3085       \{
3086         \textcolor{keywordflow}{if} ((\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowLast [c - 1])) &&
3087             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowLast [c]    )) &&
3088             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowLast [c + 1])) &&
3089             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowCur  [c - 1])) &&
3090             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowCur  [c]    )) &&
3091             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowCur  [c + 1])) &&
3092             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowNext [c - 1])) &&
3093             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowNext [c]    )) &&
3094             (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (origRowNext [c + 1]))
3095            )
3096         \{
3097           destRow[c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
3098         \}
3099         \textcolor{keywordflow}{else}
3100         \{
3101           destRow[c] = \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue};
3102           ++pixelCount;
3103         \}
3104       \}
3105     \}
3106   \}
3107 
3108   dest->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = pixelCount;
3109 \}  \textcolor{comment}{/*  Edge */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erode\+Spurs@{Erode\+Spurs}}
\index{Erode\+Spurs@{Erode\+Spurs}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erode\+Spurs()}{ErodeSpurs()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erode\+Spurs (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a282cb542ba0069ee5da5c82913390f46}{}\label{class_k_k_b_1_1_raster_a282cb542ba0069ee5da5c82913390f46}


removes spurs from image. 



Definition at line 8089 of file Raster.\+cpp.



References background\+Pixel\+Value, green, height, Raster(), and width.



Referenced by Thin\+Contour().


\begin{DoxyCode}
8090 \{
8091   \hyperlink{class_k_k_b_1_1_raster}{Raster}  origRaster (*\textcolor{keyword}{this});
8092 
8093   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  origGreen = origRaster.green;
8094 
8095   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
8096   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
8097 
8098   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  firstRow = 1;
8099   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  firstCol = 1;
8100   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastRow  = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1;
8101   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastCol  = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1;
8102 
8103   \textcolor{keywordflow}{for}  (r = firstRow; r < lastRow; r++)
8104   \{
8105     \textcolor{keywordflow}{for}  (c = firstCol; c < lastCol; c++)
8106     \{
8107       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c]))
8108       \{
8109         \textcolor{comment}{// We have a foreground Pixel.}
8110 
8111         \textcolor{keywordflow}{if}  ((\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c - 1]))  &&
8112              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c]    ))  &&
8113              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c + 1]))  &&
8114              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r    ][c - 1]))  &&
8115              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r    ][c + 1])))
8116         \{
8117           \textcolor{comment}{// Top Spur}
8118           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8119         \}
8120 
8121         \textcolor{keywordflow}{else}
8122         \textcolor{keywordflow}{if}  ((\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c - 1]))  &&
8123              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r    ][c - 1]))  &&
8124              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c + 1]))  &&
8125              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c    ]))  &&
8126              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c    ])))
8127         \{
8128           \textcolor{comment}{// Left Spur}
8129           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8130         \}
8131 
8132         \textcolor{keywordflow}{else}
8133         \textcolor{keywordflow}{if}  ((\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c - 1]))  &&
8134              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c    ]))  &&
8135              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c + 1]))  &&
8136              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r    ][c - 1]))  &&
8137              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r    ][c + 1])))
8138         \{
8139           \textcolor{comment}{// Bottom Spur}
8140           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8141         \}
8142 
8143         \textcolor{keywordflow}{else}
8144         \textcolor{keywordflow}{if}  ((\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c + 1]))  &&
8145              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r    ][c + 1]))  &&
8146              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c + 1]))  &&
8147              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r - 1][c    ]))  &&
8148              (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (origGreen[r + 1][c    ])))
8149         \{
8150           \textcolor{comment}{// Right Spur}
8151           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8152         \}
8153       \}
8154     \}
8155   \}
8156 \}  \textcolor{comment}{/* ErodeSpurs */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion@{Erosion}}
\index{Erosion@{Erosion}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion()}{Erosion()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{}\label{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}


Definition at line 2241 of file Raster.\+cpp.



References background\+Pixel\+TH, background\+Pixel\+Value, foreground\+Pixel\+Count, green, height, Raster(), and width.



Referenced by Closing(), and Opening().


\begin{DoxyCode}
2242 \{
2243   \hyperlink{class_k_k_b_1_1_raster}{Raster}  origRaster (*\textcolor{keyword}{this});
2244 
2245   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  origRows = origRaster.green;
2246 
2247   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2248 
2249   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2250   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2251 
2252   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastRow = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1;
2253   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastCol = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1;
2254 
2255   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowLast = NULL;
2256   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowCur  = NULL;
2257   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowNext = NULL;
2258 
2259   \textcolor{keywordflow}{for}  (r = 1; r < lastRow; r++)
2260   \{
2261     rowLast = origRows[r - 1];
2262     rowCur  = origRows[r    ];
2263     rowNext = origRows[r + 1];
2264 
2265     \textcolor{keywordflow}{for}  (c = 1; c < lastCol; c++)
2266     \{
2267       \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c]))
2268       \{
2269         \textcolor{keywordflow}{if}  ((rowLast [c - 1] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2270              (rowLast [c]     <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2271              (rowLast [c + 1] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2272 
2273              (rowCur  [c - 1] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2274              (rowCur  [c + 1] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2275 
2276              (rowNext [c - 1] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2277              (rowNext [c]     <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  ||
2278              (rowNext [c + 1] <= \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}))
2279         \{
2280           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
2281         \}
2282         \textcolor{keywordflow}{else}
2283         \{
2284           \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2285         \}
2286       \}
2287     \}
2288   \}
2289 \}  \textcolor{comment}{/* Erosion */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion@{Erosion}}
\index{Erosion@{Erosion}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion(\+Mask\+Types mask)}{Erosion(MaskTypes mask)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_acb9279f22fd4af75dd91360474528cff}{}\label{class_k_k_b_1_1_raster_acb9279f22fd4af75dd91360474528cff}


Definition at line 2294 of file Raster.\+cpp.



References background\+Pixel\+Value, K\+K\+B\+::\+Morph\+Op\+::\+Biases(), foreground\+Pixel\+Count, Green(), green, height, K\+K\+B\+::\+Morph\+Op\+::\+Mask\+Shapes(), Raster(), K\+K\+B\+::\+Morph\+Op\+::st\+Square, and width.



Referenced by Closing(), Derive\+Image\+Length(), and Opening().


\begin{DoxyCode}
2295 \{
2296   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2297   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2298 
2299   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bias = \hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (mask);
2300 
2301   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowStart = 0 - bias;
2302   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowEnd   = 0 + bias;
2303   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColStart = 0 - bias;
2304   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColEnd   = 0 + bias;
2305   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRow;
2306   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskCol;
2307   \textcolor{keywordtype}{bool}   fit = \textcolor{keyword}{false};
2308 
2309   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2310   \hyperlink{class_k_k_b_1_1_raster}{Raster}  tempRaster (*\textcolor{keyword}{this});
2311   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**     tempGreen = tempRaster.Green ();
2312   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*      tempRowData = NULL;
2313   \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3}{StructureType}  m = \hyperlink{class_k_k_b_1_1_morph_op_a7e477ebbb2c0cdd67388cb841685c02b}{MorphOp::MaskShapes} (mask);
2314 
2315   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  r++)
2316   \{
2317     maskColStart = 0 - bias;
2318     maskColEnd   = 0 + bias;
2319 
2320     tempRowData = tempGreen[r];
2321 
2322     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
2323     \{
2324       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c]))
2325       \{
2326         fit = \textcolor{keyword}{true};
2327         \textcolor{keywordflow}{if}  ((maskRowStart < 0)  || (maskRowEnd >= height)  ||  (maskColStart < 0) ||  (maskColStart >= 
      width))
2328           fit = \textcolor{keyword}{false};
2329 
2330         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (m == \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3a04505973fd476144464695ac6483e490}{StructureType::stSquare})
2331         \{
2332           \textcolor{keywordflow}{for}  (maskRow = maskRowStart;  ((maskRow <= maskRowEnd)  &&  fit);  maskRow++)
2333           \{
2334             tempRowData =  tempGreen[maskRow];
2335             \textcolor{keywordflow}{for}  (maskCol = maskColStart;  maskCol <= maskColEnd;  maskCol++)
2336             \{
2337               \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2338               \{
2339                 fit = \textcolor{keyword}{false};
2340                 \textcolor{keywordflow}{break};
2341               \}
2342             \}
2343           \}
2344         \}
2345         \textcolor{keywordflow}{else}
2346         \{
2347           \textcolor{comment}{//  Cross Structure}
2348           \textcolor{keywordflow}{for}  (maskRow = maskRowStart;  maskRow <= maskRowEnd;  maskRow++)
2349           \{
2350             \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempGreen[maskRow][c]))
2351             \{
2352               fit = \textcolor{keyword}{false};
2353               \textcolor{keywordflow}{break};
2354             \}
2355           \}
2356 
2357           tempRowData =  tempGreen[maskRow];
2358           \textcolor{keywordflow}{for}  (maskCol = maskColStart;  maskCol <= maskColEnd;  maskCol++)
2359           \{
2360             \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2361             \{
2362               fit = \textcolor{keyword}{false};
2363               \textcolor{keywordflow}{break};
2364             \}
2365           \}
2366         \}
2367 
2368         \textcolor{keywordflow}{if}  (!fit)
2369           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
2370         \textcolor{keywordflow}{else}
2371           \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2372       \}
2373 
2374       maskColStart++;
2375       maskColEnd++;
2376     \}   \textcolor{comment}{/* End of for(c) */}
2377 
2378     maskRowStart++;
2379     maskRowEnd++;
2380   \}   \textcolor{comment}{/* End of for(r) */}
2381 
2382 \}  \textcolor{comment}{/* Erosion */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion@{Erosion}}
\index{Erosion@{Erosion}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion(\+Morph\+Op\+::\+Structure\+Type \+\_\+structure, kkuint16 \+\_\+structure\+Size, kkint32 \+\_\+background\+Count\+T\+H)}{Erosion(MorphOp::StructureType _structure, kkuint16 _structureSize, kkint32 _backgroundCountTH)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion (
\begin{DoxyParamCaption}
\item[{{\bf Morph\+Op\+::\+Structure\+Type}}]{\+\_\+structure, }
\item[{{\bf kkuint16}}]{\+\_\+structure\+Size, }
\item[{{\bf kkint32}}]{\+\_\+background\+Count\+TH}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_aad2335f0f5c873c70374d0ff0cd05775}{}\label{class_k_k_b_1_1_raster_aad2335f0f5c873c70374d0ff0cd05775}


Definition at line 2388 of file Raster.\+cpp.



References K\+K\+B\+::\+Morph\+Op\+Struct\+::\+Background\+Count\+T\+H(), Foreground\+Pixel\+Count(), foreground\+Pixel\+Count, green, green\+Area, K\+K\+B\+::\+Morph\+Op\+Erosion\+::\+Morph\+Op\+Erosion(), and K\+K\+B\+::\+Morph\+Op\+Erosion\+::\+Perform\+Operation().


\begin{DoxyCode}
2392 \{
2393   \hyperlink{class_k_k_b_1_1_morph_op_erosion}{MorphOpErosion}  eroder (\_structure, \_structureSize);
2394   eroder.BackgroundCountTH (\_backgroundCountTH);
2395   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} tempRaster = eroder.PerformOperation (\textcolor{keyword}{this});
2396   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
2397   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
2398   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}{ForegroundPixelCount} ();
2399 
2400   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
2401   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
2402 
2403   tempRaster->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = NULL;
2404   tempRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}     = NULL;
2405 
2406   \textcolor{keyword}{delete}  tempRaster;
2407 \} \textcolor{comment}{/* Erosion */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion@{Erosion}}
\index{Erosion@{Erosion}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion(\+Raster\+Ptr dest) const }{Erosion(RasterPtr dest) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{dest}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a390aeef1c03a10740baec6e3fb7736c0}{}\label{class_k_k_b_1_1_raster_a390aeef1c03a10740baec6e3fb7736c0}


Place into destination a eroded version of this instances image. 



Definition at line 2411 of file Raster.\+cpp.



References background\+Pixel\+TH, foreground\+Pixel\+Count, Green(), green, Green\+Area(), green\+Area, Height(), height, Re\+Size(), Tot\+Pixels(), Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
2412 \{
2413   \textcolor{keywordflow}{if}  ((dest->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  |  (dest->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
2414     dest->\hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{ReSize} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
2415 
2416   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   destArea = dest->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
2417   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destRows = dest->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
2418 
2419   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   srcArea = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
2420   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  srcRows = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
2421 
2422   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totalArea = this->\hyperlink{class_k_k_b_1_1_raster_a174a392b71afc2295a0ccbfca3d984e9}{TotPixels} ();
2423 
2424   memset (destArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
2425   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelCount = 0;
2426 
2427   \textcolor{keywordtype}{int}  c, r;
2428 
2429   \textcolor{comment}{//  Take care of Top and Bottom rows.}
2430   \{
2431     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow0         = srcRows[0];
2432     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow1         = srcRows[1];
2433     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRowBot0      = srcRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1];
2434     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRowBot1      = srcRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 2];
2435 
2436     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRow0 = destRows[0];
2437     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRowBot = destRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1];
2438     \textcolor{keywordflow}{for} (c = 1;  c < (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);  ++c)
2439     \{
2440       \textcolor{keywordflow}{if}  ((srcRow0[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow0[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow0[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2441            (srcRow1[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow1[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow1[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
2442           )
2443       \{
2444         destRow0[c] = 255;
2445         ++pixelCount;
2446       \}
2447 
2448       \textcolor{keywordflow}{if}  ((srcRowBot0[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&                                    
             (srcRowBot0[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2449            (srcRowBot1[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRowBot1[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRowBot1[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
2450           )
2451       \{
2452         destRowBot[c] = 255;
2453         ++pixelCount;
2454       \}
2455     \}
2456   \}
2457 
2458 
2459   \textcolor{comment}{// Take care of left and right columns}
2460   \{
2461     \textcolor{keywordflow}{for}  (r = 1;  r < (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);  ++r)
2462     \{
2463       \textcolor{keywordflow}{if}  ((srcRows[r - 1][0] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRows[r - 1][1] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2464            (srcRows[r    ][0] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRows[r    ][1] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2465            (srcRows[r + 1][0] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRows[r + 1][1] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
2466           )
2467       \{
2468         destRows[r][0] = 255;
2469         ++pixelCount;
2470       \}
2471 
2472 
2473       \textcolor{keywordflow}{if}  ((srcRows[r - 1][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRows[r - 1][
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 2] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2474            (srcRows[r    ][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRows[r    ][
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 2] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2475            (srcRows[r + 1][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRows[r + 1][
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 2] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
2476           )
2477       \{
2478         destRows[r][\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1] = 255;
2479         ++pixelCount;
2480       \}
2481     \}
2482   \}
2483 
2484 
2485   \textcolor{comment}{// Take care of main Body}
2486   \{
2487     \textcolor{keywordflow}{for}  (r = 1;  r < (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);  ++r)
2488     \{
2489       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow0 = srcRows[r - 1];
2490       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow1 = srcRows[r    ];
2491       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow2 = srcRows[r + 1];
2492 
2493       \textcolor{keywordflow}{for}  (c = 1;  c < (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1);  ++c)
2494       \{
2495         \textcolor{keywordflow}{if}  ((srcRow0[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow0[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow0[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2496              (srcRow1[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow1[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow1[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&
2497              (srcRow2[c - 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow2[c] > 
      \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})  &&  (srcRow2[c + 1] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
2498             )
2499         \{
2500           destRows[r][c] = 255;
2501           ++pixelCount;
2502         \}
2503       \}
2504     \}
2505   \}
2506 
2507   dest->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = pixelCount;
2508 \}  \textcolor{comment}{/* Erosion*/}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion@{Erosion}}
\index{Erosion@{Erosion}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion(\+Raster\+Ptr dest, Mask\+Types mask) const }{Erosion(RasterPtr dest, MaskTypes mask) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{dest, }
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ac426d284da43e060747bac5635d8cb4b}{}\label{class_k_k_b_1_1_raster_ac426d284da43e060747bac5635d8cb4b}


Definition at line 2514 of file Raster.\+cpp.



References foreground\+Pixel\+Count, Green(), green, Green\+Area(), Height(), height, Re\+Size(), Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
2518 \{
2519   \textcolor{keywordflow}{if}  ((dest->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  |  (dest->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
2520     dest->\hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{ReSize} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
2521 
2522   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   destArea = dest->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
2523   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  destRows = dest->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
2524 
2525   memset (destArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
2526   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelCount = 0;
2527 
2528   \textcolor{keywordtype}{int}  c, r;
2529 
2530   \textcolor{comment}{// Take care of main Body}
2531   \{
2532     \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
2533     \{
2534       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowData = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r];
2535       \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
2536       \{
2537         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (rowData[c]))
2538         \{
2539           \textcolor{keywordflow}{if}  (Fit (mask, r, c))
2540           \{
2541             destRows[r][c] = 255;
2542             ++pixelCount;
2543           \}
2544         \}
2545       \}
2546     \}
2547   \}
2548 
2549   dest->\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = pixelCount;
2550 \}  \textcolor{comment}{/* Erosion*/}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion\+Boundary@{Erosion\+Boundary}}
\index{Erosion\+Boundary@{Erosion\+Boundary}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion\+Boundary(\+Mask\+Types mask, kkint32 blobrowstart, kkint32 blobrowend, kkint32 blobcolstart, kkint32 blobcolend)}{ErosionBoundary(MaskTypes mask, kkint32 blobrowstart, kkint32 blobrowend, kkint32 blobcolstart, kkint32 blobcolend)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion\+Boundary (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask, }
\item[{{\bf kkint32}}]{blobrowstart, }
\item[{{\bf kkint32}}]{blobrowend, }
\item[{{\bf kkint32}}]{blobcolstart, }
\item[{{\bf kkint32}}]{blobcolend}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a854cc80ed1c095771599d0638856a962}{}\label{class_k_k_b_1_1_raster_a854cc80ed1c095771599d0638856a962}


Definition at line 2787 of file Raster.\+cpp.



References background\+Pixel\+Value, K\+K\+B\+::\+Morph\+Op\+::\+Biases(), foreground\+Pixel\+Count, Green(), green, height, K\+K\+B\+::\+Morph\+Op\+::\+Mask\+Shapes(), Raster(), K\+K\+B\+::\+Morph\+Op\+::st\+Square, and width.


\begin{DoxyCode}
2793 \{
2794   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2795   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2796 
2797   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bias = \hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (mask);
2798 
2799   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowStart = 0 - bias;
2800   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowEnd   = 0 + bias;
2801   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColStart = 0 - bias;
2802   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColEnd   = 0 + bias;
2803 
2804   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRow = 0;
2805   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskCol = 0;
2806   \textcolor{keywordtype}{bool}  fit    = \textcolor{keyword}{false};
2807 
2808   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2809   \hyperlink{class_k_k_b_1_1_raster}{Raster}  tempRaster (*\textcolor{keyword}{this});
2810 
2811   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**     tempGreen   = tempRaster.Green ();
2812   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*      tempRowData = NULL;
2813 
2814   \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3}{StructureType}  m = \hyperlink{class_k_k_b_1_1_morph_op_a7e477ebbb2c0cdd67388cb841685c02b}{MorphOp::MaskShapes} (mask);
2815 
2816   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  r++)
2817   \{
2818     \textcolor{comment}{//if ((r>= blobrowstart+30) && (r<= blobrowend-30))}
2819     \textcolor{comment}{// \{}
2820     \textcolor{comment}{// \}}
2821   \textcolor{comment}{// else}
2822   \textcolor{comment}{// \{}
2823     maskColStart = 0 - bias;
2824     maskColEnd   = 0 + bias;
2825 
2826     tempRowData = tempGreen[r];
2827 
2828     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
2829     \{
2830       \textcolor{keywordflow}{if}  ((c >= blobcolstart + 100)  &&  (c <= blobcolend - 100))
2831       \{
2832       \}
2833       \textcolor{keywordflow}{else}
2834       \{
2835         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c]))
2836         \{
2837           fit = \textcolor{keyword}{true};
2838           \textcolor{keywordflow}{if}  ((maskRowStart <  0)       || 
2839                (maskRowEnd   >= height)  ||  
2840                (maskColStart <  0)       ||
2841                (maskColStart >= width)
2842               )
2843           \{
2844             fit = \textcolor{keyword}{false};
2845           \}
2846 
2847           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (m == \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3a04505973fd476144464695ac6483e490}{StructureType::stSquare})
2848           \{
2849             \textcolor{keywordflow}{for}  (maskRow = maskRowStart;  ((maskRow <= maskRowEnd)  &&  fit);  maskRow++)
2850             \{
2851               tempRowData =  tempGreen[maskRow];
2852               \textcolor{keywordflow}{for}  (maskCol = maskColStart;  maskCol <= maskColEnd;  maskCol++)
2853               \{
2854                 \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2855                 \{
2856                   fit = \textcolor{keyword}{false};
2857                   \textcolor{keywordflow}{break};
2858                 \}
2859               \}
2860             \}
2861           \}
2862           \textcolor{keywordflow}{else}
2863           \{
2864             \textcolor{comment}{//  Cross Structure}
2865             \textcolor{keywordflow}{for}  (maskRow = maskRowStart;  maskRow <= maskRowEnd;  maskRow++)
2866             \{
2867               \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempGreen[maskRow][c]))
2868               \{
2869                 fit = \textcolor{keyword}{false};
2870                 \textcolor{keywordflow}{break};
2871               \}
2872             \}
2873 
2874             tempRowData =  tempGreen[maskRow];
2875             \textcolor{keywordflow}{for}  (maskCol = maskColStart;  maskCol <= maskColEnd;  maskCol++)
2876             \{
2877               \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2878               \{
2879                 fit = \textcolor{keyword}{false};
2880                 \textcolor{keywordflow}{break};
2881               \}
2882             \}
2883           \}
2884 
2885           \textcolor{keywordflow}{if}  (!fit)
2886             \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
2887           \textcolor{keywordflow}{else}
2888             \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2889         \}
2890 
2891         maskColStart++;
2892         maskColEnd++;
2893       \}
2894     \}   \textcolor{comment}{/* End of for(c) */}
2895 
2896     maskRowStart++;
2897     maskRowEnd++;
2898     \textcolor{comment}{//\}}
2899   \}   \textcolor{comment}{/* End of for(r) */}
2900 
2901 \}  \textcolor{comment}{/* ErosionBoundary */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion\+Changed@{Erosion\+Changed}}
\index{Erosion\+Changed@{Erosion\+Changed}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion\+Changed(\+Mask\+Types mask, kkint32 row, kkint32 col)}{ErosionChanged(MaskTypes mask, kkint32 row, kkint32 col)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion\+Changed (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask, }
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a9cf44682126ede6d178929102e91347e}{}\label{class_k_k_b_1_1_raster_a9cf44682126ede6d178929102e91347e}


Definition at line 2558 of file Raster.\+cpp.



References background\+Pixel\+Value, K\+K\+B\+::\+Morph\+Op\+::\+Biases(), foreground\+Pixel\+Count, Green(), green, K\+K\+B\+::\+Morph\+Op\+::\+Mask\+Shapes(), Raster(), and K\+K\+B\+::\+Morph\+Op\+::st\+Square.


\begin{DoxyCode}
2562 \{
2563   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2564   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2565 
2566   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bias = \hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (mask);
2567 
2568   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowStart ;
2569   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowEnd  ; 
2570   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColStart ;
2571   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColEnd  ;
2572   maskRowStart = 0 - bias;
2573   maskRowEnd   = 0+ bias;
2574   maskColStart = 0 - bias;
2575   maskColEnd   = 0 + bias;
2576   
2577   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRow;
2578   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskCol;
2579   \textcolor{keywordtype}{bool}  fit;
2580 
2581   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2582   \hyperlink{class_k_k_b_1_1_raster}{Raster}      tempRaster (*\textcolor{keyword}{this});
2583   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**     tempGreen = tempRaster.Green ();
2584   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*      tempRowData = NULL;
2585   \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3}{StructureType}  m = \hyperlink{class_k_k_b_1_1_morph_op_a7e477ebbb2c0cdd67388cb841685c02b}{MorphOp::MaskShapes} (mask);
2586 
2587   \textcolor{keywordflow}{for}  (r = row- 150;  r < row+150;  r++)
2588   \{ 
2589     \textcolor{keywordflow}{if} (r<0)
2590     r =0;
2591     maskColStart = 0 - bias;
2592     maskColEnd   = 0 + bias;
2593     
2594     tempRowData = tempGreen[r];
2595 
2596     \textcolor{keywordflow}{for}  (c = col - 10; c < col + 10; c++)
2597     \{
2598       \textcolor{keywordflow}{if}  (c < 0)
2599         c = 0;
2600       \textcolor{comment}{// cout << maskColStart <<" ";}
2601         
2602       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c]))
2603       \{
2604         fit = \textcolor{keyword}{true};
2605         \textcolor{keywordflow}{if}  ((maskRowStart <  row - 100)  || 
2606              (maskRowEnd   >= row + 100)  ||  
2607              (maskColStart <  col - 10)   ||
2608              (maskColStart >= col + 10)
2609             )
2610         \{
2611           fit = \textcolor{keyword}{false};
2612         \}
2613 
2614         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (m == \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3a04505973fd476144464695ac6483e490}{StructureType::stSquare})
2615         \{
2616           \textcolor{keywordflow}{for}  (maskRow = row - 150;  ((maskRow <= row + 150)  &&  fit);  maskRow++)
2617           \{
2618             tempRowData =  tempGreen[maskRow];
2619             \textcolor{keywordflow}{for}  (maskCol = col - 10;  maskCol <= col + 10 ; maskCol++)
2620             \{
2621               \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2622               \{
2623                 fit = \textcolor{keyword}{false};
2624                 \textcolor{keywordflow}{break};
2625               \}
2626             \}
2627           \} 
2628         \}
2629 
2630         \textcolor{keywordflow}{else}
2631         \{
2632           \textcolor{comment}{//  Cross Structure}
2633           \textcolor{keywordflow}{for}  (maskRow = row-20;  maskRow <= row+20;  maskRow++)
2634           \{
2635             \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempGreen[maskRow][c]))
2636             \{
2637               fit = \textcolor{keyword}{false};
2638               \textcolor{keywordflow}{break};
2639             \}
2640           \}
2641 
2642           tempRowData =  tempGreen[maskRow];
2643           \textcolor{keywordflow}{for}  (maskCol = col-20;  maskCol <= col+20;  maskCol++)
2644           \{
2645             \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2646             \{
2647               fit = \textcolor{keyword}{false};
2648               \textcolor{keywordflow}{break};
2649             \}
2650           \}
2651         \}
2652 
2653         \textcolor{keywordflow}{if}  (!fit)
2654           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
2655         \textcolor{keywordflow}{else}
2656           \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2657       \}
2658 
2659       maskColStart++;
2660       maskColEnd++;
2661     \}   \textcolor{comment}{/* End of for(c) */}
2662 
2663     maskRowStart++;
2664     maskRowEnd++;
2665   \}   \textcolor{comment}{/* End of for(r) */}
2666 
2667 \}  \textcolor{comment}{/* ErosionChanged */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Erosion\+Changed1@{Erosion\+Changed1}}
\index{Erosion\+Changed1@{Erosion\+Changed1}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Erosion\+Changed1(\+Mask\+Types mask, kkint32 row, kkint32 col)}{ErosionChanged1(MaskTypes mask, kkint32 row, kkint32 col)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Erosion\+Changed1 (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask, }
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ac63c5c6b86add9da92cd2e8d833b2c6c}{}\label{class_k_k_b_1_1_raster_ac63c5c6b86add9da92cd2e8d833b2c6c}


Definition at line 2671 of file Raster.\+cpp.



References background\+Pixel\+Value, K\+K\+B\+::\+Morph\+Op\+::\+Biases(), foreground\+Pixel\+Count, Green(), green, K\+K\+B\+::\+Morph\+Op\+::\+Mask\+Shapes(), Raster(), and K\+K\+B\+::\+Morph\+Op\+::st\+Square.


\begin{DoxyCode}
2675 \{
2676   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2677   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2678 
2679   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bias = \hyperlink{class_k_k_b_1_1_morph_op_affa9101a819e7103df69c8851cd7e920}{MorphOp::Biases} (mask);
2680 
2681   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowStart = 0;
2682   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRowEnd   = 0; 
2683   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColStart = 0;
2684   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskColEnd   = 0;
2685 
2686   maskRowStart = 0 - bias;
2687   maskRowEnd   = 0 + bias;
2688   maskColStart = 0 - bias;
2689   maskColEnd   = 0 + bias;
2690   
2691   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskRow;
2692   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maskCol;
2693   \textcolor{keywordtype}{bool}  fit;
2694 
2695   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2696 
2697   \hyperlink{class_k_k_b_1_1_raster}{Raster}  tempRaster (*\textcolor{keyword}{this});
2698 
2699   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**     tempGreen   = tempRaster.Green ();
2700   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*      tempRowData = NULL;
2701   \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3}{StructureType}  m = \hyperlink{class_k_k_b_1_1_morph_op_a7e477ebbb2c0cdd67388cb841685c02b}{MorphOp::MaskShapes} (mask);
2702 
2703   \textcolor{keywordflow}{for}  (r = row- 20;  r < row+20;  r++)
2704   \{ 
2705     \textcolor{keywordflow}{if}  (r < 0)
2706       r =0;
2707   
2708     maskColStart = 0 - bias;
2709     maskColEnd   = 0 + bias;
2710     
2711     tempRowData = tempGreen[r];
2712 
2713     \textcolor{keywordflow}{for}  (c = col - 150; c < col + 150; c++)
2714     \{
2715       \textcolor{keywordflow}{if}  (c < 0)
2716         c=0;
2717       \textcolor{comment}{// cout << maskColStart <<" ";}
2718         
2719       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c]))
2720       \{
2721         fit = \textcolor{keyword}{true};
2722         \textcolor{keywordflow}{if}  ((maskRowStart <  row - 50)  || 
2723              (maskRowEnd   >= row + 50)  ||  
2724              (maskColStart <  col - 100) ||
2725              (maskColStart >= col+100)
2726             )
2727         \{
2728           fit = \textcolor{keyword}{false};
2729         \}
2730 
2731         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (m == \hyperlink{class_k_k_b_1_1_morph_op_a09e4aff7e81327849855ff72082d85b3a04505973fd476144464695ac6483e490}{StructureType::stSquare})
2732         \{
2733           \textcolor{keywordflow}{for}  (maskRow = row - 20;  ((maskRow <= row + 20)  &&  fit);  maskRow++)
2734           \{
2735             tempRowData =  tempGreen[maskRow];
2736             \textcolor{keywordflow}{for}  (maskCol = col - 150;  maskCol <= col + 150 ; maskCol++)
2737             \{
2738               \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2739               \{
2740                 fit = \textcolor{keyword}{false};
2741                 \textcolor{keywordflow}{break};
2742               \}
2743             \}
2744           \} 
2745         \}
2746 
2747         \textcolor{keywordflow}{else}
2748         \{
2749           \textcolor{comment}{//  Cross Structure}
2750           \textcolor{keywordflow}{for}  (maskRow = row-20;  maskRow <= row+20;  maskRow++)
2751           \{
2752             \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempGreen[maskRow][c]))
2753             \{
2754               fit = \textcolor{keyword}{false};
2755               \textcolor{keywordflow}{break};
2756             \}
2757           \}
2758 
2759           tempRowData =  tempGreen[maskRow];
2760           \textcolor{keywordflow}{for}  (maskCol = col-20;  maskCol <= col+20;  maskCol++)
2761           \{
2762             \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (tempRowData[maskCol]))
2763             \{
2764               fit = \textcolor{keyword}{false};
2765               \textcolor{keywordflow}{break};
2766             \}
2767           \}
2768         \}
2769 
2770         \textcolor{keywordflow}{if}  (!fit)
2771           \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
2772         \textcolor{keywordflow}{else}
2773           \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2774       \}
2775 
2776       maskColStart++;
2777       maskColEnd++;
2778     \}   \textcolor{comment}{/* End of for(c) */}
2779 
2780     maskRowStart++;
2781     maskRowEnd++;
2782   \}   \textcolor{comment}{/* End of for(r) */}
2783 \}  \textcolor{comment}{/* ErosionChanged1 */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Extract\+A\+Blob@{Extract\+A\+Blob}}
\index{Extract\+A\+Blob@{Extract\+A\+Blob}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Extract\+A\+Blob(const Blob\+Ptr blob) const }{ExtractABlob(const BlobPtr blob) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Extract\+A\+Blob (
\begin{DoxyParamCaption}
\item[{const {\bf Blob\+Ptr}}]{blob}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a920f703a69e0585fb8983ecb3fa032f0}{}\label{class_k_k_b_1_1_raster_a920f703a69e0585fb8983ecb3fa032f0}


Extracts a specified blob from this image; useful to extract individual detected blobs. 

The \textquotesingle{}Extract\+Blobs\textquotesingle{} method needs to have been performed on this instance first. You would use this method after calling \textquotesingle{}Extract\+Blobs\textquotesingle{}. The extracted image will be of the same dimensions as the original image except it will extract the pixels that belong to the specified blob only. 
\begin{DoxyCode}
\textcolor{comment}{// Example of processing extracted blobs}
\textcolor{keywordtype}{void}  ProcessIndividulConectedComponents (\hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{RasterPtr}  image)
\{
  \hyperlink{namespace_k_k_b_a43f0fcfaef97a91bc290134c9a407d4d}{BlobListPtr} blobs = image->ExtractBlobs (3);
  BlobList::iterator  idx;
  \textcolor{keywordflow}{for}  (idx = blobs->begin ();  idx != end ();  ++idx)
  \{
    \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{RasterPtr}  individuleBlob = image->\hyperlink{class_k_k_b_1_1_raster_a920f703a69e0585fb8983ecb3fa032f0}{ExtractABlob} (*idx);
    DoSomethingWithIndividuleBlob (individuleBlob);
    \textcolor{keyword}{delete}  individuleBlob;
    individuleBlob = NULL;
  )
  \textcolor{keyword}{delete}  blobs;
  blobs = NULL;
\}
\end{DoxyCode}
 

Definition at line 3761 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blob\+Ids, blue, K\+K\+B\+::\+Blob\+::col\+Left, color, K\+K\+B\+::\+Blob\+::col\+Right, green, height, K\+K\+B\+::\+Blob\+::id, red, K\+K\+B\+::\+Blob\+::row\+Bot, K\+K\+B\+::\+Blob\+::row\+Top, and width.


\begin{DoxyCode}
3762 \{
3763   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  blobRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
3764 
3765   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
3766   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
3767 
3768   \textcolor{keywordflow}{for}  (row = blob->\hyperlink{class_k_k_b_1_1_blob_adeb391a75a10791e7f59566eafa847ae}{rowTop};  row <= blob->rowBot;  row++)
3769   \{
3770     \textcolor{keywordflow}{for}  (col = blob->\hyperlink{class_k_k_b_1_1_blob_a1d47c1a8131e60211a3dd91910699318}{colLeft};  col <= blob->colRight;  col++)
3771     \{
3772       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id})
3773       \{
3774         blobRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
3775         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
3776         \{
3777           blobRaster->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col];
3778           blobRaster->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col];
3779         \}
3780       \}
3781     \}
3782   \}
3783 
3784   \textcolor{keywordflow}{return}  blobRaster;
3785 \}  \textcolor{comment}{/* ExtractABlob */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Extract\+A\+Blob\+Tightly@{Extract\+A\+Blob\+Tightly}}
\index{Extract\+A\+Blob\+Tightly@{Extract\+A\+Blob\+Tightly}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Extract\+A\+Blob\+Tightly(const Blob\+Ptr blob, kkint32 padding) const }{ExtractABlobTightly(const BlobPtr blob, kkint32 padding) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Extract\+A\+Blob\+Tightly (
\begin{DoxyParamCaption}
\item[{const {\bf Blob\+Ptr}}]{blob, }
\item[{{\bf kkint32}}]{padding}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a6f5f3da9439ecb65a8bb485f669d1759}{}\label{class_k_k_b_1_1_raster_a6f5f3da9439ecb65a8bb485f669d1759}


Extracts a specified blob from this image into a tightly bounded image. 

Similar to \textquotesingle{}Extract\+A\+Blob\textquotesingle{} except that the returned image will have the dimension necessary to contain the specified blob with the specified number of padded row and columns. 

Definition at line 3722 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blob\+Ids, blue, K\+K\+B\+::\+Blob\+::col\+Left, color, K\+K\+B\+::\+Blob\+::col\+Right, green, K\+K\+B\+::\+Blob\+::\+Height(), K\+K\+B\+::\+Blob\+::id, red, K\+K\+B\+::\+Blob\+::row\+Bot, K\+K\+B\+::\+Blob\+::row\+Top, and K\+K\+B\+::\+Blob\+::\+Width().


\begin{DoxyCode}
3725 \{
3726   \textcolor{keywordflow}{if}  (blob == NULL)
3727     \textcolor{keywordflow}{return} NULL;
3728 
3729   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  blobRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (blob->
      \hyperlink{class_k_k_b_1_1_blob_aa38a04e912ff9abf0abb950a69b65955}{Height} () + 2 * padding, blob->\hyperlink{class_k_k_b_1_1_blob_a5cc53690365e2b055c52f159de2efd1b}{Width} () + 2 * padding, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
3730 
3731   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobRow = padding;
3732   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobCol = padding;
3733 
3734   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;
3735   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
3736 
3737   \textcolor{keywordflow}{for}  (row = blob->\hyperlink{class_k_k_b_1_1_blob_adeb391a75a10791e7f59566eafa847ae}{rowTop};  row <= blob->rowBot;  row++)
3738   \{
3739     blobCol = padding;
3740     \textcolor{keywordflow}{for}  (col = blob->\hyperlink{class_k_k_b_1_1_blob_a1d47c1a8131e60211a3dd91910699318}{colLeft};  col <= blob->colRight;  col++)
3741     \{
3742       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id})
3743       \{
3744         blobRaster->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[blobRow][blobCol] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
3745         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
3746         \{
3747           blobRaster->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [blobRow][blobCol] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col];
3748           blobRaster->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[blobRow][blobCol] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col];
3749         \}
3750       \}
3751       blobCol++;
3752     \}
3753     blobRow++;
3754   \}
3755   \textcolor{keywordflow}{return}  blobRaster;
3756 \}  \textcolor{comment}{/* ExtractABlobTightly */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Extract\+Blobs@{Extract\+Blobs}}
\index{Extract\+Blobs@{Extract\+Blobs}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Extract\+Blobs(kkint32 dist)}{ExtractBlobs(kkint32 dist)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Blob\+List\+Ptr} Raster\+::\+Extract\+Blobs (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{dist}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5d6059f6d0020e493683b2a00a6a8821}{}\label{class_k_k_b_1_1_raster_a5d6059f6d0020e493683b2a00a6a8821}


Will extract a list of connected components from this instance. 

Will perform a connected component analysis and label each individual blob. A list of blob descriptors will be returned. These blob descriptors can then be used to access individual blobs. See \textquotesingle{}Extract\+A\+Blob\textquotesingle{} for an example on how to use this method. The \textquotesingle{}Foreground\+Pixel\textquotesingle{} method is used to determine if a given pixel is foreground or background.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dist} & The distance in pixels that two different pixel locations have to be for them to be considered connected. \char`\"{}dist = 1\char`\"{} would indicate that two pixels have to be directly connected. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of \hyperlink{class_k_k_b_1_1_blob}{Blob} descriptor instances. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_b_1_1_raster_a920f703a69e0585fb8983ecb3fa032f0}{Extract\+A\+Blob}, \hyperlink{class_k_k_b_1_1_raster_a6f5f3da9439ecb65a8bb485f669d1759}{Extract\+A\+Blob\+Tightly}, \hyperlink{class_k_k_b_1_1_blob}{Blob} 
\end{DoxySeeAlso}


Definition at line 3200 of file Raster.\+cpp.



References blob\+Ids, K\+K\+B\+::\+Blob\+List\+::\+Blob\+List(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), green, height, K\+K\+B\+::\+Blob\+::\+Id(), K\+K\+B\+::\+Blob\+::id, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+Blob\+List\+::\+Look\+Up\+By\+Blob\+Id(), K\+K\+B\+::\+Blob\+List\+::\+Merge\+Into\+Single\+Blob(), K\+K\+B\+::\+Blob\+List\+::\+New\+Blob(), K\+K\+B\+::\+Blob\+::pixel\+Count, and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector(), Connected\+Component(), and Reduce\+To\+Most\+Complete\+Blob().


\begin{DoxyCode}
3201 \{
3202   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   curRow         = NULL;
3203   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*   curRowBlobIds  = NULL;
3204 
3205   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 2;
3206   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 2;
3207 
3208   \hyperlink{class_k_k_b_1_1_blob}{BlobPtr}  curBlob    = NULL;
3209   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  curBlobId  = 0;
3210   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nearBlobId = 0;
3211 
3212   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blankColsInARow = 0;
3213 
3214   AllocateBlobIds ();  
3215 
3216   \hyperlink{class_k_k_b_1_1_blob_list}{BlobListPtr} blobs = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_blob_list}{BlobList} (\textcolor{keyword}{true});
3217 
3218   \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++row)
3219   \{
3220     curRow        = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
3221     curRowBlobIds = \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row];
3222 
3223     curBlob = NULL;
3224 
3225     col = 0;
3226     \textcolor{keywordflow}{while}  (col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
3227     \{
3228       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (curRow[col]))
3229       \{
3230         blankColsInARow = 0;
3231 
3232         nearBlobId = NearestNeighborUpperLeft (row, col, dist);
3233         \textcolor{keywordflow}{if}  (nearBlobId < 0)
3234           nearBlobId = NearestNeighborUpperRight (row, col, dist);
3235 
3236 
3237         \textcolor{keywordflow}{if}  (curBlob)
3238         \{
3239           \textcolor{keywordflow}{if}  (nearBlobId >= 0)
3240           \{
3241             \textcolor{keywordflow}{if}  (nearBlobId != curBlobId)
3242             \{
3243               curBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a6fb445ebcc2275344dd3301cc0b72bb1}{MergeIntoSingleBlob} (curBlob, nearBlobId, 
      \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds});
3244               curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3245             \}
3246           \}
3247 
3248           curRowBlobIds[col] = curBlobId;
3249           curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}  = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}, col);
3250           curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot}    = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot},   row);
3251           curBlob->\hyperlink{class_k_k_b_1_1_blob_a415767d4a364df537d7b2fc06a95721d}{pixelCount}++;
3252         \}
3253         \textcolor{keywordflow}{else}
3254         \{
3255           \textcolor{comment}{// No Current Blob}
3256           \textcolor{keywordflow}{if}  (nearBlobId >= 0)
3257           \{
3258             curBlob   = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a3acd3cdb0c08780511f2087f72749b91}{LookUpByBlobId} (nearBlobId);
3259             \textcolor{keywordflow}{if}  (curBlob)
3260               curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id};
3261             \textcolor{keywordflow}{else}
3262             \{
3263               \textcolor{comment}{// If we get to this point there is something wrong with the 'blobs' data structure; for
       every blobId}
3264               \textcolor{comment}{// specified in blobIds(via nearBlobId) there should be a entry in 'blobs'.}
3265               curBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a4542efb8f886b31c58f0a03507d20e69}{NewBlob}(row, col);
3266               \textcolor{keywordflow}{if}  (!curBlob)  \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException}(\textcolor{stringliteral}{" Raster::ExtractBlobs   curBlob == NULL"});
3267 
3268               curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id};
3269             \}
3270           \}
3271           \textcolor{keywordflow}{else}
3272           \{
3273             curBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a4542efb8f886b31c58f0a03507d20e69}{NewBlob} (row, col);
3274             \textcolor{keywordflow}{if}  (!curBlob)
3275             \{
3276               \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr} errMsg = \textcolor{stringliteral}{"Raster::ExtractBlobs   ***ERROR***   allocation of new 'curBlob' failed.
      "};
3277               cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
3278               \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
3279             \}
3280             curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_af752299192d447637bd6c56d4b1e0660}{id};
3281           \}
3282 
3283           curRowBlobIds[col] = curBlobId;
3284           curBlob->\hyperlink{class_k_k_b_1_1_blob_a1d47c1a8131e60211a3dd91910699318}{colLeft}   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (curBlob->\hyperlink{class_k_k_b_1_1_blob_a1d47c1a8131e60211a3dd91910699318}{colLeft},  col);
3285           curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}  = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_a3786c83aeb9b92bc076c14afcc99c463}{colRight}, col);
3286           curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot}    = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (curBlob->\hyperlink{class_k_k_b_1_1_blob_ae6f6816134ac19c54071eca96dd89910}{rowBot},   row);
3287           curBlob->\hyperlink{class_k_k_b_1_1_blob_adeb391a75a10791e7f59566eafa847ae}{rowTop}    = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (curBlob->\hyperlink{class_k_k_b_1_1_blob_adeb391a75a10791e7f59566eafa847ae}{rowTop},   row);
3288           curBlob->\hyperlink{class_k_k_b_1_1_blob_a415767d4a364df537d7b2fc06a95721d}{pixelCount}++;
3289         \}
3290       \}
3291       \textcolor{keywordflow}{else}
3292       \{
3293         \textcolor{comment}{// Background Pixel}
3294         \textcolor{keywordflow}{if}  (curBlob)
3295         \{
3296           nearBlobId = NearestNeighborUpperLeft (row, col, dist);
3297 
3298           \textcolor{keywordflow}{if}  (nearBlobId >= 0)
3299           \{
3300             \textcolor{keywordflow}{if}  (nearBlobId != curBlobId)
3301             \{
3302               curBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a6fb445ebcc2275344dd3301cc0b72bb1}{MergeIntoSingleBlob} (curBlob, nearBlobId, 
      \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds});
3303               curBlobId = curBlob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3304             \}
3305           \}
3306         \}
3307         
3308         blankColsInARow++;
3309         \textcolor{keywordflow}{if}  (blankColsInARow > dist)
3310         \{
3311           curBlob = NULL;
3312           curBlobId = -1;
3313         \}
3314       \}
3315 
3316       col++;
3317     \}
3318   \}
3319 
3320   \textcolor{keywordflow}{return}  blobs;
3321 \}  \textcolor{comment}{/* ExtractBlobs */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Extract\+Channel@{Extract\+Channel}}
\index{Extract\+Channel@{Extract\+Channel}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Extract\+Channel(\+Color\+Channels channel)}{ExtractChannel(ColorChannels channel)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Extract\+Channel (
\begin{DoxyParamCaption}
\item[{{\bf Color\+Channels}}]{channel}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_afe394fc6faac00f67a5cde4c1f3b70cb}{}\label{class_k_k_b_1_1_raster_afe394fc6faac00f67a5cde4c1f3b70cb}


Will return a gray-\/scale image consisting of the specified color channel only. 



Definition at line 7717 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Blue\+Area(), color, K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), File\+Name(), K\+K\+B\+::\+Green, Green\+Area(), height, K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::os\+Get\+Root\+Name(), K\+K\+B\+::\+Red, Red\+Area(), and width.



Referenced by Segment\+Image().


\begin{DoxyCode}
7718 \{
7719   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7720     \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
7721 
7722   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  r = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
7723 
7724   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  src = NULL;
7725 
7726   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  rootName = \hyperlink{namespace_k_k_b_af5b668ed9902d7f93b62529664a739f0}{osGetRootName} (\hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{FileName} ());
7727 
7728   \textcolor{keywordflow}{if}  (channel == \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718aee38e4d5dd68c4e440825018d549cb47}{ColorChannels::Red})
7729   \{
7730     r->\hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{FileName} (rootName + \textcolor{stringliteral}{"\_Red.bmp"}) ;
7731     src = \hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{RedArea} ();
7732   \}
7733 
7734   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (channel == \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718ad382816a3cbeed082c9e216e7392eed1}{ColorChannels::Green})
7735   \{
7736     r->\hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{FileName} (rootName + \textcolor{stringliteral}{"\_Green.bmp"}) ;
7737     src = \hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
7738   \}
7739 
7740   \textcolor{keywordflow}{else} 
7741   \{
7742     r->\hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{FileName} (rootName + \textcolor{stringliteral}{"\_Blue.bmp"}) ;
7743     src = \hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{BlueArea} ();
7744   \}
7745 
7746   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  dest = r->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
7747 
7748   memcpy (dest, src, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
7749 
7750   \textcolor{keywordflow}{return}  r;
7751 \}  \textcolor{comment}{/* ExtractChannel */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Extract\+Using\+Mask@{Extract\+Using\+Mask}}
\index{Extract\+Using\+Mask@{Extract\+Using\+Mask}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Extract\+Using\+Mask(\+Raster\+Ptr mask)}{ExtractUsingMask(RasterPtr mask)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Extract\+Using\+Mask (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a92640499842068eb907e5022ce86fc8c}{}\label{class_k_k_b_1_1_raster_a92640499842068eb907e5022ce86fc8c}


Extracts the pixel locations where the \textquotesingle{}mask\textquotesingle{} images pixel location is a foreground pixel. 



Definition at line 7759 of file Raster.\+cpp.



References Background\+Pixel\+T\+H(), Background\+Pixel\+Value(), Blue(), blue, color, Foreground\+Pixel\+Value(), Green(), green, height, Raster(), Red(), red, and width.


\begin{DoxyCode}
7760 \{
7761   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
7762   result->\hyperlink{class_k_k_b_1_1_raster_a96e0ed160e633c316cf83890ef3438eb}{BackgroundPixelTH}    (this->\hyperlink{class_k_k_b_1_1_raster_a96e0ed160e633c316cf83890ef3438eb}{BackgroundPixelTH}    ());
7763   result->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} (this->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} ());
7764   result->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} (this->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} ());
7765 
7766   \textcolor{keywordflow}{if}  (!mask)
7767     \textcolor{keywordflow}{return}  result;
7768 
7769   \textcolor{keywordtype}{int}  heighToUse = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, mask->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ());
7770   \textcolor{keywordtype}{int}  widthToUse = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width},  mask->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width}  ());
7771 
7772   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  maskBackgroundValue = mask->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} ();
7773   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  maskBackgroundTH    = mask->\hyperlink{class_k_k_b_1_1_raster_a96e0ed160e633c316cf83890ef3438eb}{BackgroundPixelTH} ();
7774 
7775 
7776   \textcolor{keywordflow}{for}  (\textcolor{keywordtype}{int} row = 0;  row < heighToUse;  ++row)
7777   \{
7778     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  maskRow = (mask->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ())[row];
7779 
7780     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultGreenRow = (result->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ())[row];
7781     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcGreenRow = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
7782 
7783     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultRedRow  = NULL;
7784     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRedRow     = NULL;
7785 
7786     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  resultBlueRow = NULL;
7787     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcBlueRow    = NULL;
7788 
7789     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7790     \{
7791       resultRedRow  = (result->\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}  ())[row];
7792       srcRedRow     = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[row];
7793       resultBlueRow = (result->\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue} ())[row];
7794       srcBlueRow    = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row];
7795     \}
7796 
7797     \textcolor{keywordflow}{for}  (\textcolor{keywordtype}{int} col = 0;  col < widthToUse;  ++col)
7798     \{
7799       \textcolor{keywordtype}{bool}  backgroundPix = (maskBackgroundValue < 125) ? (maskRow[col] <= maskBackgroundTH) :
       (maskRow[col] >= maskBackgroundTH);
7800       \textcolor{keywordtype}{bool}  usePixel = !backgroundPix;
7801       \textcolor{keywordflow}{if}  (usePixel)
7802       \{
7803         resultGreenRow[col] = srcGreenRow[col];
7804         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7805         \{
7806           resultRedRow [col] = srcRedRow  [col];
7807           resultBlueRow[col] = srcBlueRow [col];
7808         \}
7809       \}
7810     \}
7811   \}
7812   \textcolor{keywordflow}{return}  result;
7813 \}  \textcolor{comment}{/* ExtractUsingMask */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fast\+Fourier@{Fast\+Fourier}}
\index{Fast\+Fourier@{Fast\+Fourier}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fast\+Fourier() const }{FastFourier() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Fast\+Fourier (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a4a74dade8e36080787196869aec765ac}{}\label{class_k_k_b_1_1_raster_a4a74dade8e36080787196869aec765ac}


Definition at line 5016 of file Raster.\+cpp.



References fourier\+Mag\+Area, green\+Area, height, Raster(), tot\+Pixels, and width.


\begin{DoxyCode}
5017 \{
5018 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
5019     fftwf\_complex*   src  = NULL;
5020     fftwf\_complex*   dest = NULL;
5021     fftwf\_plan       plan = NULL;
5022 \textcolor{preprocessor}{  #else}
5023     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d}{KK\_DFT2D\_Float}  plan (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
5024 
5025     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}*   srcArea = NULL;
5026     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}**  src     = NULL;
5027 
5028     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}*   destArea = NULL;
5029     \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}**  dest     = NULL;
5030 \textcolor{preprocessor}{  #endif}
5031 
5032   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} <= 0)
5033   \{
5034     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5035       << \textcolor{stringliteral}{"Raster::FastFourier   ***ERROR***      totPixels == 0."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5036       << \textcolor{stringliteral}{"              FileName["} << this->\hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{FileName} () << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5037       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
5038     \textcolor{keywordflow}{return} NULL;
5039   \}
5040 
5041   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
5042   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
5043 
5044   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  idx = 0;
5045 
5046 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
5047     src  = (fftwf\_complex*)fftwf\_malloc (\textcolor{keyword}{sizeof} (fftwf\_complex) * \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
5048     dest = (fftwf\_complex*)fftwf\_malloc (\textcolor{keyword}{sizeof} (fftwf\_complex) * \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
5049 \textcolor{preprocessor}{  #else}
5050     plan.AllocateArray (srcArea,  src);
5051     plan.AllocateArray (destArea, dest);
5052 \textcolor{preprocessor}{  #endif}
5053 
5054   \textcolor{keywordflow}{if}  (src == NULL)
5055   \{
5056     std::cerr 
5057         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} 
5058         << \textcolor{stringliteral}{"Raster::FastFourier   ***ERROR***    Allocation of 'src' failed'"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5059         << \textcolor{stringliteral}{"              totPixels["} << \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5060         << \textcolor{stringliteral}{"              FileName["} << \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}   << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5061         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
5062     \textcolor{keywordflow}{return} NULL;
5063   \}
5064 
5065   \textcolor{keywordflow}{if}  (dest == NULL)
5066   \{
5067     std::cerr 
5068         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5069         << \textcolor{stringliteral}{"Raster::FastFourier   ***ERROR***    Allocation of 'dest' failed'"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5070         << \textcolor{stringliteral}{"              totPixels["} << \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5071         << \textcolor{stringliteral}{"              FileName["} << \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}   << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5072         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
5073     \textcolor{keywordflow}{return} NULL;
5074   \}
5075 
5076   \textcolor{comment}{// float scalingFact = (float)255.0 / maxPixVal;   // kk  2004-May-18}
5077 
5078   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++ )
5079   \{
5080     \textcolor{keywordflow}{for} (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++ )
5081     \{     
5082       \textcolor{comment}{// src[idx].re = (float)green[row][col] * scalingFact;}
5083 \textcolor{preprocessor}{      #if  defined(FFTW\_AVAILABLE)}
5084         src[idx][0] = (float)\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
5085         src[idx][1] = 0.0;
5086 \textcolor{preprocessor}{      #else}
5087         srcArea[idx].real ((\textcolor{keywordtype}{float})\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[idx]);
5088         srcArea[idx].imag (0.0);
5089 \textcolor{preprocessor}{      #endif}
5090       idx++;
5091     \}
5092   \}
5093   
5094 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
5095     plan = fftwCreateTwoDPlan (height, width, src, dest, FFTW\_FORWARD, FFTW\_ESTIMATE);
5096     fftwf\_execute (plan);
5097     fftwDestroyPlan (plan);
5098 \textcolor{preprocessor}{  #else}
5099     plan.Transform (src, dest);
5100 \textcolor{preprocessor}{  #endif}
5101 
5102 
5103   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} fourierImage = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (height, width);
5104 
5105   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destData = fourierImage->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
5106 
5107   fourierImage->AllocateFourierMagnitudeTable ();
5108   \textcolor{keywordtype}{float}* fourierMagArray = fourierImage->\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea};
5109 
5110   \textcolor{keywordtype}{float}  mag = (float)0;
5111 
5112   \textcolor{keywordtype}{float}  maxAmplitude = (float)0;
5113 
5114   \textcolor{keywordflow}{for}  (idx = 0; idx < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}; idx++)
5115   \{
5116 \textcolor{preprocessor}{    #if  defined(FFTW\_AVAILABLE)}
5117       \textcolor{keywordtype}{float} real = dest[idx][0];
5118       \textcolor{keywordtype}{float} imag = dest[idx][1];
5119 \textcolor{preprocessor}{    #else}
5120       \textcolor{keywordtype}{float} real = destArea[idx].real ();
5121       \textcolor{keywordtype}{float} imag = destArea[idx].imag ();
5122 \textcolor{preprocessor}{    #endif}
5123 
5124     \textcolor{comment}{// mag = (float)log10 (sqrt (real * real + imag * imag));}
5125     mag = (float)(sqrt (real * real + imag * imag));
5126 
5127     \textcolor{keywordflow}{if}  (mag > maxAmplitude)
5128       maxAmplitude = mag;
5129 
5130     fourierMagArray[idx] = mag;  \textcolor{comment}{// kk 2004-May-18}
5131   \}
5132 
5133   \textcolor{keywordtype}{float}  maxAmplitudeLog = log (maxAmplitude);
5134 
5135   idx = 0;
5136   \textcolor{keywordflow}{for} (idx = 0; idx < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}; idx++ )
5137   \{
5138     \textcolor{comment}{//  mag = (float)sqrt (dest[idx].re * dest[idx].re + dest[idx].im * dest[idx].im);  // kk 2004-May-18}
5139     mag = fourierMagArray[idx];                                                          \textcolor{comment}{// kk 2004-May-18}
5140 
5141     \textcolor{comment}{// destData[idx] = (uchar)(dest[idx].re * maxPixVal / maxAmplitude);}
5142 
5143     \textcolor{comment}{// kk  2004-May-18}
5144     \textcolor{comment}{// Changed the above line to use the constant 255 instead of maxPixVal,  }
5145     \textcolor{comment}{// If we have an image who's maxPixVal is less than 255 then the values}
5146     \textcolor{comment}{// being calculated for the Fourier features will not be consistent.}
5147     \textcolor{comment}{// destData[idx] = (uchar)(dest[idx].re * 255 / maxAmplitude);}
5148     destData[idx] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(log (fourierMagArray[idx]) * 255.0f / maxAmplitudeLog);
5149   \}            
5150 
5151 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
5152     fftwf\_free (src);   src  = NULL;
5153     fftwf\_free (dest);  dest = NULL;
5154 \textcolor{preprocessor}{  #else}
5155     plan.DestroyArray (srcArea,  src);
5156     plan.DestroyArray (destArea, dest);
5157 \textcolor{preprocessor}{  #endif}
5158 
5159   \textcolor{keywordflow}{return}  fourierImage;
5160 \}  \textcolor{comment}{/* FastFourier */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fast\+Fourier\+KK@{Fast\+Fourier\+KK}}
\index{Fast\+Fourier\+KK@{Fast\+Fourier\+KK}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fast\+Fourier\+K\+K() const }{FastFourierKK() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Fast\+Fourier\+KK (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a88808cc3166c4285d93074c408aa8895}{}\label{class_k_k_b_1_1_raster_a88808cc3166c4285d93074c408aa8895}


Definition at line 4939 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), fourier\+Mag\+Area, green\+Area, height, tot\+Pixels, and width.


\begin{DoxyCode}
4940 \{
4941 
4942   \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d}{KK\_DFT2D\_Float}  plan (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
4943   \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}**  dest;
4944   \hyperlink{class_k_k_b_1_1_k_k___d_f_t2_d_a3277abaea54d0d88958f030092b9ac38}{KK\_DFT2D\_Float::DftComplexType}*   destArea;
4945   plan.AllocateArray (destArea, dest);
4946 
4947   \textcolor{keywordflow}{if}  (destArea == NULL)
4948   \{
4949     std::cerr 
4950         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
4951         << \textcolor{stringliteral}{"Raster::FastFourierKK   ***ERROR***    Allocation of 'dest' failed'"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
4952         << \textcolor{stringliteral}{"              totPixels["} << \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
4953         << \textcolor{stringliteral}{"              FileName["} << \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}   << \textcolor{stringliteral}{"]"}    << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
4954         << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
4955     \textcolor{keywordflow}{return} NULL;
4956   \}
4957 
4958   plan.Transform (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}, dest);
4959 
4960   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} fourierImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
4961 
4962   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destData = fourierImage->\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
4963 
4964   fourierImage->AllocateFourierMagnitudeTable ();
4965   \textcolor{keywordtype}{float}* fourierMagArray = fourierImage->\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea};
4966 
4967   \textcolor{keywordtype}{float}  mag = 0.0f;
4968 
4969   \textcolor{keywordtype}{float}  maxAmplitude = 0.0f;
4970 
4971   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} idx = 0;
4972   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++ )
4973   \{
4974     \textcolor{keywordflow}{for} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++ )
4975     \{
4976       \textcolor{keywordtype}{double}  r = dest[row][col].real ();
4977       \textcolor{keywordtype}{double}  i = dest[row][col].imag ();
4978 
4979       mag = (float)(sqrt (r * r + i * i));
4980       \textcolor{keywordflow}{if}  (mag > maxAmplitude)
4981         maxAmplitude = mag;
4982 
4983       fourierMagArray[idx] = mag;  \textcolor{comment}{// kk 2004-May-18}
4984       ++idx;
4985     \}
4986   \}
4987 
4988   \textcolor{keywordtype}{float}  maxAmplitudeLog = log (maxAmplitude);
4989 
4990   idx = 0;
4991   \textcolor{keywordflow}{for} (idx = 0; idx < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}; idx++ )
4992   \{
4993     \textcolor{comment}{//  mag = (float)sqrt (dest[idx].re * dest[idx].re + dest[idx].im * dest[idx].im);  // kk 2004-May-18}
4994     mag = fourierMagArray[idx];                                                         \textcolor{comment}{// kk 2004-May-18}
4995 
4996     \textcolor{comment}{// destData[idx] = (uchar)(dest[idx].re * maxPixVal / maxAmplitude);}
4997 
4998     \textcolor{comment}{// kk  2004-May-18}
4999     \textcolor{comment}{// Changed the above line to use the constant 255 instead of maxPixVal,  }
5000     \textcolor{comment}{// If we have an image who's maxPixVal is less than 255 then the values}
5001     \textcolor{comment}{// being calculated for the Fourier features will not be consistent.}
5002     \textcolor{comment}{// destData[idx] = (uchar)(dest[idx].re * 255 / maxAmplitude);}
5003     destData[idx] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(log (fourierMagArray[idx]) * 255.0f / maxAmplitudeLog);
5004   \}
5005 
5006   \textcolor{keyword}{delete}  dest;      dest     = NULL;
5007   \textcolor{keyword}{delete}  destArea;  destArea = NULL;
5008 
5009   \textcolor{keywordflow}{return}  fourierImage;
5010 \}  \textcolor{comment}{/* FastFourierKK */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!File\+Name@{File\+Name}}
\index{File\+Name@{File\+Name}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{File\+Name() const }{FileName() const }}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf K\+K\+Str}\& K\+K\+B\+::\+Raster\+::\+File\+Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{}\label{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}


Definition at line 315 of file Raster.\+h.



References file\+Name.



Referenced by Extract\+Channel().


\begin{DoxyCode}
315 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!File\+Name@{File\+Name}}
\index{File\+Name@{File\+Name}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{File\+Name(const K\+K\+Str \&\+\_\+file\+Name)}{FileName(const KKStr &_fileName)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+File\+Name (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+file\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_ab9954a7ba274481a1188494328e22071}{}\label{class_k_k_b_1_1_raster_ab9954a7ba274481a1188494328e22071}


Definition at line 346 of file Raster.\+h.



References file\+Name, and K\+K\+B\+::\+K\+K\+Str\+::operator=().



Referenced by Extract\+Channel().


\begin{DoxyCode}
346 \{\hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}             = \_fileName;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fill\+Blob@{Fill\+Blob}}
\index{Fill\+Blob@{Fill\+Blob}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fill\+Blob(\+Raster\+Ptr orig\+Image, Blob\+Ptr blob, Pixel\+Value color)}{FillBlob(RasterPtr origImage, BlobPtr blob, PixelValue color)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Fill\+Blob (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{orig\+Image, }
\item[{{\bf Blob\+Ptr}}]{blob, }
\item[{{\bf Pixel\+Value}}]{color}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a0a760739608520ceb59da06ac9ff02d1}{}\label{class_k_k_b_1_1_raster_a0a760739608520ceb59da06ac9ff02d1}


Will paint the specified blob with the specified color. 


\begin{DoxyCode}
Example Use:
   \hyperlink{namespace_k_k_b_a43f0fcfaef97a91bc290134c9a407d4d}{BlobListPtr}  blobs = srcImage->ExctractBlobs (1);
   \hyperlink{class_k_k_b_1_1_raster_aefa532857fd6aa9eb53f79da55a97c5a}{RasterPtr}  labeledColorImage = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (srcImage->Height (), srcImage->Width (), \textcolor{keyword}{true})
      ;
   BlobList::iterator  idx;
   \textcolor{keywordflow}{for}  (idx = blobs->begin ();  idx != blobs->end ();  ++idx)
   \{
     \hyperlink{namespace_k_k_b_a4fa91a7788b982654fca9d7319b98cb4}{BlobPtr}  blob = *idx;
     labeledColorImage->FillBlob (srcImage, blob, \hyperlink{class_k_k_b_1_1_pixel_value_a9d2c067be56aec7c69d00ec701020fca}{PixelValue::Red});
   \}
\end{DoxyCode}
 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em orig\+Image} & The image where the blob was extracted from. \\
\hline
\mbox{\tt in}  & {\em blob} & The specific blob that you want to fill in/ paint. \\
\hline
\mbox{\tt in}  & {\em color} & that is to be filled in. \\
\hline
\end{DoxyParams}


Definition at line 9885 of file Raster.\+cpp.



References blob\+Ids, Height(), height, K\+K\+B\+::\+Blob\+::\+Id(), Set\+Pixel\+Value(), Width(), and width.


\begin{DoxyCode}
9889 \{
9890   \textcolor{keywordflow}{if}  (blob == NULL)
9891     \textcolor{keywordflow}{return};
9892 
9893   \textcolor{keywordflow}{if}  (origImage->\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} == NULL)
9894     \textcolor{keywordflow}{return};
9895 
9896   \textcolor{keywordflow}{if}  ((origImage->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||  (origImage->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
9897     \textcolor{keywordflow}{return};
9898 
9899   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobId = blob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
9900   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0, col = 0;
9901 
9902   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowStart = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_ab6735f537773b0a21f2e37c8793f8868}{RowTop}   (), \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
9903   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowEnd   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a6ffc22c0be20c597d49b0f5aa7aad008}{RowBot}   (), \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
9904   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colStart = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a42dc8a4c5009bcc67cbc39848169559a}{ColLeft}  (), \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);
9905   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colEnd   = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (blob->\hyperlink{class_k_k_b_1_1_blob_a9ae87430e9269e0fbfcd88a2d5891b88}{ColRight} (), \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1);
9906 
9907   \textcolor{keywordflow}{for}  (row = rowStart;  row <= rowEnd;  ++row)
9908   \{
9909     \textcolor{keywordflow}{for}  (col = colStart;  col <= colEnd;  ++col)
9910     \{
9911       \textcolor{keywordflow}{if}  (origImage->\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blobId)
9912       \{
9913         \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (row, col, color);
9914       \}
9915     \}
9916   \}
9917 \}  \textcolor{comment}{/* FillBlob */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fill\+Hole@{Fill\+Hole}}
\index{Fill\+Hole@{Fill\+Hole}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fill\+Hole()}{FillHole()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Fill\+Hole (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a617d427bb2b7094a9d012e63036a66d8}{}\label{class_k_k_b_1_1_raster_a617d427bb2b7094a9d012e63036a66d8}


Definition at line 2047 of file Raster.\+cpp.



References foreground\+Pixel\+Count, foreground\+Pixel\+Value, green, height, Raster(), and width.



Referenced by Calc\+Area\+And\+Intensity\+Features(), Calc\+Area\+And\+Intensity\+Histogram\+White(), and Derive\+Image\+Length().


\begin{DoxyCode}
2048 \{
2049   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r;
2050   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c;
2051   \hyperlink{class_k_k_b_1_1_raster}{Raster}  mask (*\textcolor{keyword}{this});
2052 
2053   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  maskRows = mask.green;
2054 
2055   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastRow = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1;
2056   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastCol = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  - 1;
2057 
2058   \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
2059   \{
2060     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (maskRows[0][c]))
2061       mask.FillHoleGrow (0, c);
2062 
2063     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (maskRows[lastRow][c]))
2064       mask.FillHoleGrow (lastRow, c);
2065   \}
2066 
2067   \textcolor{keywordflow}{for}  (r = 0; r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; r++)     
2068   \{
2069     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (maskRows[r][0]))
2070       mask.FillHoleGrow (r, 0);
2071 
2072     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (maskRows[r][lastCol]))
2073       mask.FillHoleGrow (r, lastCol);
2074   \}
2075 
2076   \textcolor{comment}{// Now that we know what pixels are background that are connected to one of the boarders,  any other
       white pixel}
2077   \textcolor{comment}{// must be in a hole inside the image.}
2078   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2079   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  curRow = NULL;
2080   \textcolor{keywordflow}{for}  (r = 0; r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; r++)
2081   \{
2082     curRow = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r];
2083     \textcolor{keywordflow}{for}  (c = 0; c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
2084     \{
2085       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (curRow[c]))
2086       \{
2087         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (maskRows[r][c]))
2088         \{
2089           curRow[c] = \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue};
2090           \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2091         \}
2092       \}
2093       \textcolor{keywordflow}{else}
2094       \{
2095         \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}++;
2096       \}
2097     \}
2098   \}
2099   
2100   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = 0;
2101 \}  \textcolor{comment}{/* FillHole */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fill\+Hole@{Fill\+Hole}}
\index{Fill\+Hole@{Fill\+Hole}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fill\+Hole(\+Raster\+Ptr mask)}{FillHole(RasterPtr mask)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Fill\+Hole (
\begin{DoxyParamCaption}
\item[{{\bf Raster\+Ptr}}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ab419a5200300c0d6193486db1807d7c3}{}\label{class_k_k_b_1_1_raster_ab419a5200300c0d6193486db1807d7c3}


Fills holes in the image using the \textquotesingle{}mask\textquotesingle{} raster as a work area. 

Any pixel that is not a foreground pixels that has not path by a cross structure to the edge of the image will be painted with the foreground pixel value. The \textquotesingle{}mask\textquotesingle{} raster instance provided will be used as a temporary work area. If its dimensions are not the same as this instance it will e resized. 

Definition at line 2107 of file Raster.\+cpp.



References background\+Pixel\+TH, foreground\+Pixel\+Count, foreground\+Pixel\+Value, Green(), Green\+Area(), Height(), height, Re\+Size(), tot\+Pixels, Width(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
2108 \{
2109   \textcolor{keywordflow}{if}  ((mask->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () != \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  |  (mask->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () != \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
2110     mask->\hyperlink{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{ReSize} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
2111 
2112   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   srcArea = this->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
2113   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  srcRows = this->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
2114 
2115   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   maskArea = mask->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
2116   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  maskRows = mask->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
2117 
2118   memset (maskArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
2119 
2120   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} c, r, x;
2121 
2122   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x)
2123   \{
2124     \textcolor{keywordflow}{if}  (srcArea[x] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
2125       maskArea[x] = 255;
2126   \}
2127 
2128   \{
2129     \textcolor{comment}{// Check Top and Bottom Mask Rows for background pixels and flag them as having access to the border.}
2130     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowTop = maskRows[0];
2131     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowBot = maskRows[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1];
2132 
2133     \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
2134     \{
2135       \textcolor{keywordflow}{if}  (rowTop[c] == 0)
2136         rowTop[c] = 1;
2137       \textcolor{keywordflow}{if}  (rowBot[c] == 0)
2138         rowBot[c] = 1;
2139     \}
2140   \}
2141 
2142   \{
2143     \textcolor{comment}{// Check Left and Right columns for background pixels and flag them as having access to the border.}
2144     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  leftCol  = maskArea;
2145     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rightCol = maskArea + (width - 1);
2146     \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
2147     \{
2148       \textcolor{keywordflow}{if}  (*leftCol == 0)
2149         *leftCol = 1;
2150       \textcolor{keywordflow}{if}  (*rightCol == 0)
2151         *rightCol = 1;
2152 
2153       leftCol  += \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2154       rightCol += \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2155     \}
2156   \}
2157 
2158 
2159   \textcolor{comment}{// We will not iteratively scan the Mask image for pixels that have access top the edge of the image.}
2160   \textcolor{comment}{// We will repeat the following loop until no pixels get flagged.}
2161   \textcolor{keywordtype}{bool}  fillInFound = \textcolor{keyword}{false};
2162   \textcolor{keywordflow}{do}
2163   \{
2164     fillInFound = \textcolor{keyword}{false};
2165 
2166     \textcolor{comment}{// Scan from TopLeft  to  BotRight}
2167     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowPrev  = maskArea;
2168     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowCur   = rowPrev + \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2169     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowNext  = rowCur  + \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2170 
2171     \textcolor{keywordflow}{for}  (r = 1;  r < (height - 1);  ++r)
2172     \{
2173       \textcolor{keywordflow}{for}  (c = 1;  c < (width - 1);  ++c)
2174       \{
2175         \textcolor{keywordflow}{if}  (rowCur[c] == 0)
2176         \{
2177           \textcolor{keywordflow}{if}  ((rowPrev[c    ] == 1)  ||  
2178                (rowCur [c - 1] == 1)  ||
2179                (rowCur [c + 1] == 1)  ||
2180                (rowNext[c    ] == 1)
2181               )
2182           \{
2183             rowCur[c] = 1;
2184             fillInFound = \textcolor{keyword}{true};
2185           \}
2186         \}
2187       \}
2188 
2189       rowPrev += \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2190       rowCur  += \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2191       rowNext += \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2192     \}
2193 
2194 
2195     \textcolor{comment}{// Scan from Bot-Right  to  Top-Left}
2196     rowPrev  = maskRows[height - 1];
2197     rowCur   = rowPrev - \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2198     rowNext  = rowCur  - \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2199 
2200     \textcolor{keywordflow}{for}  (r = (height - 2);  r > 0;  --r)
2201     \{
2202       \textcolor{keywordflow}{for}  (c = (width - 2);  c > 0;  --c)
2203       \{
2204         \textcolor{keywordflow}{if}  (rowCur[c] == 0)
2205         \{
2206           \textcolor{keywordflow}{if}  ((rowPrev[c    ] == 1)  ||  
2207                (rowCur [c - 1] == 1)  ||
2208                (rowCur [c + 1] == 1)  ||
2209                (rowNext[c    ] == 1)
2210               )
2211           \{
2212             rowCur[c] = 1;
2213             fillInFound = \textcolor{keyword}{true};
2214           \}
2215         \}
2216       \}
2217 
2218       rowPrev -= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2219       rowCur  -= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2220       rowNext -= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
2221     \}
2222   \}  \textcolor{keywordflow}{while}  (fillInFound);
2223 
2224 
2225   \textcolor{comment}{// At this point the only pixels in the mask image that contain a '0' are the ones that are in holes.}
2226   \textcolor{comment}{// We will now fill the corresponding pixel locations in the original image with the
       ForegroundPixelValue.}
2227   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x)
2228   \{
2229     \textcolor{keywordflow}{if}  (maskArea[x] == 0)
2230     \{
2231       srcArea[x] = \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue};
2232       ++\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount};
2233     \}
2234   \}
2235 \}  \textcolor{comment}{/* FillHole */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fill\+Rectangle@{Fill\+Rectangle}}
\index{Fill\+Rectangle@{Fill\+Rectangle}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fill\+Rectangle(kkint32 tl\+Row, kkint32 tl\+Col, kkint32 br\+Row, kkint32 br\+Col, const Pixel\+Value \&fill\+Color)}{FillRectangle(kkint32 tlRow, kkint32 tlCol, kkint32 brRow, kkint32 brCol, const PixelValue &fillColor)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Fill\+Rectangle (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{tl\+Row, }
\item[{{\bf kkint32}}]{tl\+Col, }
\item[{{\bf kkint32}}]{br\+Row, }
\item[{{\bf kkint32}}]{br\+Col, }
\item[{const {\bf Pixel\+Value} \&}]{fill\+Color}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}{}\label{class_k_k_b_1_1_raster_a01417ee32f63004e7ae6e385e6f0f66e}


Definition at line 1947 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, blue, color, K\+K\+B\+::\+Pixel\+Value\+::g, green, K\+K\+B\+::\+Pixel\+Value\+::r, and red.



Referenced by Draw\+Grid().


\begin{DoxyCode}
1953 \{
1954   tlRow = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (tlRow, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
1955   brRow = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (brRow, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} - 1);
1956 
1957   tlCol = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (tlCol, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1);
1958   brCol = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (brCol, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - 1);
1959 
1960   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} row = tlRow;  row <= brRow;  ++row)
1961   \{
1962     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1963     \{
1964       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowRed   = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}   [row];
1965       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowGreen = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} [row];
1966       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowBlue  = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}  [row];
1967       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col = tlCol;  col <= brCol;  ++col)
1968       \{
1969         rowRed  [col] = fillColor.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r};
1970         rowGreen[col] = fillColor.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g};
1971         rowBlue [col] = fillColor.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b};
1972       \}
1973     \}
1974     \textcolor{keywordflow}{else}
1975     \{
1976       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  rowGreen = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
1977       \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} col = tlCol;  col <= brCol;  ++col)
1978         rowGreen[col] = fillColor.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g};
1979     \}
1980   \}
1981 \}  \textcolor{comment}{/* FillRectangle */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Final\+Clean\+Up@{Final\+Clean\+Up}}
\index{Final\+Clean\+Up@{Final\+Clean\+Up}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Final\+Clean\+Up()}{FinalCleanUp()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Final\+Clean\+Up (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_aaea50416d1a465c2bd46351c1229fecb}{}\label{class_k_k_b_1_1_raster_aaea50416d1a465c2bd46351c1229fecb}


Definition at line 93 of file Raster.\+cpp.



References K\+K\+B\+::\+Goal\+Keeper\+::\+Destroy(), and goal\+Keeper.


\begin{DoxyCode}
94 \{
95   \hyperlink{class_k_k_b_1_1_goal_keeper_a160956bdf558db46a1e0f34b658d0d14}{GoalKeeper::Destroy} (\hyperlink{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{goalKeeper});
96   \hyperlink{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{goalKeeper} = NULL;
97 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Find\+Bounding\+Box@{Find\+Bounding\+Box}}
\index{Find\+Bounding\+Box@{Find\+Bounding\+Box}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Find\+Bounding\+Box(kkint32 \&tl\+Row, kkint32 \&tl\+Col, kkint32 \&br\+Row, kkint32 \&br\+Col) const }{FindBoundingBox(kkint32 &tlRow, kkint32 &tlCol, kkint32 &brRow, kkint32 &brCol) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Find\+Bounding\+Box (
\begin{DoxyParamCaption}
\item[{{\bf kkint32} \&}]{tl\+Row, }
\item[{{\bf kkint32} \&}]{tl\+Col, }
\item[{{\bf kkint32} \&}]{br\+Row, }
\item[{{\bf kkint32} \&}]{br\+Col}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aee22b87a6feeb8a3e4a388400a23f616}{}\label{class_k_k_b_1_1_raster_aee22b87a6feeb8a3e4a388400a23f616}


Definition at line 5823 of file Raster.\+cpp.



References green, height, and width.



Referenced by Derive\+Image\+Length(), Thin\+Contour(), and Tightly\+Bounded().


\begin{DoxyCode}
5828 \{
5829   tlRow = \hyperlink{_usf_cas_cor_8h_a9ec306f36d50c7375e74f0d1c55a3a67}{INT\_MAX};
5830   tlCol = \hyperlink{_usf_cas_cor_8h_a9ec306f36d50c7375e74f0d1c55a3a67}{INT\_MAX};
5831 
5832   brRow = INT\_MIN;
5833   brCol = INT\_MIN;
5834 
5835   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
5836   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;
5837 
5838   \textcolor{keywordtype}{bool}  firstPixelFound = \textcolor{keyword}{false};
5839 
5840   \textcolor{comment}{// lets 1st find the very 1st Pixel Used.}
5841   \textcolor{keywordflow}{while}  (row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) 
5842   \{
5843     \textcolor{keywordflow}{while}  (col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
5844     \{
5845       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]))
5846       \{
5847         tlRow = row;
5848         tlCol = col;
5849         brRow = row;
5850         brCol = col;
5851         firstPixelFound = \textcolor{keyword}{true};
5852         \textcolor{keywordflow}{break};
5853       \}
5854 
5855       col++;
5856     \}
5857 
5858     \textcolor{keywordflow}{if}  (firstPixelFound)
5859       \textcolor{keywordflow}{break};
5860  
5861     row++; col = 0;
5862   \}
5863 
5864 
5865   \textcolor{keywordflow}{if}  (!firstPixelFound)
5866   \{
5867     \textcolor{comment}{// We have a Blank Image.}
5868     tlRow = tlCol = brRow = brCol = -1;
5869     \textcolor{keywordflow}{return};
5870   \}
5871 
5872   \textcolor{keywordflow}{while}  (row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})
5873   \{
5874     \textcolor{comment}{// Lets find 1st Pixel used in Row.}
5875     \textcolor{keywordflow}{while}  ((col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})  &&  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col])))
5876     \{
5877       col++;
5878     \}
5879  
5880     \textcolor{keywordflow}{if}  (col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
5881     \{
5882       \textcolor{comment}{// We have some Data on this row.}
5883 
5884       brRow = row;
5885 
5886       \textcolor{keywordflow}{if}  (col < tlCol)
5887         tlCol = col;
5888 
5889       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastColUsed = 0;
5890 
5891       \textcolor{keywordflow}{while}  (col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
5892       \{
5893         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]))
5894         \{
5895           lastColUsed = col;
5896         \}
5897 
5898         col++;
5899       \}
5900 
5901       \textcolor{keywordflow}{if}  (lastColUsed > brCol)
5902         brCol = lastColUsed;
5903     \}
5904 
5905     row++;  col = 0;
5906   \}
5907 
5908   \textcolor{keywordflow}{return};
5909 
5910 \}  \textcolor{comment}{/* FindBoundingBox */}  
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Find\+Magnitude\+Differences@{Find\+Magnitude\+Differences}}
\index{Find\+Magnitude\+Differences@{Find\+Magnitude\+Differences}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Find\+Magnitude\+Differences(const Raster \&r)}{FindMagnitudeDifferences(const Raster &r)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Find\+Magnitude\+Differences (
\begin{DoxyParamCaption}
\item[{const {\bf Raster} \&}]{r}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a4d5971382b178d3a1591a52fd31767c1}{}\label{class_k_k_b_1_1_raster_a4d5971382b178d3a1591a52fd31767c1}


Returns an image that reflects the differences between this image and the image supplied in the parameter. 

Each pixel will represent the magnitude of the difference between the two raster instances for that pixel location. If there are no differences than a raster of all 0\textquotesingle{}s will be returned. If dimensions are different then the largest dimensions will be sued. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em r} & \hyperlink{class_k_k_b_1_1_raster}{Raster} to compare with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A raster that will reflect the differences between the two instances where each pixel will represent the magnitude of the differences. 
\end{DoxyReturn}


Definition at line 5924 of file Raster.\+cpp.



References Blue(), blue, color, Green(), green, Raster(), Red(), and red.


\begin{DoxyCode}
5925 \{
5926   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  resultHeight = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, r.\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ());
5927   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  resultWidth  = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width},  r.\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width}  ());
5928 
5929   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (resultHeight, resultWidth, 
      \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
5930 
5931   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  otherRed   = r.\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}   ();
5932   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  otherGreen = r.\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
5933   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  otherBlue  = r.\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue}  ();
5934 
5935   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  resultRed   = result->Red   ();
5936   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  resultGreen = result->Green ();
5937   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  resultBlue  = result->Blue  ();
5938 
5939   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  minHeight = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, r.\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ());
5940   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  minWidth  = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width},  r.\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width}  ());
5941 
5942   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  resultTotPixels = resultHeight * resultWidth;
5943 
5944   memset (result->GreenArea (), 255, resultTotPixels);
5945   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
5946   \{
5947     memset (result->RedArea  (), 255, resultTotPixels);
5948     memset (result->BlueArea (), 255, resultTotPixels);
5949   \}
5950 
5951   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r = 0;  r < minHeight;  ++r)
5952   \{
5953     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c = 0;  c < minWidth;  ++c)
5954     \{
5955       \textcolor{comment}{// resultGreen[r][c] = DeltaMagnitude (green[r][c], otherGreen[r][c]);}
5956       \textcolor{keywordtype}{int}  deltaC = DeltaMagnitude (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c], otherGreen[r][c]);
5957       \textcolor{keywordflow}{if}  (deltaC > 0)
5958         deltaC = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (255, deltaC + 64);
5959       resultGreen[r][c] = deltaC;
5960       
5961       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
5962       \{
5963         resultRed [r][c] = DeltaMagnitude (\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [r][c], otherRed [r][c]);
5964         resultBlue[r][c] = DeltaMagnitude (\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r][c], otherBlue[r][c]);
5965       \}
5966     \}
5967   \}
5968 
5969   \textcolor{keywordflow}{return}  result;
5970 \}  \textcolor{comment}{/* FindMagnitudeDifferences */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Follow\+Contour@{Follow\+Contour}}
\index{Follow\+Contour@{Follow\+Contour}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Follow\+Contour(float countour\+Freq[5]) const }{FollowContour(float countourFreq[5]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Follow\+Contour (
\begin{DoxyParamCaption}
\item[{float}]{countour\+Freq\mbox{[}5\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a93fb53b114f805671e0898ec7f3fd682}{}\label{class_k_k_b_1_1_raster_a93fb53b114f805671e0898ec7f3fd682}


Definition at line 5357 of file Raster.\+cpp.



References K\+K\+B\+::\+Mov\+Dir\+::col, green, height, movements, K\+K\+B\+::\+Mov\+Dir\+::row, and width.


\begin{DoxyCode}
5358 \{
5359   \textcolor{comment}{// startRow and startCol is assumed to come from the left (6)}
5360 
5361   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startRow = 0;
5362   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  startCol = 0;
5363 
5364   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastDir = 1; \textcolor{comment}{// Last Movement was Up-Right}
5365 
5366   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nextRow = 0;
5367   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nextCol = 0;
5368 
5369   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  fromDir = 0;
5370 
5371   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  edgeLen = 0;
5372 
5373   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  maxNumOfAngles = 2 * \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
5374   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  numOfAngles = 0;
5375 
5376 
5377   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
5378   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  count[5];
5379 
5380   \textcolor{keywordflow}{for}  (x = 0; x < 5; x++)
5381   \{
5382     countourFreq[x] = 0.0;
5383     count[x] = 0;
5384   \}
5385 
5386 
5387 
5388 
5389 
5390 \textcolor{preprocessor}{  #if defined(FFTW\_AVAILABLE)}
5391     fftw\_complex*  src = (fftw\_complex*)fftw\_malloc (\textcolor{keyword}{sizeof} (fftw\_complex) * maxNumOfAngles);
5392 \textcolor{preprocessor}{  #else}
5393     \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d_a4cbc827157dd30ddec2d3753e552a827}{KK\_DFT1D\_Float::DftComplexType}*  src = \textcolor{keyword}{new} 
      \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d_a4cbc827157dd30ddec2d3753e552a827}{KK\_DFT1D\_Float::DftComplexType}[maxNumOfAngles];
5394 \textcolor{preprocessor}{  #endif}
5395 
5396   startRow = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} / 2;
5397   startCol = 0;
5398 
5399   \textcolor{keywordflow}{while}  ((startCol < width)  &&  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[startRow][startCol])))
5400   \{
5401     startCol++;
5402   \}
5403 
5404   \textcolor{comment}{// if  (green[startRow][startCol] == 0)}
5405   \textcolor{keywordflow}{if}  (startCol >= width)
5406   \{
5407     \textcolor{comment}{// We did not find a Pixel in the Middle Row(height / 2) so now we will}
5408     \textcolor{comment}{// scan the image row, by row, Left to Right until we find an occupied }
5409     \textcolor{comment}{// pixel.}
5410 
5411     \textcolor{keywordtype}{bool}  found = \textcolor{keyword}{false};
5412     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
5413     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
5414 
5415     \textcolor{keywordflow}{for}  (row = 0; ((row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  &&  (!found));  row++)
5416     \{
5417       \textcolor{keywordflow}{for}  (col = 0; ((col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})  &&  (!found)); col++)
5418       \{
5419         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]))
5420         \{
5421           found = \textcolor{keyword}{true};
5422           startRow = row;
5423           startCol = col;
5424         \}
5425       \}
5426     \}
5427 
5428     \textcolor{keywordflow}{if}  (!found)
5429     \{
5430       \textcolor{keywordflow}{return};
5431     \}
5432   \}
5433 
5434   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  curRow = startRow;
5435   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  curCol = startCol;
5436 
5437   \textcolor{keywordtype}{bool}  nextPixelFound = \textcolor{keyword}{false};
5438 
5439   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nextDir;
5440 
5441   \textcolor{keywordflow}{do}  
5442   \{
5443     edgeLen++;
5444 
5445     fromDir = lastDir + 4;
5446     \textcolor{keywordflow}{if}  (fromDir > 7)
5447       fromDir = fromDir - 8;
5448 
5449     nextPixelFound = \textcolor{keyword}{false};
5450 
5451     nextDir = fromDir + 2;
5452     \textcolor{keywordflow}{while}  (!nextPixelFound)
5453     \{
5454       \textcolor{keywordflow}{if}  (nextDir > 7)
5455         nextDir = nextDir - 8;
5456 
5457       nextRow = curRow + \hyperlink{_raster_8cpp_a4c248ea955a609e904037ab98cc73332}{movements}[nextDir].\hyperlink{struct_k_k_b_1_1_mov_dir_a19c78385b3fbec09dbe624baef003187}{row};
5458       nextCol = curCol + \hyperlink{_raster_8cpp_a4c248ea955a609e904037ab98cc73332}{movements}[nextDir].\hyperlink{struct_k_k_b_1_1_mov_dir_a454172afc7221cea2367c722c34e5517}{col};
5459 
5460       \textcolor{keywordflow}{if}  ((nextRow <  0)       ||  
5461            (nextRow >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||
5462            (nextCol <  0)       ||
5463            (nextCol >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}) 
5464           )
5465       \{
5466         nextDir++;
5467       \}
5468       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[nextRow][nextCol]))
5469       \{
5470         nextPixelFound = \textcolor{keyword}{true};
5471       \}
5472       \textcolor{keywordflow}{else}
5473       \{
5474         nextDir++;
5475       \}
5476     \}
5477 
5478     \textcolor{keywordflow}{if}  (numOfAngles >= maxNumOfAngles)
5479     \{
5480       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newMaxNumOfAngles = maxNumOfAngles * 2;
5481 
5482 \textcolor{preprocessor}{      #if  defined(FFTW\_AVAILABLE)}
5483         fftw\_complex*  newSrc = (fftw\_complex*)fftw\_malloc (\textcolor{keyword}{sizeof} (fftw\_complex) * newMaxNumOfAngles);
5484 \textcolor{preprocessor}{      #else}
5485         \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d_a4cbc827157dd30ddec2d3753e552a827}{KK\_DFT1D\_Float::DftComplexType}*  newSrc = \textcolor{keyword}{new} 
      \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d_a4cbc827157dd30ddec2d3753e552a827}{KK\_DFT1D\_Float::DftComplexType}[newMaxNumOfAngles];
5486 \textcolor{preprocessor}{      #endif}
5487 
5488       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
5489       \textcolor{keywordflow}{for}  (x = 0; x < maxNumOfAngles; x++)
5490       \{
5491 \textcolor{preprocessor}{        #if  defined(FFTW\_AVAILABLE)}
5492           newSrc[x][0] = src[x][0];
5493           newSrc[x][1] = src[x][1];
5494 \textcolor{preprocessor}{        #else}
5495           newSrc[x].real (src[x].real ());
5496           newSrc[x].imag (src[x].imag ());
5497 \textcolor{preprocessor}{        #endif}
5498       \}
5499         
5500 \textcolor{preprocessor}{      #ifdef  FFTW3\_H}
5501         fftw\_free (src);
5502 \textcolor{preprocessor}{      #else}
5503         \textcolor{keyword}{delete} src;
5504 \textcolor{preprocessor}{      #endif}
5505 
5506       src = newSrc;
5507       maxNumOfAngles = newMaxNumOfAngles;
5508     \}
5509   
5510 \textcolor{preprocessor}{    #if  defined(FFTW\_AVAILABLE)}
5511       src[numOfAngles][0] = nextRow; 
5512       src[numOfAngles][1] = nextCol;
5513 \textcolor{preprocessor}{    #else}
5514       src[x].real ((\textcolor{keywordtype}{float})nextRow);
5515       src[x].imag ((\textcolor{keywordtype}{float})nextCol);
5516 \textcolor{preprocessor}{    #endif}
5517 
5518 
5519     \textcolor{comment}{// sqrt ((float)(nextRow * nextRow + nextCol * nextCol));}
5520     numOfAngles++;
5521  
5522     lastDir = nextDir;
5523     curRow = nextRow;
5524     curCol = nextCol;
5525   \}  \textcolor{keywordflow}{while}  ((curRow != startRow)  ||  (curCol != startCol));
5526 
5527 
5528 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
5529     fftw\_complex*   dest = (fftw\_complex*)fftw\_malloc (\textcolor{keyword}{sizeof} (fftw\_complex) * maxNumOfAngles);
5530     fftw\_plan       plan;
5531     plan = fftw\_plan\_dft\_1d (numOfAngles, src, dest, FFTW\_FORWARD, FFTW\_ESTIMATE);
5532     fftw\_execute (plan);
5533     fftw\_destroy\_plan(plan);  
5534 \textcolor{preprocessor}{  #else}
5535     \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d}{KK\_DFT1D\_Float}  plan(numOfAngles, \textcolor{keyword}{true});
5536     \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d_a4cbc827157dd30ddec2d3753e552a827}{KK\_DFT1D\_Float::DftComplexType}*  dest = \textcolor{keyword}{new} 
      \hyperlink{class_k_k_b_1_1_k_k___d_f_t1_d_a4cbc827157dd30ddec2d3753e552a827}{KK\_DFT1D\_Float::DftComplexType}[maxNumOfAngles];
5537     plan.Transform(src, dest);
5538 \textcolor{preprocessor}{  #endif}
5539 
5540 
5541   \textcolor{keywordtype}{float}  middle = (float)(numOfAngles / 2.0);
5542   \textcolor{keywordtype}{float}  r1 = (float)(middle / 2.0);
5543   \textcolor{keywordtype}{float}  r2 = (float)(middle * ( 3.0  /   4.0));
5544   \textcolor{keywordtype}{float}  r3 = (float)(middle * ( 7.0  /   8.0));
5545   \textcolor{keywordtype}{float}  r4 = (float)(middle * (15.0  /  16.0));
5546 
5547   \textcolor{keywordtype}{float}  deltaX;
5548   \textcolor{keywordtype}{float}  mag;
5549 
5550   \textcolor{keywordflow}{for}  (x = 0; x < numOfAngles; x++)
5551   \{
5552 \textcolor{preprocessor}{    #if  defined(FFTW\_AVAILABLE)}
5553       mag = (float)log (sqrt (dest[x][0] * dest[x][0] + dest[x][1] * dest[x][1]));
5554 \textcolor{preprocessor}{    #else}
5555       mag = (float)log (sqrt (dest[x].real () * dest[x].real () + dest[x].imag () * dest[x].imag ()));
5556 \textcolor{preprocessor}{    #endif}
5557 
5558     deltaX = (float)fabs ((\textcolor{keywordtype}{float})x - middle);
5559 
5560     \textcolor{keywordflow}{if}  (deltaX < r1)
5561     \{
5562       countourFreq[0] = countourFreq[0] + mag;
5563       count[0]++;
5564     \}
5565 
5566     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (deltaX < r2)
5567     \{
5568       countourFreq[1] = countourFreq[1] + mag;
5569       count[1]++;
5570     \}
5571 
5572     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (deltaX < r3)
5573     \{
5574       countourFreq[2] = countourFreq[2] + mag;
5575       count[2]++;
5576     \}
5577 
5578     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (deltaX < r4)
5579     \{
5580       countourFreq[3] = countourFreq[3] + mag;
5581       count[3]++;
5582     \}
5583 
5584     \textcolor{keywordflow}{else}
5585     \{
5586       countourFreq[4] = countourFreq[4] + mag;
5587       count[4]++;
5588     \}
5589   \}
5590 
5591 
5592   \textcolor{keywordflow}{for}  (x = 0; x < 5; x++)
5593     countourFreq[x] = countourFreq[x] / (\textcolor{keywordtype}{float})count[x];
5594 
5595 \textcolor{preprocessor}{  #if  defined(FFTW\_AVAILABLE)}
5596     fftw\_free (src);
5597     fftw\_free (dest);
5598 \textcolor{preprocessor}{  #else}
5599     \textcolor{keyword}{delete}[]  src;
5600     \textcolor{keyword}{delete}[]  dest;
5601 \textcolor{preprocessor}{  #endif}
5602 \}  \textcolor{comment}{/* FollowContour */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Foreground\+Pixel@{Foreground\+Pixel}}
\index{Foreground\+Pixel@{Foreground\+Pixel}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Foreground\+Pixel(kkint32 row, kkint32 col) const }{ForegroundPixel(kkint32 row, kkint32 col) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool Raster\+::\+Foreground\+Pixel (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{}\label{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}


Definition at line 1054 of file Raster.\+cpp.



References green.



Referenced by Are\+There\+Edge\+Pixels().


\begin{DoxyCode}
1057 \{
1058   \textcolor{keywordflow}{return} (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]));
1059 \}  \textcolor{comment}{/* ForegroundPixel */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Foreground\+Pixel\+Count@{Foreground\+Pixel\+Count}}
\index{Foreground\+Pixel\+Count@{Foreground\+Pixel\+Count}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Foreground\+Pixel\+Count() const }{ForegroundPixelCount() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::\+Foreground\+Pixel\+Count (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}{}\label{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}


Definition at line 317 of file Raster.\+h.



References foreground\+Pixel\+Count.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector(), Dilation(), Erosion(), K\+K\+B\+::\+Morph\+Op\+Dilation\+::\+Perform\+Operation(), and Raster().


\begin{DoxyCode}
317 \{\textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Foreground\+Pixel\+Count@{Foreground\+Pixel\+Count}}
\index{Foreground\+Pixel\+Count@{Foreground\+Pixel\+Count}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Foreground\+Pixel\+Count(kkint32 \+\_\+foreground\+Pixel\+Count)}{ForegroundPixelCount(kkint32 _foregroundPixelCount)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Foreground\+Pixel\+Count (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+foreground\+Pixel\+Count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_aec13e4947e66742d2cc3dd71cd4f713c}{}\label{class_k_k_b_1_1_raster_aec13e4947e66742d2cc3dd71cd4f713c}


Definition at line 344 of file Raster.\+h.



References foreground\+Pixel\+Count.



Referenced by K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Dilation\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Erosion\+::\+Perform\+Operation(), and Reduce\+By\+Even\+Multiple().


\begin{DoxyCode}
344 \{\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount} = \_foregroundPixelCount;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Foreground\+Pixel\+Value@{Foreground\+Pixel\+Value}}
\index{Foreground\+Pixel\+Value@{Foreground\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Foreground\+Pixel\+Value() const }{ForegroundPixelValue() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::\+Foreground\+Pixel\+Value (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{}\label{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}


Definition at line 337 of file Raster.\+h.



References foreground\+Pixel\+Value.



Referenced by Extract\+Using\+Mask(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), and To\+Color().


\begin{DoxyCode}
337 \{\textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Foreground\+Pixel\+Value@{Foreground\+Pixel\+Value}}
\index{Foreground\+Pixel\+Value@{Foreground\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Foreground\+Pixel\+Value(uchar \+\_\+foreground\+Pixel\+Value)}{ForegroundPixelValue(uchar _foregroundPixelValue)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Foreground\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{\+\_\+foreground\+Pixel\+Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a1ea84f51a0a064df90791ad229c5dab6}{}\label{class_k_k_b_1_1_raster_a1ea84f51a0a064df90791ad229c5dab6}


Definition at line 345 of file Raster.\+h.



References foreground\+Pixel\+Value.



Referenced by Extract\+Using\+Mask(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), and Segment\+Image().


\begin{DoxyCode}
345 \{\hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} = \_foregroundPixelValue;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fourier\+Extract\+Features@{Fourier\+Extract\+Features}}
\index{Fourier\+Extract\+Features@{Fourier\+Extract\+Features}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fourier\+Extract\+Features(float fourier\+Features[5]) const }{FourierExtractFeatures(float fourierFeatures[5]) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Fourier\+Extract\+Features (
\begin{DoxyParamCaption}
\item[{float}]{fourier\+Features\mbox{[}5\mbox{]}}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aab93f287971129b24f374d94ca38a5d9}{}\label{class_k_k_b_1_1_raster_aab93f287971129b24f374d94ca38a5d9}


Definition at line 5216 of file Raster.\+cpp.



References fourier\+Mag, fourier\+Mag\+Area, height, K\+K\+B\+::os\+Wait\+For\+Enter(), and width.


\begin{DoxyCode}
5217 \{
5218   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea})
5219   \{
5220      cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5221           << \textcolor{stringliteral}{"*** ERROR ***    This Raster image is not the result of a fast Fourier"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
5222           << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
5223      \hyperlink{namespace_k_k_b_a255aa69aade7f429585349d08973e09f}{osWaitForEnter} ();
5224      exit (-1);
5225   \}
5226 
5227   \textcolor{keywordtype}{float}  cr = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} / (float)2.0;
5228   \textcolor{keywordtype}{float}  cw = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  / (float)2.0;
5229 
5230   \textcolor{keywordtype}{float}  crSqr = cr * cr;
5231   \textcolor{keywordtype}{float}  cwSqr = cw * cw;
5232 
5233   \textcolor{comment}{//float  diagLen = crSqr + cwSqr;}
5234   \textcolor{keywordtype}{float}  r1Len = crSqr / (float)4.0 + cwSqr / (\textcolor{keywordtype}{float})4.0;
5235 
5236   \textcolor{keywordtype}{float}  r2Len = (float)((9.0   /  16.0) * crSqr + (9.0   /  16.0) * cwSqr);  \textcolor{comment}{//  3/ 4 ths Len}
5237 
5238   \textcolor{keywordtype}{float}  r3Len = (float)((81.0  / 100.0) * crSqr + (81.0  / 100.0) * cwSqr);  \textcolor{comment}{//  9/10 ths Len}
5239 
5240   \textcolor{keywordtype}{float}  r4Len = (float)((361.0 / 400.0) * crSqr + (361.0 / 400.0) * cwSqr);  \textcolor{comment}{// 19/20 ths Len}
5241 
5242   fourierFeatures[0] = (float)0.0;
5243   fourierFeatures[1] = (float)0.0;
5244   fourierFeatures[2] = (float)0.0;
5245   fourierFeatures[3] = (float)0.0;
5246   fourierFeatures[4] = (float)0.0;
5247 
5248   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  count[5];
5249 
5250   count[0] = 0;
5251   count[1] = 0;
5252   count[2] = 0;
5253   count[3] = 0;
5254   count[4] = 0;
5255 
5256   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row;
5257   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col;
5258 
5259   \textcolor{keywordtype}{float}  deltaRow;
5260   \textcolor{keywordtype}{float}  deltaRowSqr = (float)0.0;
5261 
5262   \textcolor{keywordtype}{float}  deltaCol;
5263   \textcolor{keywordtype}{float}  deltaColSqr = (float)0.0;
5264 
5265   \textcolor{keywordtype}{float}  distFromCent;
5266 
5267   \textcolor{keywordflow}{for}  (row = 0 ; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
5268   \{
5269     deltaRow = cr - (float)row;
5270     deltaRowSqr = deltaRow * deltaRow;
5271 
5272     \textcolor{keywordflow}{for}  (col = 0; col < (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})cw; col++)
5273     \{
5274       deltaCol = cw - (float)col;
5275       deltaColSqr = deltaCol * deltaCol;
5276       
5277       distFromCent = deltaRowSqr + deltaColSqr;
5278 
5279       \textcolor{keywordflow}{if}  (distFromCent < r1Len)
5280       \{
5281         fourierFeatures[0] = fourierFeatures[0] + \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[row][col];
5282         count[0]++;
5283       \}
5284 
5285       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (distFromCent < r2Len)
5286       \{
5287         fourierFeatures[1] = fourierFeatures[1] + \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[row][col];
5288         count[1]++;
5289       \}
5290    
5291       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (distFromCent < r3Len)
5292       \{
5293         fourierFeatures[2] = fourierFeatures[2] + \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[row][col];
5294         count[2]++;
5295       \}
5296    
5297       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (distFromCent < r4Len)
5298       \{
5299         fourierFeatures[3] = fourierFeatures[3] + \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[row][col];
5300         count[3]++;
5301       \}
5302       \textcolor{keywordflow}{else}
5303       \{
5304         fourierFeatures[4] = fourierFeatures[4] + \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[row][col];
5305         count[4]++;
5306       \}
5307     \}
5308   \}
5309 
5310   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
5311 
5312   \textcolor{keywordflow}{for}  (x = 0; x < 5; x++)
5313   \{
5314     fourierFeatures[x] = fourierFeatures[x] / count[x];
5315   \}
5316 \}  \textcolor{comment}{/* ExtractFourierFeatures */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Fourier\+Mag\+Area@{Fourier\+Mag\+Area}}
\index{Fourier\+Mag\+Area@{Fourier\+Mag\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Fourier\+Mag\+Area() const }{FourierMagArea() const }}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ K\+K\+B\+::\+Raster\+::\+Fourier\+Mag\+Area (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_ac94aed2b3906aab15df37838d286b0d9}{}\label{class_k_k_b_1_1_raster_ac94aed2b3906aab15df37838d286b0d9}


Definition at line 333 of file Raster.\+h.



References fourier\+Mag\+Area.


\begin{DoxyCode}
333 \{\textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!From\+Compressor@{From\+Compressor}}
\index{From\+Compressor@{From\+Compressor}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{From\+Compressor(const uchar $\ast$compressed\+Buff, kkuint32 compressed\+Buff\+Len)}{FromCompressor(const uchar *compressedBuff, kkuint32 compressedBuffLen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+From\+Compressor (
\begin{DoxyParamCaption}
\item[{const {\bf uchar} $\ast$}]{compressed\+Buff, }
\item[{{\bf kkuint32}}]{compressed\+Buff\+Len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_k_k_b_1_1_raster_a9fa3ee3074ada8cca3f5a5b2eb00db9e}{}\label{class_k_k_b_1_1_raster_a9fa3ee3074ada8cca3f5a5b2eb00db9e}


Creates a new instance of \hyperlink{class_k_k_b_1_1_raster}{Raster} object from z\+Lib compressed data. 

Performs the inverse operation of \hyperlink{class_k_k_b_1_1_raster_a936cd7ef055191a8dec317e9d44ad902}{Raster\+::\+To\+Compressor}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em compressed\+Buff} & Pointer to buffer area containing compressed data originally created by \textquotesingle{}To\+Compressor\textquotesingle{}. \\
\hline
\mbox{\tt in}  & {\em compressed\+Buff\+Len} & Length in bytes of \textquotesingle{}compressed\+Buff\textquotesingle{}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If successful a pointer to a new instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{}; if there is an error will return N\+U\+LL. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_k_k_b_1_1_raster_a936cd7ef055191a8dec317e9d44ad902}{To\+Compressor} 
\end{DoxySeeAlso}


Definition at line 9228 of file Raster.\+cpp.



References Blue\+Area(), K\+K\+B\+::\+Compressor\+::\+Decompress(), Green\+Area(), Raster(), and Red\+Area().


\begin{DoxyCode}
9231 \{
9232   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  unCompressedBuffLen = 0;
9233   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  unCompressedBuff = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*)\hyperlink{class_k_k_b_1_1_compressor_a2a6621b98a88b60530ab344c25177b65}{Compressor::Decompress} (compressedBuff
      , compressedBuffLen, unCompressedBuffLen);
9234   \textcolor{keywordflow}{if}  (!unCompressedBuff)
9235     \textcolor{keywordflow}{return} NULL;
9236 
9237   \textcolor{keywordflow}{if}  (unCompressedBuffLen < 10)
9238   \{
9239     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \textcolor{stringliteral}{"Raster::FromCompressor  Compressor did not return
       any data."}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9240     \textcolor{keywordflow}{return} NULL;
9241   \}
9242 
9243   \textcolor{comment}{// 0 - 3:    Height:  high order to low order}
9244   \textcolor{comment}{// 4 - 7:    Width:   high order to low order}
9245   \textcolor{comment}{// 8 - 8:    Color    0 = Gray--                                     scale,  1 = Color}
9246   \textcolor{comment}{// 9 - 8 + (Height * Width) Green Channel}
9247   \textcolor{comment}{// xxxxx                    Red  Channel}
9248   \textcolor{comment}{// xxxxx                    Blue Channel}
9249 
9250   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} = 0;
9251   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  = 0;
9252   height = unCompressedBuff[0] + unCompressedBuff[1] * 256 + unCompressedBuff[2] * 256 * 256 + 
      unCompressedBuff[3] * 256 * 256 * 256;
9253   width  = unCompressedBuff[4] + unCompressedBuff[5] * 256 + unCompressedBuff[6] * 256 * 256 + 
      unCompressedBuff[7] * 256 * 256 * 256;
9254 
9255   \textcolor{keywordtype}{bool} \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} = (unCompressedBuff[8] == 1);
9256 
9257   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  totalPixels = height * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
9258   \textcolor{keywordflow}{if}  ((totalPixels > (100 * 1024 * 1024))  ||  (height < 1)  ||  (width < 1))
9259   \{
9260     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \textcolor{stringliteral}{"Raster::FromCompressor  Height["} << height << \textcolor{stringliteral}{"] 
       Width["} << width << \textcolor{stringliteral}{"]  is not valid."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9261     \textcolor{keyword}{delete}  unCompressedBuff;
9262     unCompressedBuff = NULL;
9263     \textcolor{keywordflow}{return} NULL;
9264   \}
9265 
9266   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  totalDataNeeded = totalPixels + (color ? (2 * totalPixels) : 0) + 9;
9267   \textcolor{keywordflow}{if}  (totalDataNeeded > unCompressedBuffLen)
9268   \{
9269     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} 
9270          << \textcolor{stringliteral}{"Raster::FromCompressor  Height["} << height << \textcolor{stringliteral}{"]  Width["} << width << \textcolor{stringliteral}{"]  Color["} << (color ? \textcolor{stringliteral}{
      "Yes"} : \textcolor{stringliteral}{"No"}) << \textcolor{stringliteral}{"]"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9271          << \textcolor{stringliteral}{"              requires TotalDataNeeded["} << totalDataNeeded << \textcolor{stringliteral}{"]  but UnCompressedBuffLen["} 
      << unCompressedBuffLen << \textcolor{stringliteral}{"]"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9272          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9273     \textcolor{keyword}{delete}  unCompressedBuff;
9274     unCompressedBuff = NULL;
9275     \textcolor{keywordflow}{return} NULL;
9276   \}
9277 
9278 
9279   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  r = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} ((\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})height, (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})width, color);
9280 
9281   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} nextIdx = 9;
9282   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32} x;
9283 
9284   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = r->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
9285   \textcolor{keywordflow}{for}  (x = 0;  x < totalPixels;  x++, nextIdx++)
9286     greenArea[x] = unCompressedBuff[nextIdx];
9287 
9288   \textcolor{keywordflow}{if}  (color)
9289   \{
9290     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea} = r->\hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{RedArea} ();
9291     \textcolor{keywordflow}{for}  (x = 0;  x < totalPixels;  x++, nextIdx++)
9292       redArea[x] = unCompressedBuff[nextIdx];
9293 
9294     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea} = r->\hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{BlueArea} ();
9295     \textcolor{keywordflow}{for}  (x = 0;  x < totalPixels;  x++, nextIdx++)
9296       blueArea[x] = unCompressedBuff[nextIdx];
9297   \}
9298  
9299   \textcolor{keyword}{delete}  unCompressedBuff;
9300   unCompressedBuff = NULL;
9301 
9302   \textcolor{keywordflow}{return}  r;
9303 \}  \textcolor{comment}{/* FromCompressor */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!From\+Simple\+Compression@{From\+Simple\+Compression}}
\index{From\+Simple\+Compression@{From\+Simple\+Compression}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{From\+Simple\+Compression(const uchar $\ast$compressed\+Buff, kkuint32 compressed\+Buff\+Len)}{FromSimpleCompression(const uchar *compressedBuff, kkuint32 compressedBuffLen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+From\+Simple\+Compression (
\begin{DoxyParamCaption}
\item[{const {\bf uchar} $\ast$}]{compressed\+Buff, }
\item[{{\bf kkuint32}}]{compressed\+Buff\+Len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_k_k_b_1_1_raster_ab58d451ba12b799aa65f3b7a9ea69cac}{}\label{class_k_k_b_1_1_raster_ab58d451ba12b799aa65f3b7a9ea69cac}


Creates a raster from a compressed\+Buff created by \textquotesingle{}Simple\+Compression\textquotesingle{}. 



Definition at line 9035 of file Raster.\+cpp.



References K\+K\+B\+::\+Simple\+Compressor\+::\+Decompress(), Green\+Area(), and Raster().


\begin{DoxyCode}
9038 \{
9039   \textcolor{comment}{// I expect simple run length compressed data to be passed in.  The data was  originally }
9040   \textcolor{comment}{// compressed by SimpleCompressor and we will use the same class to decompress.}
9041 
9042   \textcolor{comment}{// The format of the uncompressed data is very simple.}
9043   \textcolor{comment}{//  Bytes    Description}
9044   \textcolor{comment}{//  0 thru 1:    Height   2 byte integer.}
9045   \textcolor{comment}{//  2 thru 3:    Width    2 byte integer.}
9046   \textcolor{comment}{//}
9047   \textcolor{comment}{//  4 thru (Hight * Width) - 1:   Raster Data}
9048   \textcolor{comment}{//          Row 0          : (consists of 'Width' bytes.)}
9049   \textcolor{comment}{//          Row 1          : (    ""    ""    ""   ""   )}
9050   \textcolor{comment}{//                   --     ---     ---     ----   }
9051   \textcolor{comment}{//          Row Height - 1 : (Last row of image) }
9052   \textcolor{comment}{//}
9053   \textcolor{comment}{//          Each byte in the raster represents one pixel 0 - 255 gray-scale;  where 0=background.}
9054 
9055   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  unCompressedSize = 0;
9056 
9057   \textcolor{keywordflow}{if}  (compressedBuff == NULL)
9058   \{
9059     ofstream f (\textcolor{stringliteral}{"c:\(\backslash\)\(\backslash\)Temp\(\backslash\)\(\backslash\)Raster\_FromSimpleCompression.txt"}, ios\_base::app);
9060 
9061     f << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
9062       << \textcolor{stringliteral}{"DateTime"}                 << \textcolor{stringliteral}{"\(\backslash\)t"}  <<  \hyperlink{namespace_k_k_b_af54c205cde0465bcb2c74f3881a96413}{osGetLocalDateTime} () << \textcolor{stringliteral}{"\(\backslash\)t"}
9063       << \textcolor{stringliteral}{"(compressedBuff==NULL)"}
9064       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9065 
9066     f.flush ();
9067     f.close ();
9068     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (20, 20, \textcolor{keyword}{false});
9069   \}
9070 
9071   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  uncompressedBuff = \hyperlink{class_k_k_b_1_1_simple_compressor_ac36d8a5ef877583713f50bd241d3e8c0}{SimpleCompressor::Decompress} (compressedBuff,
       compressedBuffLen, unCompressedSize);
9072   \textcolor{keywordflow}{if}  (uncompressedBuff == NULL)
9073   \{
9074     ofstream f (\textcolor{stringliteral}{"c:\(\backslash\)\(\backslash\)Temp\(\backslash\)\(\backslash\)Raster\_FromSimpleCompression.txt"}, ios\_base::app);
9075 
9076     f << std::endl
9077       << \textcolor{stringliteral}{"DateTime"}                 << \textcolor{stringliteral}{"\(\backslash\)t"}  <<  \hyperlink{namespace_k_k_b_af54c205cde0465bcb2c74f3881a96413}{osGetLocalDateTime} () << \textcolor{stringliteral}{"\(\backslash\)t"}
9078       << \textcolor{stringliteral}{"(uncompressedBuff==NULL)"} << \textcolor{stringliteral}{"\(\backslash\)t"} 
9079       << \textcolor{stringliteral}{"unCompressedSize"}         << \textcolor{stringliteral}{"\(\backslash\)t"} << unCompressedSize
9080       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9081       f.flush ();
9082       f.close ();
9083     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (20, 20, \textcolor{keyword}{false});
9084   \}
9085 
9086   \textcolor{comment}{// The first Four Bytes have the image Height, and Width.}
9087 
9088   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} = uncompressedBuff[0] * 256 +  uncompressedBuff[1];
9089   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  = uncompressedBuff[2] * 256 +  uncompressedBuff[3];
9090 
9091   \textcolor{keywordflow}{if}  ((height < 1)  ||  (height > 1000)  ||  (width < 1)  ||  (width > 1000))
9092   \{
9093     ofstream f (\textcolor{stringliteral}{"c:\(\backslash\)\(\backslash\)Temp\(\backslash\)\(\backslash\)Raster\_FromSimpleCompression.txt"}, ios\_base::app);
9094 
9095     f << std::endl
9096       << \textcolor{stringliteral}{"DateTime"}         << \textcolor{stringliteral}{"\(\backslash\)t"}  << \hyperlink{namespace_k_k_b_af54c205cde0465bcb2c74f3881a96413}{osGetLocalDateTime} () << \textcolor{stringliteral}{"\(\backslash\)t"}
9097       << \textcolor{stringliteral}{"unCompressedSize"} << \textcolor{stringliteral}{"\(\backslash\)t"}  << unCompressedSize      << \textcolor{stringliteral}{"\(\backslash\)t"}
9098       << \textcolor{stringliteral}{"Height"}           << \textcolor{stringliteral}{"\(\backslash\)t"}  << height                << \textcolor{stringliteral}{"\(\backslash\)t"} 
9099       << \textcolor{stringliteral}{"Width"}            << \textcolor{stringliteral}{"\(\backslash\)t"}  << width
9100       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9101 
9102     f <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [0] << \textcolor{stringliteral}{"\(\backslash\)t"}
9103       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [1] << "\(\backslash\)t"
9104       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [2] << "\(\backslash\)t"
9105       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [3] << "\(\backslash\)t"
9106       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [4] << "\(\backslash\)t"
9107       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [5] << "\(\backslash\)t"
9108       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [6] << "\(\backslash\)t"
9109       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [7] << "\(\backslash\)t"
9110       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [8] << "\(\backslash\)t"
9111       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [9] << "\(\backslash\)t"
9112       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff[10] 
9113       << \hyperlink{namespacestd}{std}::\hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
9114 
9115       f.flush ();
9116       f.close ();
9117     return new \hyperlink{class_k_k_b_1_1_raster}{Raster} (20, 20, false);
9118   \}
9119 
9120   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  totalPixels = height * width;
9121   if  (unCompressedSize > (totalPixels + 4))
9122   \{
9123     ofstream f (\textcolor{stringliteral}{"c:\(\backslash\)\(\backslash\)Temp\(\backslash\)\(\backslash\)Raster\_FromSimpleCompression.txt"}, ios\_base::app);
9124 
9125     f << std::endl
9126       << \textcolor{stringliteral}{"DateTime"}         << \textcolor{stringliteral}{"\(\backslash\)t"}  << \hyperlink{namespace_k_k_b_af54c205cde0465bcb2c74f3881a96413}{osGetLocalDateTime} () << \textcolor{stringliteral}{"\(\backslash\)t"}
9127       << \textcolor{stringliteral}{"unCompressedSize"} << \textcolor{stringliteral}{"\(\backslash\)t"}  << unCompressedSize      << \textcolor{stringliteral}{"\(\backslash\)t"}
9128       << \textcolor{stringliteral}{"totalPixels"}      << \textcolor{stringliteral}{"\(\backslash\)t"}  << totalPixels           << \textcolor{stringliteral}{"\(\backslash\)t"}
9129       << \textcolor{stringliteral}{"Height"}           << \textcolor{stringliteral}{"\(\backslash\)t"}  << height                << \textcolor{stringliteral}{"\(\backslash\)t"} 
9130       << \textcolor{stringliteral}{"Width"}            << \textcolor{stringliteral}{"\(\backslash\)t"}  << width
9131       << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
9132 
9133     f <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [0] << \textcolor{stringliteral}{"\(\backslash\)t"}
9134       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [1] << "\(\backslash\)t"
9135       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [2] << "\(\backslash\)t"
9136       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [3] << "\(\backslash\)t"
9137       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [4] << "\(\backslash\)t"
9138       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [5] << "\(\backslash\)t"
9139       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [6] << "\(\backslash\)t"
9140       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [7] << "\(\backslash\)t"
9141       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [8] << "\(\backslash\)t"
9142       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff [9] << "\(\backslash\)t"
9143       <<  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})compressedBuff[10] 
9144       << \hyperlink{namespacestd}{std}::endl;
9145 
9146     f.flush ();
9147     f.close ();
9148   \}
9149 
9150 
9151   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = new Raster (height, width, false);
9152   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = result->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
9153 
9154   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  nextIdx = 4;
9155   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  greanAreaIdx = 0;
9156 
9157   while  ((nextIdx < (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})unCompressedSize)  &&  (greanAreaIdx < totalPixels))
9158   \{
9159     \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[greanAreaIdx] = uncompressedBuff[nextIdx];
9160     nextIdx++;
9161     greanAreaIdx++;
9162   \}
9163 
9164   \textcolor{keyword}{delete}  uncompressedBuff;
9165   uncompressedBuff = NULL;
9166 
9167   \textcolor{keywordflow}{return}  result;
9168 \}  \textcolor{comment}{/* FromSimpleCompression */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Get\+Pixel\+Value@{Get\+Pixel\+Value}}
\index{Get\+Pixel\+Value@{Get\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Get\+Pixel\+Value(kkint32 row, kkint32 col) const }{GetPixelValue(kkint32 row, kkint32 col) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} Raster\+::\+Get\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{}\label{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}


Definition at line 1289 of file Raster.\+cpp.



References green, height, and width.



Referenced by Padded(), Rotate(), and Segment\+Image().


\begin{DoxyCode}
1291 \{
1292   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1293        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1294        (col <  0)      ||
1295        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1296   \{
1297     cerr << \textcolor{stringliteral}{"Raster::GetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1298     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1299     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1300     exit (-1);
1301   \}
1302 
1303   \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
1304 \}  \textcolor{comment}{/* GetPixelValue */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Get\+Pixel\+Value@{Get\+Pixel\+Value}}
\index{Get\+Pixel\+Value@{Get\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Get\+Pixel\+Value(kkint32 row, kkint32 col, uchar \&r, uchar \&g, uchar \&b) const }{GetPixelValue(kkint32 row, kkint32 col, uchar &r, uchar &g, uchar &b) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Get\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{{\bf uchar} \&}]{r, }
\item[{{\bf uchar} \&}]{g, }
\item[{{\bf uchar} \&}]{b}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a52256bcca71985aff40bc96101e8a14d}{}\label{class_k_k_b_1_1_raster_a52256bcca71985aff40bc96101e8a14d}


Definition at line 1308 of file Raster.\+cpp.



References blue, color, green, height, red, and width.



Referenced by Get\+Pixel\+Value().


\begin{DoxyCode}
1314 \{
1315   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1316        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1317        (col <  0)      ||
1318        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1319   \{
1320     cerr << \textcolor{stringliteral}{"Raster::GetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1321     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1322     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1323     exit (-1);
1324   \}
1325 
1326   g = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} [row][col];
1327 
1328   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1329   \{
1330     r = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}   [row][col];
1331     b = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}  [row][col];
1332   \}
1333   \textcolor{keywordflow}{else}
1334   \{
1335     r = 0;
1336     b = 0;
1337   \}
1338 \}  \textcolor{comment}{/* GetPixelValue */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Get\+Pixel\+Value@{Get\+Pixel\+Value}}
\index{Get\+Pixel\+Value@{Get\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Get\+Pixel\+Value(kkint32 row, kkint32 col, Pixel\+Value \&p) const }{GetPixelValue(kkint32 row, kkint32 col, PixelValue &p) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Get\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{{\bf Pixel\+Value} \&}]{p}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ac8f891c48cad1ccfbde5eb70bdba3915}{}\label{class_k_k_b_1_1_raster_ac8f891c48cad1ccfbde5eb70bdba3915}


Definition at line 1343 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, K\+K\+B\+::\+Pixel\+Value\+::g, Get\+Pixel\+Value(), and K\+K\+B\+::\+Pixel\+Value\+::r.



Referenced by Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(), and Threshold\+In\+H\+S\+I().


\begin{DoxyCode}
1347 \{
1348   \hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (row, col, p.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r}, p.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g}, p.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b});
1349 \}  \textcolor{comment}{/* GetPixelValue */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Get\+Pixel\+Value@{Get\+Pixel\+Value}}
\index{Get\+Pixel\+Value@{Get\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Get\+Pixel\+Value(\+Color\+Channels channel, kkint32 row, kkint32 col) const }{GetPixelValue(ColorChannels channel, kkint32 row, kkint32 col) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} Raster\+::\+Get\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf Color\+Channels}}]{channel, }
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a42e210e47eaa87454e2f230bc658a94f}{}\label{class_k_k_b_1_1_raster_a42e210e47eaa87454e2f230bc658a94f}


Definition at line 1356 of file Raster.\+cpp.



References blue, color, K\+K\+B\+::\+Green, green, height, K\+K\+B\+::\+Red, red, and width.


\begin{DoxyCode}
1360 \{
1361   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1362        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1363        (col <  0)      ||
1364        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1365   \{
1366     cerr << \textcolor{stringliteral}{"Raster::GetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1367     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1368     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1369     exit (-1);
1370   \}
1371 
1372   \textcolor{keywordflow}{if}  (channel == \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718ad382816a3cbeed082c9e216e7392eed1}{ColorChannels::Green})
1373     \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} [row][col];
1374 
1375   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1376   \{
1377     cerr << \textcolor{stringliteral}{"***ERROR*** Raster::GetPixelValue   *** ERROR ***,  Not a Color Raster."}  << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1378     exit (-1);
1379   \}
1380 
1381   \textcolor{keywordflow}{if}  (channel == \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718aee38e4d5dd68c4e440825018d549cb47}{ColorChannels::Red})
1382     \textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col];
1383   \textcolor{keywordflow}{else}
1384     \textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col];
1385 \}  \textcolor{comment}{/* GetPixelValue */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Get\+Sub\+Set@{Get\+Sub\+Set}}
\index{Get\+Sub\+Set@{Get\+Sub\+Set}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Get\+Sub\+Set(uchar $\ast$$\ast$\+\_\+src, kkint32 \+\_\+row, kkint32 \+\_\+col, kkint32 \+\_\+height, kkint32 \+\_\+width) const }{GetSubSet(uchar **_src, kkint32 _row, kkint32 _col, kkint32 _height, kkint32 _width) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} $\ast$$\ast$ Raster\+::\+Get\+Sub\+Set (
\begin{DoxyParamCaption}
\item[{{\bf uchar} $\ast$$\ast$}]{\+\_\+src, }
\item[{{\bf kkint32}}]{\+\_\+row, }
\item[{{\bf kkint32}}]{\+\_\+col, }
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}{}\label{class_k_k_b_1_1_raster_a1c19f5defb24cb5176ff1be50b42f091}


Returns back a two dimension array that is a copy of the specified region in the image. 

The caller will take ownership of the two dimensional array created. 

Definition at line 4703 of file Raster.\+cpp.



References height, and width.



Referenced by Raster().


\begin{DoxyCode}
4709 \{
4710   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endR = \_row + \_height - 1;
4711   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  endC = \_col + \_width - 1;
4712 
4713   \textcolor{keywordflow}{if}  ((\_row < 0)  ||  (endR >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
4714        (\_col < 0)  ||  (endC >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
4715   \{
4716     cerr << \textcolor{stringliteral}{"***ERROR***, Raster::Raster  *** ERROR ***,  Index's Exceed Raster Bounds"} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
4717     cerr << \textcolor{stringliteral}{"       Raster Dimensions["}       << \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}    << \textcolor{stringliteral}{", "}  << 
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]."}     << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
4718     cerr << \textcolor{stringliteral}{"       Requested Coordinates ["} << \_row     << \textcolor{stringliteral}{", "}  << \_col      << \textcolor{stringliteral}{"], "}
4719          << \textcolor{stringliteral}{"       Height["}  << \_height << \textcolor{stringliteral}{"],  Width["} << \_width << \textcolor{stringliteral}{"]."}
4720          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
4721     \textcolor{comment}{//WaitForEnter ();}
4722     exit (-1);
4723   \}
4724 
4725   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;
4726   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
4727 
4728   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totalPixelArea = \_height * \_width;
4729   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* subSetArea = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[totalPixelArea];
4730 
4731   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}** subSet = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*[\_height];
4732   
4733   \textcolor{keywordflow}{for}  (row = 0; row < \_height; row++)
4734   \{
4735     subSet[row] = subSetArea;
4736     \textcolor{keywordflow}{for}  (col = 0; col < \_width; col++)
4737     \{
4738       subSet[row][col] = \_src[\_row + row][\_col + col];
4739     \}
4740     subSetArea = subSetArea + \_width;
4741   \}
4742 
4743   \textcolor{keywordflow}{return}  subSet;
4744 \}  \textcolor{comment}{/* GetSubSet */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Green@{Green}}
\index{Green@{Green}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Green() const }{Green() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::\+Green (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{}\label{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}
returns a pointer to two dimensional array for \textquotesingle{}Green\textquotesingle{} color channel; note this is the same as \textquotesingle{}Rows\textquotesingle{}. 

Definition at line 327 of file Raster.\+h.



References green.



Referenced by Create\+Eroded\+Image(), Create\+Smoothed\+Medium\+Image(), Create\+Smooth\+Image(), Derive\+Image\+Length(), Dilation(), Edge(), Erosion(), Erosion\+Boundary(), Erosion\+Changed(), Erosion\+Changed1(), Extract\+Using\+Mask(), Fill\+Hole(), Find\+Magnitude\+Differences(), K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Dilation\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Erosion\+::\+Perform\+Operation(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), Raster(), Reduce\+By\+Even\+Multiple(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), Thin\+Contour(), Tightly\+Bounded(), and Transpose().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Green\+Area@{Green\+Area}}
\index{Green\+Area@{Green\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Green\+Area() const }{GreenArea() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$ K\+K\+B\+::\+Raster\+::\+Green\+Area (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{}\label{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}


Definition at line 330 of file Raster.\+h.



References green\+Area.



Referenced by Calc\+Area\+And\+Intensity\+Features(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Class\+Average\+R\+G\+B(), Create\+Color\+Image\+From\+Labels(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Dilation(), Edge(), Erosion(), Extract\+Channel(), Fill\+Hole(), From\+Compressor(), From\+Simple\+Compression(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Get\+Class\+Closest\+To\+Target\+Color(), K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation(), Reduce\+By\+Factor(), K\+K\+B\+::\+Save\+Image\+P\+G\+M(), K\+K\+B\+::\+Save\+Image\+P\+N\+G(), K\+K\+B\+::\+Save\+Image\+P\+P\+M(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), and To\+Color().


\begin{DoxyCode}
330 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Half\+Size@{Half\+Size}}
\index{Half\+Size@{Half\+Size}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Half\+Size()}{HalfSize()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Half\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a6d1c81a622ccfcf9e738198a409b3c88}{}\label{class_k_k_b_1_1_raster_a6d1c81a622ccfcf9e738198a409b3c88}


Definition at line 7326 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), K\+K\+B\+::\+Blue, blue, color, green, height, K\+K\+B\+::\+Red, red, Set\+Pixel\+Value(), and width.


\begin{DoxyCode}
7327 \{
7328   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  hHeight = \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} / 2);
7329   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  hWidth  = \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  / 2);
7330 
7331   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  halfSize = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (hHeight, hWidth, 
      \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
7332 
7333   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;
7334   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
7335   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  hRow, hCol;
7336   \textcolor{keywordflow}{for}  (hRow = 0;  hRow < hHeight;  hRow++)
7337   \{
7338     col = 0;
7339     \textcolor{keywordflow}{for}  (hCol = 0;  hCol < hWidth;  hCol++)
7340     \{
7341       halfSize->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (hRow, hCol, \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]);
7342       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7343       \{
7344         halfSize->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718aee38e4d5dd68c4e440825018d549cb47}{ColorChannels::Red},  hRow, hCol, 
      \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col]);
7345         halfSize->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (\hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718a9594eec95be70e7b1710f730fdda33d9}{ColorChannels::Blue}, hRow, hCol, 
      \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col]);
7346       \}
7347 
7348       col += 2;
7349     \}
7350 
7351     row += 2;
7352   \}
7353 
7354   \textcolor{keywordflow}{return}  halfSize;
7355 \}  \textcolor{comment}{/* HalfSize */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Height@{Height}}
\index{Height@{Height}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Height() const }{Height() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::\+Height (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{}\label{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}


Definition at line 319 of file Raster.\+h.



References height.



Referenced by K\+K\+B\+::\+Bmp\+Image\+::\+Bmp\+Image(), K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector(), K\+K\+B\+::\+Contour\+Follower\+::\+Contour\+Follower(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Dilation(), K\+K\+B\+::\+Display\+Image(), Edge(), Erosion(), Fill\+Blob(), Fill\+Hole(), K\+K\+B\+::\+Convex\+Hull\+::\+Filter(), K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation(), Raster(), Rotate(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Save\+Image\+P\+G\+M(), K\+K\+B\+::\+Save\+Image\+P\+N\+G(), K\+K\+B\+::\+Save\+Image\+P\+P\+M(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), Segment\+Image(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), and K\+K\+B\+::\+Convex\+Hull\+::\+Store().


\begin{DoxyCode}
319 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Histogram@{Histogram}}
\index{Histogram@{Histogram}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Histogram(\+Color\+Channels channel) const }{Histogram(ColorChannels channel) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Histogram\+Ptr} Raster\+::\+Histogram (
\begin{DoxyParamCaption}
\item[{{\bf Color\+Channels}}]{channel}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ae50c283424d3fbbdea957a3ff955909f}{}\label{class_k_k_b_1_1_raster_ae50c283424d3fbbdea957a3ff955909f}


Definition at line 6110 of file Raster.\+cpp.



References K\+K\+B\+::\+Blue, blue\+Area, color, K\+K\+B\+::\+Color\+Channel\+To\+K\+K\+Str(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), K\+K\+B\+::\+Green, green\+Area, K\+K\+B\+::\+Histogram\+::\+Histogram(), K\+K\+B\+::\+Histogram\+::\+Increment(), K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), K\+K\+B\+::\+K\+K\+Str\+::\+K\+K\+Str(), K\+K\+B\+::\+Red, red\+Area, and tot\+Pixels.



Referenced by Histogram\+Image().


\begin{DoxyCode}
6111 \{
6112   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  data = NULL;
6113   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6114   \{
6115     \textcolor{keywordflow}{switch}  (channel)
6116     \{
6117     \textcolor{keywordflow}{case}  \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718aee38e4d5dd68c4e440825018d549cb47}{ColorChannels::Red}:   data = \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea};    \textcolor{keywordflow}{break};
6118     \textcolor{keywordflow}{case}  \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718ad382816a3cbeed082c9e216e7392eed1}{ColorChannels::Green}: data = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};  \textcolor{keywordflow}{break};
6119     \textcolor{keywordflow}{case}  \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718a9594eec95be70e7b1710f730fdda33d9}{ColorChannels::Blue}:  data = \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea};   \textcolor{keywordflow}{break};
6120     \}
6121   \}
6122 
6123   \textcolor{keywordflow}{if}  (!data)
6124   \{
6125     \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  errMsg (128);
6126     errMsg << \textcolor{stringliteral}{"Raster::Histogram   ***ERROR***    channel: "} << 
      \hyperlink{namespace_k_k_b_a97094dfff18985dad35d066bbabc3c69}{ColorChannelToKKStr} (channel) << \textcolor{stringliteral}{"  Is not defined."};
6127     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << errMsg << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{endl};
6128     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (errMsg);
6129   \}
6130 
6131   \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr} histogram = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_histogram}{KKB::Histogram} (0, 256, 1.0, \textcolor{keyword}{false});
6132   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++)
6133   \{
6134     histogram->\hyperlink{class_k_k_b_1_1_histogram_a1be7a2f10e83373a0e0083b970e0adfa}{Increment} (*data);
6135     ++data;
6136   \}
6137 
6138   \textcolor{keywordflow}{return}  histogram;
6139 \}  \textcolor{comment}{/* Histogram */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Histogram\+Equalized\+Image@{Histogram\+Equalized\+Image}}
\index{Histogram\+Equalized\+Image@{Histogram\+Equalized\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Histogram\+Equalized\+Image() const }{HistogramEqualizedImage() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Histogram\+Equalized\+Image (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a9ed877aa9bf8ec0bd7c4c2ec0eabfe6a}{}\label{class_k_k_b_1_1_raster_a9ed877aa9bf8ec0bd7c4c2ec0eabfe6a}


Definition at line 6143 of file Raster.\+cpp.



References K\+K\+B\+::\+Histogram\+::\+Equalized(), Histogram\+Equalized\+Image(), and Histogram\+Grayscale().


\begin{DoxyCode}
6144 \{
6145   \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr}  grayScaleHistogram = \hyperlink{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}{HistogramGrayscale} ();
6146   \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr}  equalizedHistogram = grayScaleHistogram->\hyperlink{class_k_k_b_1_1_histogram_a04cec38d98986864dbda4bf5b814711a}{Equalized} ();
6147   \textcolor{keyword}{delete}  grayScaleHistogram;
6148   grayScaleHistogram = NULL;
6149   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} equalizedImage = \hyperlink{class_k_k_b_1_1_raster_a9ed877aa9bf8ec0bd7c4c2ec0eabfe6a}{HistogramEqualizedImage} (equalizedHistogram);
6150   \textcolor{keyword}{delete}  equalizedHistogram;
6151 
6152   \textcolor{keywordflow}{return}  equalizedImage;
6153 \}  \textcolor{comment}{/* HistogramEqualizedImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Histogram\+Equalized\+Image@{Histogram\+Equalized\+Image}}
\index{Histogram\+Equalized\+Image@{Histogram\+Equalized\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Histogram\+Equalized\+Image(\+Histogram\+Ptr equalized\+Histogram) const }{HistogramEqualizedImage(HistogramPtr equalizedHistogram) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Histogram\+Equalized\+Image (
\begin{DoxyParamCaption}
\item[{{\bf Histogram\+Ptr}}]{equalized\+Histogram}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a1990483c71de66a962a20c19c00a8fdc}{}\label{class_k_k_b_1_1_raster_a1990483c71de66a962a20c19c00a8fdc}


Definition at line 6159 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), K\+K\+B\+::\+Histogram\+::\+Equalized\+Map\+Table(), green, height, K\+K\+B\+::\+Histogram\+::\+Num\+Of\+Buckets(), K\+K\+B\+::os\+Wait\+For\+Enter(), Rows(), and width.



Referenced by Histogram\+Equalized\+Image().


\begin{DoxyCode}
6160 \{
6161   \textcolor{keywordflow}{if}  (equalizedHistogram->\hyperlink{class_k_k_b_1_1_histogram_a5ed817d12ec4f30eb761fcc4e57e42c7}{NumOfBuckets} () != 256)
6162   \{
6163     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6164          << \textcolor{stringliteral}{"**** ERROR ****    Histogram Does not have 256 Buckets["} 
6165          << equalizedHistogram->\hyperlink{class_k_k_b_1_1_histogram_a5ed817d12ec4f30eb761fcc4e57e42c7}{NumOfBuckets} () << \textcolor{stringliteral}{"]"}  << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6166          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
6167     \hyperlink{namespace_k_k_b_a255aa69aade7f429585349d08973e09f}{osWaitForEnter} ();
6168     exit (-1);
6169   \}
6170 
6171 
6172   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*  equalizedMapTable = equalizedHistogram->\hyperlink{class_k_k_b_1_1_histogram_a4aef03098feeca2316d2d8ea7862e1fe}{EqualizedMapTable} ();
6173 
6174   \textcolor{keywordflow}{if}  (!equalizedMapTable)
6175   \{
6176     cerr << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6177          << \textcolor{stringliteral}{"**** ERROR ****    Histogram Does not have EqualizeMapTable."}  << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
6178          << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
6179     \hyperlink{namespace_k_k_b_a255aa69aade7f429585349d08973e09f}{osWaitForEnter} ();
6180     exit (-1);
6181   \}
6182 
6183   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  equalizedImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{false});
6184 
6185   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  dest = equalizedImage->\hyperlink{class_k_k_b_1_1_raster_a2460989f656e5222d6074cd0ba85ed72}{Rows} ();
6186 
6187   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6188 
6189   \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  row++) 
6190   \{
6191     \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  col++)
6192     \{
6193       dest[row][col] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(equalizedMapTable[\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]]);
6194     \}
6195   \}
6196 
6197   \textcolor{keywordflow}{return}  equalizedImage;
6198 \}  \textcolor{comment}{/* HistogramEqualizedImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Histogram\+Grayscale@{Histogram\+Grayscale}}
\index{Histogram\+Grayscale@{Histogram\+Grayscale}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Histogram\+Grayscale() const }{HistogramGrayscale() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Histogram\+Ptr} Raster\+::\+Histogram\+Grayscale (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}{}\label{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}


Definition at line 6091 of file Raster.\+cpp.



References green, height, K\+K\+B\+::\+Histogram\+::\+Histogram(), K\+K\+B\+::\+Histogram\+::\+Increment(), and width.



Referenced by Histogram\+Equalized\+Image(), Histogram\+Grayscale\+Image(), and Segment\+Image().


\begin{DoxyCode}
6092 \{
6093   \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr} histogram = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_histogram}{KKB::Histogram} (0, 256, 1.0, \textcolor{keyword}{false});
6094 
6095   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row, col;
6096  
6097   \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  row++)
6098   \{
6099     \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  col++)
6100     \{
6101       histogram->\hyperlink{class_k_k_b_1_1_histogram_a1be7a2f10e83373a0e0083b970e0adfa}{Increment} (\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]);
6102     \}
6103   \}
6104 
6105   \textcolor{keywordflow}{return}  histogram;
6106 \}  \textcolor{comment}{/* HistogramGrayscale */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Histogram\+Grayscale\+Image@{Histogram\+Grayscale\+Image}}
\index{Histogram\+Grayscale\+Image@{Histogram\+Grayscale\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Histogram\+Grayscale\+Image() const }{HistogramGrayscaleImage() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Histogram\+Grayscale\+Image (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ab0a488458ec56a95238463ba29a2101c}{}\label{class_k_k_b_1_1_raster_ab0a488458ec56a95238463ba29a2101c}


Definition at line 6203 of file Raster.\+cpp.



References color, K\+K\+B\+::\+Histogram\+::\+Create\+Graph(), Create\+Gray\+Scale(), and Histogram\+Grayscale().


\begin{DoxyCode}
6204 \{
6205   \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr} histogram = NULL;
6206 
6207   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6208   \{
6209     \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  gsImage = this->\hyperlink{class_k_k_b_1_1_raster_ab2a2f8d11f4d51cbc5418069a7b58299}{CreateGrayScale} ();
6210     histogram = gsImage->\hyperlink{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}{HistogramGrayscale} ();
6211     \textcolor{keyword}{delete}  gsImage;
6212     gsImage = NULL;
6213   \}
6214   \textcolor{keywordflow}{else}
6215   \{
6216     histogram = \hyperlink{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}{HistogramGrayscale} ();
6217   \}
6218 
6219   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} histogramImage = histogram->\hyperlink{class_k_k_b_1_1_histogram_a5305305682f7b1dcb4e575550e94dce3}{CreateGraph} ();
6220   \textcolor{keyword}{delete} histogram;
6221   histogram = NULL;
6222   \textcolor{keywordflow}{return}  histogramImage;
6223 \}  \textcolor{comment}{/* HistogramGrayscaleImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Histogram\+Image@{Histogram\+Image}}
\index{Histogram\+Image@{Histogram\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Histogram\+Image(\+Color\+Channels channel) const }{HistogramImage(ColorChannels channel) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Histogram\+Image (
\begin{DoxyParamCaption}
\item[{{\bf Color\+Channels}}]{channel}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a116dbe1289e1ebbe9a2625f686879523}{}\label{class_k_k_b_1_1_raster_a116dbe1289e1ebbe9a2625f686879523}


Definition at line 6227 of file Raster.\+cpp.



References K\+K\+B\+::\+Histogram\+::\+Create\+Graph(), and Histogram().


\begin{DoxyCode}
6228 \{
6229   \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr} histogram = \hyperlink{class_k_k_b_1_1_raster_ae50c283424d3fbbdea957a3ff955909f}{Histogram} (channel);
6230   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} histogramImage = histogram->\hyperlink{class_k_k_b_1_1_histogram_a5305305682f7b1dcb4e575550e94dce3}{CreateGraph} ();
6231   \textcolor{keyword}{delete} histogram;
6232   histogram = NULL;
6233   \textcolor{keywordflow}{return}  histogramImage;
6234 \}  \textcolor{comment}{/* HistogramImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Initialize(kkint32 \+\_\+height, kkint32 \+\_\+width, uchar $\ast$\+\_\+\+Data, uchar $\ast$$\ast$\+\_\+\+Rows, bool \+\_\+take\+Ownership)}{Initialize(kkint32 _height, kkint32 _width, uchar *_Data, uchar **_Rows, bool _takeOwnership)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Initialize (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{{\bf uchar} $\ast$}]{\+\_\+\+Data, }
\item[{{\bf uchar} $\ast$$\ast$}]{\+\_\+\+Rows, }
\item[{bool}]{\+\_\+take\+Ownership}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a39c4cd3394798c5e4c80eeecbd2db121}{}\label{class_k_k_b_1_1_raster_a39c4cd3394798c5e4c80eeecbd2db121}


Sets an existing instance to specific \hyperlink{class_k_k_b_1_1_raster}{Raster} Data of a image. 

This instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} can take ownership of \textquotesingle{}\+\_\+\+Data\textquotesingle{} and \textquotesingle{}\+\_\+\+Rows\textquotesingle{} depending on \textquotesingle{}\+\_\+take\+Ownership\textquotesingle{}. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+height} & Image Height. \\
\hline
\mbox{\tt in}  & {\em \+\_\+width} & Image Width. \\
\hline
\mbox{\tt in}  & {\em \+\_\+\+Data} & The raster data that is to be used by this instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{}; it should be continuous data, \hyperlink{class_k_k_b_1_1_row}{Row} Major, of length (\+\_\+height $\ast$ \+\_\+width). \\
\hline
\mbox{\tt in}  & {\em \+\_\+\+Rows} & Two dimensional assessors to \textquotesingle{}\+\_\+\+Data\textquotesingle{}; each entry will point to the respective row in \textquotesingle{}\+\_\+\+Data\textquotesingle{} that contains that row. \\
\hline
\mbox{\tt in}  & {\em \+\_\+take\+Ownership} & Indicates whether this instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} will own the memory pointed to by \textquotesingle{}\+\_\+\+Data\textquotesingle{} and \textquotesingle{}\+\_\+\+Rows\textquotesingle{}; if set to true will delete them in the destructor. \\
\hline
\end{DoxyParams}


Definition at line 917 of file Raster.\+cpp.



References color, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
923 \{
924   CleanUpMemory ();
925   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} = \_height;
926   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  = \_width;
927   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
928   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} = \textcolor{keyword}{false};
929 
930   \textcolor{keywordflow}{if}  (\_grayScaleData == NULL)
931     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (\textcolor{stringliteral}{"Raster::Initialize    \_grayScaleData == NULL"});
932 
933   \textcolor{keywordflow}{if}  (\_grayScaleRows == NULL)
934     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (\textcolor{stringliteral}{"Raster::Initialize    \_grayScaleRows == NULL"});
935 
936   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = \_grayScaleData;
937   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} = \_grayScaleRows;
938 
939   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData} = \_takeOwnership;
940 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Initialize(kkint32 \+\_\+height, kkint32 \+\_\+width, uchar $\ast$\+\_\+red\+Area, uchar $\ast$$\ast$\+\_\+red, uchar $\ast$\+\_\+green\+Area, uchar $\ast$$\ast$\+\_\+green, uchar $\ast$\+\_\+blue\+Area, uchar $\ast$$\ast$\+\_\+blue, bool \+\_\+take\+Ownership)}{Initialize(kkint32 _height, kkint32 _width, uchar *_redArea, uchar **_red, uchar *_greenArea, uchar **_green, uchar *_blueArea, uchar **_blue, bool _takeOwnership)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Initialize (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{{\bf uchar} $\ast$}]{\+\_\+red\+Area, }
\item[{{\bf uchar} $\ast$$\ast$}]{\+\_\+red, }
\item[{{\bf uchar} $\ast$}]{\+\_\+green\+Area, }
\item[{{\bf uchar} $\ast$$\ast$}]{\+\_\+green, }
\item[{{\bf uchar} $\ast$}]{\+\_\+blue\+Area, }
\item[{{\bf uchar} $\ast$$\ast$}]{\+\_\+blue, }
\item[{bool}]{\+\_\+take\+Ownership}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ae3f9d840f284324b36deffcf68ac7c63}{}\label{class_k_k_b_1_1_raster_ae3f9d840f284324b36deffcf68ac7c63}


Sets an existing instance to specific \hyperlink{class_k_k_b_1_1_raster}{Raster} Data of a image. 

This instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} can take ownership of \textquotesingle{}\+\_\+\+Data\textquotesingle{} and \textquotesingle{}\+\_\+\+Rows\textquotesingle{} depending on \textquotesingle{}\+\_\+take\+Ownership\textquotesingle{}. The parameters \textquotesingle{}\+\_\+red\+Area\textquotesingle{}, \textquotesingle{}\+\_\+green\+Area\textquotesingle{}, and \textquotesingle{}\+\_\+blue\+Area\textquotesingle{} will point to raster data that represents their respective color channels. This data will be \textquotesingle{}Row-\/\+Major\textquotesingle{} and of length \textquotesingle{}(\+\_\+height $\ast$ \+\_\+width) bytes. For each color channel there will be a corresponding 2d accessors matrix \textquotesingle{}\+\_\+red\textquotesingle{}, \textquotesingle{}\+\_\+green\textquotesingle{}, and \textquotesingle{}\+\_\+blue\textquotesingle{} where each entry in these 2d arrays will point to their respective rows in the color channel. The \textquotesingle{}\+\_\+take\+Ownership\textquotesingle{} parameters indicates whether this instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} will own these memory locations. \textquotesingle{} 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \+\_\+height} & Image Height. \\
\hline
\mbox{\tt in}  & {\em \+\_\+width} & Image Width. \\
\hline
\mbox{\tt in}  & {\em \+\_\+red\+Area} & The raster data representing the red channel. \\
\hline
\mbox{\tt in}  & {\em \+\_\+red} & Two dimensional accessor to \textquotesingle{}\+\_\+red\+Area\textquotesingle{}. \\
\hline
\mbox{\tt in}  & {\em \+\_\+green\+Area} & The raster data representing the green channel. \\
\hline
\mbox{\tt in}  & {\em \+\_\+green} & Two dimensional accessor to \textquotesingle{}\+\_\+green\+Area\textquotesingle{}. \\
\hline
\mbox{\tt in}  & {\em \+\_\+blue\+Area} & The raster data representing the blue channel. \\
\hline
\mbox{\tt in}  & {\em \+\_\+blue} & Two dimensional accessor to \textquotesingle{}\+\_\+blue\+Area\textquotesingle{}. \\
\hline
\mbox{\tt in}  & {\em \+\_\+take\+Ownership} & Indicates whether this instance of \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} will own the supplied raster data. \\
\hline
\end{DoxyParams}


Definition at line 944 of file Raster.\+cpp.



References blue, blue\+Area, color, green, green\+Area, height, K\+K\+B\+::\+K\+K\+Exception\+::\+K\+K\+Exception(), red, red\+Area, tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
954 \{
955   CleanUpMemory ();
956   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} = \_height;
957   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  = \_width;
958   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}  = \textcolor{keyword}{true};
959 
960   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
961 
962   \textcolor{keywordflow}{if}  ((\_red   == NULL)  ||  (\_redArea   == NULL)  ||
963        (\_green == NULL)  ||  (\_greenArea == NULL)  ||
964        (\_blue  == NULL)  ||  (\_blueArea  == NULL)
965       )
966     \textcolor{keywordflow}{throw} \hyperlink{class_k_k_b_1_1_k_k_exception}{KKException} (\textcolor{stringliteral}{"Raster::Initialize    One or more of the Color channels == NULL"});
967 
968   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}   = \_redArea;     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}    = \_red;
969   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = \_greenArea;   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}  = \_green;
970   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}  = \_blueArea;    \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}   = \_blue;
971  
972   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData} = \_takeOwnership;
973 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Initialize()}{Initialize()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Initialize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_ae26204a81a54b533b562a8bb8044a397}{}\label{class_k_k_b_1_1_raster_ae26204a81a54b533b562a8bb8044a397}


Definition at line 79 of file Raster.\+cpp.



References K\+K\+B\+::\+Goal\+Keeper\+::\+Create(), K\+K\+B\+::\+Goal\+Keeper\+::\+End\+Block(), goal\+Keeper, raster\+Initialized, and K\+K\+B\+::\+Goal\+Keeper\+::\+Start\+Block().


\begin{DoxyCode}
80 \{
81   \hyperlink{class_k_k_b_1_1_goal_keeper_a46f564dd14177c3e6c413a2853e8de2b}{GoalKeeper::Create} (\textcolor{stringliteral}{"Raster"}, \hyperlink{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{goalKeeper});
82 
83   \hyperlink{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{goalKeeper}->\hyperlink{class_k_k_b_1_1_goal_keeper_a2a9565f88cee7b4339c24ed4d5155419}{StartBlock} ();
84   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a2610974dbde577985214db37444f5560}{rasterInitialized})
85   \{
86     \hyperlink{class_k_k_b_1_1_raster_a2610974dbde577985214db37444f5560}{rasterInitialized} = \textcolor{keyword}{true};
87     atexit (\hyperlink{class_k_k_b_1_1_raster_aaea50416d1a465c2bd46351c1229fecb}{Raster::FinalCleanUp});
88   \}
89   \hyperlink{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{goalKeeper}->\hyperlink{class_k_k_b_1_1_goal_keeper_aee88d11d3466dd77ef3e5b18c87e27fb}{EndBlock} ();
90 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Max\+Pix\+Val@{Max\+Pix\+Val}}
\index{Max\+Pix\+Val@{Max\+Pix\+Val}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Max\+Pix\+Val() const }{MaxPixVal() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::\+Max\+Pix\+Val (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a94e979bbb6ad22937b9c4d57291521ca}{}\label{class_k_k_b_1_1_raster_a94e979bbb6ad22937b9c4d57291521ca}
The maximum pixel value encountered in the image. 

Definition at line 320 of file Raster.\+h.



References max\+Pix\+Val.



Referenced by Raster().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Max\+Pix\+Val@{Max\+Pix\+Val}}
\index{Max\+Pix\+Val@{Max\+Pix\+Val}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Max\+Pix\+Val(uchar \+\_\+max\+Pix\+Val)}{MaxPixVal(uchar _maxPixVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Max\+Pix\+Val (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{\+\_\+max\+Pix\+Val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_ac28bdf805fc076d94f8032f208683409}{}\label{class_k_k_b_1_1_raster_ac28bdf805fc076d94f8032f208683409}


Definition at line 347 of file Raster.\+h.



References max\+Pix\+Val.



Referenced by Reduce\+By\+Even\+Multiple().


\begin{DoxyCode}
347 \{\hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}            = \_maxPixVal;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Memory\+Consumed\+Estimated@{Memory\+Consumed\+Estimated}}
\index{Memory\+Consumed\+Estimated@{Memory\+Consumed\+Estimated}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Memory\+Consumed\+Estimated() const }{MemoryConsumedEstimated() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Raster\+::\+Memory\+Consumed\+Estimated (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a201b99bad46e69e8df529bd60e84ab11}{}\label{class_k_k_b_1_1_raster_a201b99bad46e69e8df529bd60e84ab11}


Definition at line 864 of file Raster.\+cpp.



References blob\+Ids, color, file\+Name, fourier\+Mag\+Area, height, K\+K\+B\+::\+K\+K\+Str\+::\+Memory\+Consumed\+Estimated(), and tot\+Pixels.



Referenced by K\+K\+B\+::\+Raster\+Buffer\+::\+Add\+Raster().


\begin{DoxyCode}
865 \{
866   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobIdsMem = 0;
867   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds})
868     blobIdsMem = \textcolor{keyword}{sizeof}(\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}) * \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} + \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}*) * 
      \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
869 
870   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  fourierMem = 0;
871   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea})
872     fourierMem = \textcolor{keyword}{sizeof} (float) * \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} + \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}*) * \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
873 
874   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pixelMem = \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} + \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*) * \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
875   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
876     pixelMem = pixelMem * 3;
877 
878   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  memoryConsumedEstimated =
879     \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})     * 4   +
880     \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float})     * 2   +
881     \textcolor{keyword}{sizeof} (bool)      * 2   +
882     \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})   * 4   +
883     \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}**) * 1   +
884     \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*)    * 3   + 
885     \textcolor{keyword}{sizeof} (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**)   * 3   +
886     \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}*)    * 1   +
887     \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}**)   * 1   +
888     \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}.\hyperlink{class_k_k_b_1_1_k_k_str_afc335bf98a8d4a77dc34215e72068719}{MemoryConsumedEstimated} () +
889     blobIdsMem                          +
890     fourierMem                          +
891     pixelMem;
892 
893   \textcolor{keywordflow}{return}  memoryConsumedEstimated;
894 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Opening@{Opening}}
\index{Opening@{Opening}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Opening()}{Opening()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Opening (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a97cd9df45456230dc14e5c448f8d379e}{}\label{class_k_k_b_1_1_raster_a97cd9df45456230dc14e5c448f8d379e}


Definition at line 2944 of file Raster.\+cpp.



References Dilation(), and Erosion().


\begin{DoxyCode}
2945 \{
2946   \hyperlink{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{Erosion} ();
2947   \hyperlink{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}{Dilation} ();
2948 \}  \textcolor{comment}{/* Opening */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Opening@{Opening}}
\index{Opening@{Opening}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Opening(\+Mask\+Types mask)}{Opening(MaskTypes mask)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Opening (
\begin{DoxyParamCaption}
\item[{{\bf Mask\+Types}}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a72d8e2f3498bbe33b3587234413a81bf}{}\label{class_k_k_b_1_1_raster_a72d8e2f3498bbe33b3587234413a81bf}


Definition at line 2952 of file Raster.\+cpp.



References Dilation(), and Erosion().



Referenced by K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation().


\begin{DoxyCode}
2953 \{
2954   \hyperlink{class_k_k_b_1_1_raster_a5a019718e60c06c4262e8127232ff19c}{Erosion} (mask);
2955   \hyperlink{class_k_k_b_1_1_raster_afb263b7cc4ab60bf6745c5166173bbb9}{Dilation} (mask);
2956 \}  \textcolor{comment}{/* Open */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Padded@{Padded}}
\index{Padded@{Padded}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Padded(kkint32 padding)}{Padded(kkint32 padding)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Padded (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{padding}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ab7277c5bb190aae94b37158fd05d08da}{}\label{class_k_k_b_1_1_raster_ab7277c5bb190aae94b37158fd05d08da}


Definition at line 9308 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Get\+Pixel\+Value(), height, Set\+Pixel\+Value(), and width.


\begin{DoxyCode}
9309 \{
9310   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newHeight = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} + padding * 2;
9311   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newWidth  = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  + padding * 2;
9312 
9313   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r, c;
9314 
9315   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  paddedRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (newHeight, newWidth, \textcolor{keyword}{
      false});
9316 
9317   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  r++)
9318   \{
9319     \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; c++)
9320     \{
9321       paddedRaster->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r + padding, c + padding, this->
      \hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (r, c));
9322     \}
9323   \}
9324 
9325   \textcolor{keywordflow}{return}  paddedRaster;
9326 \}  \textcolor{comment}{/* Padded */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Paint\+Fat\+Point@{Paint\+Fat\+Point}}
\index{Paint\+Fat\+Point@{Paint\+Fat\+Point}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Paint\+Fat\+Point(kkint32 row, kkint32 col, const Pixel\+Value pv, float alpha)}{PaintFatPoint(kkint32 row, kkint32 col, const PixelValue pv, float alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Paint\+Fat\+Point (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{const {\bf Pixel\+Value}}]{pv, }
\item[{float}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}{}\label{class_k_k_b_1_1_raster_a08d238dd96db4c101911ecf48e9eeae5}


Definition at line 6453 of file Raster.\+cpp.



References Paint\+Point().



Referenced by Draw\+Fat\+Line().


\begin{DoxyCode}
6458 \{
6459   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row - 2, col,     pv, alpha);
6460 
6461   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row - 1, col - 1, pv, alpha);
6462   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row - 1, col,     pv, alpha);
6463   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row - 1, col + 1, pv, alpha);
6464 
6465   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row,     col - 2, pv, alpha);
6466   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row,     col - 1, pv, alpha);
6467   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row,     col,     pv, alpha);
6468   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row,     col + 1, pv, alpha);
6469   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row,     col + 2, pv, alpha);
6470 
6471   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row + 1, col - 1, pv, alpha);
6472   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row + 1, col,     pv, alpha);
6473   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row + 1, col + 1, pv, alpha);
6474 
6475   \hyperlink{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{PaintPoint} (row + 2, col,     pv, alpha);
6476 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Paint\+Point@{Paint\+Point}}
\index{Paint\+Point@{Paint\+Point}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Paint\+Point(kkint32 row, kkint32 col, const Pixel\+Value \&pv, float alpha)}{PaintPoint(kkint32 row, kkint32 col, const PixelValue &pv, float alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Paint\+Point (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{const {\bf Pixel\+Value} \&}]{pv, }
\item[{float}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}{}\label{class_k_k_b_1_1_raster_af573604bfd6f29535533e422a6ef3b88}


Definition at line 6432 of file Raster.\+cpp.



References color, height, and width.



Referenced by Paint\+Fat\+Point().


\begin{DoxyCode}
6437 \{
6438   \textcolor{keywordflow}{if}  ((row < 0)  ||  (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})  ||  (col < 0)  ||  (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
6439     \textcolor{keywordflow}{return};
6440 
6441   \textcolor{keywordtype}{float} beta = 1.0f - alpha;
6442 
6443   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (255, (\textcolor{keywordtype}{int})(0.5f + alpha * (\textcolor{keywordtype}{float})pv.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g}  + beta  * (\textcolor{keywordtype}{float})
      \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col]));
6444   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
6445   \{
6446     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col] = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (255, (\textcolor{keywordtype}{int})(0.5f + alpha * (\textcolor{keywordtype}{float})pv.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r}  + beta  * (\textcolor{keywordtype}{float})
      \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col]));
6447     \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col] = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (255, (\textcolor{keywordtype}{int})(0.5f + alpha * (\textcolor{keywordtype}{float})pv.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b}  + beta  * (\textcolor{keywordtype}{float})
      \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col]));
6448   \}
6449 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Print\+Out\+List\+Of\+Allocatedraster\+Instances@{Print\+Out\+List\+Of\+Allocatedraster\+Instances}}
\index{Print\+Out\+List\+Of\+Allocatedraster\+Instances@{Print\+Out\+List\+Of\+Allocatedraster\+Instances}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Print\+Out\+List\+Of\+Allocatedraster\+Instances()}{PrintOutListOfAllocatedrasterInstances()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Print\+Out\+List\+Of\+Allocatedraster\+Instances (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_k_k_b_1_1_raster_ab7d2c23c80e882321a9f8c7baa958899}{}\label{class_k_k_b_1_1_raster_ab7d2c23c80e882321a9f8c7baa958899}


Definition at line 153 of file Raster.\+cpp.


\begin{DoxyCode}
154 \{
155   map<RasterPtr, RasterPtr>::iterator  idx;
156   \textcolor{keywordflow}{for}  (idx = \hyperlink{class_k_k_b_1_1_raster_a58c233ff55c2a1fa1b021776e7437c27}{allocatedRasterInstances}.begin ();  idx != 
      \hyperlink{class_k_k_b_1_1_raster_a58c233ff55c2a1fa1b021776e7437c27}{allocatedRasterInstances}.end ();  ++idx)
157   \{
158     \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  r = idx->first;
159     cout << r << \textcolor{stringliteral}{"\(\backslash\)t"}
160              << r->\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () << \textcolor{stringliteral}{"\(\backslash\)t"}
161              << r->\hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width}  () << \textcolor{stringliteral}{"\(\backslash\)t"}
162              << r->\hyperlink{class_k_k_b_1_1_raster_a847b09bd1487b61bf126d7732f3694f2}{FileName} ()
163              << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
164   \}
165 \}  \textcolor{comment}{/* PrintOutListOfAllocatedrasterInstances */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Red@{Red}}
\index{Red@{Red}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Red() const }{Red() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::\+Red (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{}\label{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}
returns a pointer to two dimensional array for \textquotesingle{}Red\textquotesingle{} color channel. 

Definition at line 326 of file Raster.\+h.



References red.



Referenced by K\+K\+B\+::\+Bmp\+Image\+::\+Bmp\+Image(), Create\+Smoothed\+Medium\+Image(), Create\+Smooth\+Image(), Extract\+Using\+Mask(), Find\+Magnitude\+Differences(), K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation(), Raster(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), Tightly\+Bounded(), and Transpose().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Red\+Area@{Red\+Area}}
\index{Red\+Area@{Red\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Red\+Area() const }{RedArea() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$ K\+K\+B\+::\+Raster\+::\+Red\+Area (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{}\label{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}


Definition at line 329 of file Raster.\+h.



References red\+Area.



Referenced by K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Class\+Average\+R\+G\+B(), Create\+Color\+Image\+From\+Labels(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Extract\+Channel(), From\+Compressor(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Get\+Class\+Closest\+To\+Target\+Color(), K\+K\+B\+::\+Morph\+Op\+Mask\+Exclude\+::\+Perform\+Operation(), K\+K\+B\+::\+Read\+Image\+P\+P\+M(), Reduce\+By\+Factor(), K\+K\+B\+::\+Save\+Image\+P\+N\+G(), K\+K\+B\+::\+Save\+Image\+P\+P\+M(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), and To\+Color().


\begin{DoxyCode}
329 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Reduce\+By\+Even\+Multiple@{Reduce\+By\+Even\+Multiple}}
\index{Reduce\+By\+Even\+Multiple@{Reduce\+By\+Even\+Multiple}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Reduce\+By\+Even\+Multiple(kkint32 multiple) const }{ReduceByEvenMultiple(kkint32 multiple) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Reduce\+By\+Even\+Multiple (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{multiple}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a7f932c0cc0961de4706a356a2bee8bbb}{}\label{class_k_k_b_1_1_raster_a7f932c0cc0961de4706a356a2bee8bbb}


Definition at line 7361 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Foreground\+Pixel\+Count(), Green(), green, height, Max\+Pix\+Val(), and width.


\begin{DoxyCode}
7362 \{
7363   \textcolor{comment}{// We will pad one extra pixel top, bot, left, and right.}
7364   \textcolor{comment}{// This is necessary because some feature calculations assume that there edge rows are empty.}
7365 
7366   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nHeight = \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} / multiple) + 2;
7367   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nWidth  = \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  / multiple) + 2; 
7368 
7369   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;
7370   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;
7371   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nRow, nCol;
7372 
7373   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}**  workRaster  = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}*[nHeight];
7374   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**     workDivisor = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*[nHeight];
7375   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}*   workRow     = NULL;
7376 
7377   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  workDivisorRow = NULL;
7378 
7379   \textcolor{keywordflow}{for}  (nRow = 0;  nRow < nHeight;  nRow++)
7380   \{
7381     workRow = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}[nWidth];
7382     workRaster[nRow] = workRow;
7383 
7384     workDivisorRow = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[nWidth];
7385     workDivisor[nRow] = workDivisorRow;
7386 
7387     \textcolor{keywordflow}{for}  (nCol = 0;  nCol < nWidth;  nCol++)
7388     \{
7389       workRow[nCol] = 0;
7390       workDivisorRow[nCol] = 0;
7391     \}
7392   \}
7393 
7394   nRow = 1;
7395   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  intermediateRow = 0;
7396   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  intermediateCol = 0;
7397   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  srcRow = NULL;
7398 
7399   \textcolor{keywordflow}{for}  (row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  row++)
7400   \{
7401     srcRow = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row];
7402     intermediateCol = 0;
7403     nCol = 1;
7404     workRow = workRaster[nRow];
7405     workDivisorRow = workDivisor[nRow];
7406 
7407     \textcolor{keywordflow}{for}  (col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  col++)
7408     \{
7409       workRow[nCol] += srcRow[col];
7410       workDivisorRow[nCol]++;
7411 
7412       intermediateCol++;
7413       \textcolor{keywordflow}{if}  (intermediateCol >= multiple)
7414       \{
7415         intermediateCol = 0;
7416         nCol++;
7417       \}
7418     \}
7419 
7420     intermediateRow++;
7421     \textcolor{keywordflow}{if}  (intermediateRow >= multiple)
7422     \{
7423       intermediateRow = 0;
7424       nRow++;
7425     \}
7426   \}
7427 
7428   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  reducedRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (nHeight, nWidth, \textcolor{keyword}{
      false});
7429 
7430   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  destRow = NULL;
7431 
7432   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newPixelVal           = 0;
7433   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nMaxPixVal            = 0;
7434   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nForegroundPixelCount = 0;
7435 
7436   \textcolor{keywordflow}{for}  (nRow = 0;  nRow < nHeight;  nRow++)
7437   \{
7438     destRow = (reducedRaster->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ())[nRow];
7439     workRow = workRaster[nRow];
7440     workDivisorRow = workDivisor[nRow];
7441 
7442     \textcolor{keywordflow}{for}  (nCol = 0;  nCol < nWidth;  nCol++)
7443     \{
7444       newPixelVal = workRow[nCol];
7445       \textcolor{keywordflow}{if}  (newPixelVal > 0)  
7446       \{
7447         nForegroundPixelCount++;
7448         newPixelVal = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(0.5f + (\textcolor{keywordtype}{float})(newPixelVal) / (\textcolor{keywordtype}{float})(workDivisorRow[nCol]));
7449         destRow[nCol] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(newPixelVal);
7450         \textcolor{keywordflow}{if}  (newPixelVal > nMaxPixVal)
7451           nMaxPixVal = newPixelVal;
7452       \}
7453     \}
7454 
7455     \textcolor{keyword}{delete}  workRaster[nRow];  
7456     \textcolor{keyword}{delete}  workDivisor[nRow];
7457     workRaster[nRow]  = NULL;
7458     workDivisor[nRow] = NULL;
7459   \}
7460   \textcolor{keyword}{delete}[]  workRaster;
7461   workRaster = NULL;
7462   \textcolor{keyword}{delete}[]  workDivisor;
7463   workDivisor = NULL;
7464 
7465   reducedRaster->\hyperlink{class_k_k_b_1_1_raster_a38425a410e40696276be4f22de702eb6}{ForegroundPixelCount} (nForegroundPixelCount);
7466   reducedRaster->\hyperlink{class_k_k_b_1_1_raster_a94e979bbb6ad22937b9c4d57291521ca}{MaxPixVal} ((\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})nMaxPixVal);
7467 
7468   \textcolor{keywordflow}{return}  reducedRaster;
7469 \}  \textcolor{comment}{/* ReduceByEvenMultiple */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Reduce\+By\+Factor@{Reduce\+By\+Factor}}
\index{Reduce\+By\+Factor@{Reduce\+By\+Factor}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Reduce\+By\+Factor(float factor) const }{ReduceByFactor(float factor) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Reduce\+By\+Factor (
\begin{DoxyParamCaption}
\item[{float}]{factor}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_abd1fcfba95cd98f0509810dc6d1c9784}{}\label{class_k_k_b_1_1_raster_abd1fcfba95cd98f0509810dc6d1c9784}


Definition at line 7473 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blue, Blue\+Area(), color, green, Green\+Area(), height, red, Red\+Area(), and width.


\begin{DoxyCode}
7474 \{
7475   \textcolor{keywordflow}{if}  (factor <= 0.0f)  
7476     factor = 0.1f;
7477   
7478   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  (factor > 1.0f)
7479     factor = 1.0f;
7480 
7481   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  c, r;
7482 
7483   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newR;
7484 
7485   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newHeight = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * factor + 0.5f);
7486   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newWidth  = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  * factor + 0.5f);
7487   \textcolor{keywordflow}{if}  (newHeight < 2)
7488     newHeight = 2;
7489 
7490   \textcolor{keywordflow}{if}  (newWidth < 2)
7491     newWidth = 2;
7492 
7493   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newTotal  = newHeight * newWidth;
7494 
7495   \textcolor{keywordtype}{float}*  accumulatorAreaGreen = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[newTotal];
7496   \textcolor{keywordtype}{float}*  accumulatorAreaRed   = NULL;
7497   \textcolor{keywordtype}{float}*  accumulatorAreaBlue  = NULL;
7498   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7499   \{
7500     accumulatorAreaRed   = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[newTotal];
7501     accumulatorAreaBlue  = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[newTotal];
7502     memset (accumulatorAreaRed,  0, newTotal * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}));
7503     memset (accumulatorAreaBlue, 0, newTotal * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}));
7504   \}
7505 
7506   \textcolor{keywordtype}{float}*  divisorArea          = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[newTotal];
7507 
7508   memset (accumulatorAreaGreen, 0, newTotal * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}));
7509   memset (divisorArea,          0, newTotal * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{float}));
7510 
7511   \textcolor{keywordtype}{float}** accumulatorRed   = NULL;
7512   \textcolor{keywordtype}{float}** accumulatorGreen = \textcolor{keyword}{new} \textcolor{keywordtype}{float}*[newHeight];
7513   \textcolor{keywordtype}{float}** accumulatorBlue  = NULL;
7514 
7515   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7516   \{
7517     accumulatorRed  = \textcolor{keyword}{new} \textcolor{keywordtype}{float}*[newHeight];
7518     accumulatorBlue = \textcolor{keyword}{new} \textcolor{keywordtype}{float}*[newHeight];
7519   \}
7520 
7521 
7522   \textcolor{keywordtype}{float}** \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}   = \textcolor{keyword}{new} \textcolor{keywordtype}{float}*[newHeight];
7523 
7524   \textcolor{keywordtype}{float}*  rowFactor = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} + 1];
7525   \textcolor{keywordtype}{float}*  colFactor = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  + 1];
7526 
7527   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  r++)
7528     rowFactor[r] = r * factor;
7529   rowFactor[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}] = (float)newHeight;
7530 
7531   \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  c++)
7532     colFactor[c] = c * factor;
7533   colFactor[\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}] = (float)newWidth;
7534 
7535   \textcolor{keywordtype}{float}*  arPtr = accumulatorAreaRed;
7536   \textcolor{keywordtype}{float}*  agPtr = accumulatorAreaGreen;
7537   \textcolor{keywordtype}{float}*  abPtr = accumulatorAreaBlue;
7538   \textcolor{keywordtype}{float}*  daPtr = divisorArea;
7539   \textcolor{keywordflow}{for}  (newR = 0;  newR < newHeight;  newR++)
7540   \{
7541     accumulatorGreen [newR] = agPtr;
7542     divisor          [newR] = daPtr;
7543     agPtr += newWidth;
7544     daPtr += newWidth;
7545 
7546     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7547     \{
7548       accumulatorRed [newR] = arPtr;
7549       accumulatorBlue[newR] = abPtr;
7550       arPtr += newWidth;
7551       abPtr += newWidth;
7552     \}
7553   \}
7554 
7555   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  rValue = 0, gValue = 0, bValue = 0;
7556 
7557   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  r++)
7558   \{
7559     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  thisRow = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})rowFactor[r];
7560     \textcolor{keywordflow}{if}  (thisRow >= newHeight)
7561       thisRow = newHeight - 1;
7562 
7563     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nextRow = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})rowFactor[r + 1];
7564     \textcolor{keywordflow}{if}  (nextRow >= newHeight)
7565       nextRow = newHeight - 1;
7566 
7567     \textcolor{keywordtype}{float}  amtThisRow = 1.0f;
7568     \textcolor{keywordtype}{float}  amtNextRow = 0.0f;
7569 
7570     \textcolor{keywordflow}{if}  (nextRow > thisRow)
7571     \{
7572       amtThisRow = (float)nextRow - rowFactor[r];
7573       amtNextRow = 1.0f - amtThisRow;
7574     \}
7575 
7576     \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  c++)
7577     \{
7578       gValue = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c];
7579       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7580       \{
7581         rValue = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [r][c];
7582         bValue = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r][c];
7583       \}
7584 
7585       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  thisCol = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})colFactor[c];
7586       \textcolor{keywordflow}{if}  (thisCol >= newWidth)
7587         thisCol = newWidth - 1;
7588 
7589       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  nextCol = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})colFactor[c + 1];
7590       \textcolor{keywordflow}{if}  (nextCol >= newWidth)
7591         nextCol = newWidth - 1;
7592 
7593       \textcolor{keywordtype}{float}  amtThisCol = 1.0f;
7594       \textcolor{keywordtype}{float}  amtNextCol = 0.0f;
7595 
7596       \textcolor{keywordflow}{if}  (nextCol > thisCol)
7597       \{
7598         amtThisCol = (float)nextCol - colFactor[c];
7599         amtNextCol = 1.0f - amtThisCol;
7600       \}
7601 
7602       accumulatorGreen[thisRow][thisCol] += gValue * amtThisRow * amtThisCol;
7603       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7604       \{
7605         accumulatorRed [thisRow][thisCol] += rValue * amtThisRow * amtThisCol;
7606         accumulatorBlue[thisRow][thisCol] += bValue * amtThisRow * amtThisCol;
7607       \}
7608 
7609       divisor   [thisRow][thisCol] += amtThisRow * amtThisCol;
7610 
7611       \textcolor{keywordflow}{if}  (nextRow > thisRow)
7612       \{
7613         accumulatorGreen[nextRow][thisCol] += gValue * amtNextRow * amtThisCol;
7614         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7615         \{
7616           accumulatorRed [nextRow][thisCol] += rValue * amtNextRow * amtThisCol;
7617           accumulatorBlue[nextRow][thisCol] += bValue * amtNextRow * amtThisCol;
7618         \}
7619         divisor   [nextRow][thisCol] += amtNextRow * amtThisCol;
7620 
7621         \textcolor{keywordflow}{if}  (nextCol > thisCol)
7622         \{
7623           accumulatorGreen[nextRow][nextCol] += gValue * amtNextRow * amtNextCol;
7624           \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7625           \{
7626             accumulatorRed [nextRow][nextCol] += rValue * amtNextRow * amtNextCol;
7627             accumulatorBlue[nextRow][nextCol] += bValue * amtNextRow * amtNextCol;
7628           \}
7629           divisor   [nextRow][nextCol] += amtNextRow * amtNextCol;
7630         \}
7631       \}
7632       \textcolor{keywordflow}{else}
7633       \{
7634         \textcolor{keywordflow}{if}  (nextCol > thisCol)
7635         \{
7636           accumulatorGreen[thisRow][nextCol] += gValue * amtThisRow * amtNextCol;
7637           \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7638           \{
7639             accumulatorRed [thisRow][nextCol] += rValue * amtThisRow * amtNextCol;
7640             accumulatorBlue[thisRow][nextCol] += bValue * amtThisRow * amtNextCol;
7641           \}
7642           divisor   [thisRow][nextCol] += amtThisRow * amtNextCol;
7643         \}
7644       \}
7645     \}  \textcolor{comment}{/*  for (c)  */}
7646   \}  \textcolor{comment}{/*  for (r)  */}
7647 
7648   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
7649   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  reducedRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (newHeight, newWidth, 
      \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
7650   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  newRedArea   = reducedRaster->\hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{RedArea}   ();
7651   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  newGreenArea = reducedRaster->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
7652   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  newBlueArea  = reducedRaster->\hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{BlueArea}  ();
7653   \textcolor{keywordflow}{for}  (x = 0;  x < newTotal;  x++)
7654   \{
7655     \textcolor{keywordflow}{if}  (divisorArea[x] == 0.0f)
7656     \{
7657       newGreenArea[x] = 0;
7658       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7659       \{
7660         newRedArea [x] = 0;
7661         newBlueArea[x] = 0;
7662       \}
7663     \}
7664     \textcolor{keywordflow}{else}
7665     \{
7666       newGreenArea[x] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(accumulatorAreaGreen[x] / divisorArea[x] + 0.5f);
7667       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
7668       \{
7669         newRedArea [x] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(accumulatorAreaRed [x] / divisorArea[x] + 0.5f);
7670         newBlueArea[x] = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar})(accumulatorAreaBlue[x] / divisorArea[x] + 0.5f);
7671       \}
7672     \}
7673      
7674   \}
7675 
7676   \textcolor{keyword}{delete}[]  accumulatorAreaRed;    accumulatorAreaRed   = NULL;
7677   \textcolor{keyword}{delete}[]  accumulatorAreaGreen;  accumulatorAreaGreen = NULL;
7678   \textcolor{keyword}{delete}[]  accumulatorAreaBlue;   accumulatorAreaBlue  = NULL;
7679 
7680   \textcolor{keyword}{delete}[]  divisorArea;       divisorArea    = NULL;
7681 
7682   \textcolor{keyword}{delete}[]  accumulatorRed;    accumulatorRed    = NULL;
7683   \textcolor{keyword}{delete}[]  accumulatorGreen;  accumulatorGreen  = NULL;
7684   \textcolor{keyword}{delete}[]  accumulatorBlue;   accumulatorBlue   = NULL;
7685   \textcolor{keyword}{delete}[]  \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor};           divisor           = NULL;
7686 
7687   \textcolor{keyword}{delete}[]  rowFactor;       rowFactor      = NULL;
7688   \textcolor{keyword}{delete}[]  colFactor;       colFactor      = NULL;
7689 
7690   \textcolor{keywordflow}{return}  reducedRaster;
7691 \}  \textcolor{comment}{/* ReduceByFactor */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Reduce\+To\+Most\+Complete\+Blob@{Reduce\+To\+Most\+Complete\+Blob}}
\index{Reduce\+To\+Most\+Complete\+Blob@{Reduce\+To\+Most\+Complete\+Blob}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Reduce\+To\+Most\+Complete\+Blob(uchar connected\+Component\+Dist)}{ReduceToMostCompleteBlob(uchar connectedComponentDist)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Reduce\+To\+Most\+Complete\+Blob (
\begin{DoxyParamCaption}
\item[{{\bf uchar}}]{connected\+Component\+Dist}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a80542e020bcb5252079bea98b7f19e50}{}\label{class_k_k_b_1_1_raster_a80542e020bcb5252079bea98b7f19e50}


Locates most complete blob; that is the one with the largest (Height x Width); and removes all other images from the blob. 



Definition at line 3522 of file Raster.\+cpp.



References blob\+Ids, Extract\+Blobs(), green, green\+Area, height, K\+K\+B\+::\+Blob\+::\+Id(), K\+K\+B\+::\+Blob\+List\+::\+Locate\+Most\+Complete(), tot\+Pixels, and width.


\begin{DoxyCode}
3523 \{
3524   \textcolor{keywordflow}{if}  (connectedComponentDist < 1)
3525     connectedComponentDist = 3;
3526 
3527   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0, col = 0;
3528 
3529   \hyperlink{class_k_k_b_1_1_blob_list}{BlobListPtr}  blobs = \hyperlink{class_k_k_b_1_1_raster_a5d6059f6d0020e493683b2a00a6a8821}{ExtractBlobs} (connectedComponentDist);
3530 
3531   \hyperlink{class_k_k_b_1_1_blob}{BlobPtr} largestBlob = blobs->\hyperlink{class_k_k_b_1_1_blob_list_a484e59309adbbfa4d39a0f08586b3e83}{LocateMostComplete} ();
3532   \textcolor{keywordflow}{if}  (largestBlob)
3533   \{
3534     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  blobId = largestBlob->\hyperlink{class_k_k_b_1_1_blob_add1ed75f6509956508b71aabeeae213c}{Id} ();
3535      
3536     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   newImageArea = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}];
3537     memset (newImageArea, 0, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
3538     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*   newImageAreaPtr = newImageArea;
3539 
3540     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newRows = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*[\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}];
3541 
3542     \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3543     \{
3544       newRows[row] = newImageAreaPtr;
3545       
3546       \textcolor{keywordflow}{for}  (col = 0; col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; col++)
3547       \{
3548         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row][col] == blobId)
3549         \{
3550           newRows[row][col] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
3551         \}
3552       \}
3553 
3554       newImageAreaPtr = newImageAreaPtr + \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
3555     \}
3556 
3557     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
3558     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
3559 
3560     \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea} = newImageArea;
3561     \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green} = newRows;
3562   \}
3563 
3564   \textcolor{keywordflow}{for}  (row = 0; row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}; row++)
3565     \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}[row];
3566   \textcolor{keyword}{delete}  \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds};
3567   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds} = NULL;
3568 
3569   \textcolor{keyword}{delete}  blobs;  blobs = NULL;
3570 
3571   \textcolor{keywordflow}{return};
3572 \}  \textcolor{comment}{/* ReduceToMostCompleteBlob */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Remove\+Raster\+Instance@{Remove\+Raster\+Instance}}
\index{Remove\+Raster\+Instance@{Remove\+Raster\+Instance}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Remove\+Raster\+Instance(const Raster\+Ptr r)}{RemoveRasterInstance(const RasterPtr r)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Remove\+Raster\+Instance (
\begin{DoxyParamCaption}
\item[{const {\bf Raster\+Ptr}}]{r}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a08a471ab2ba9036fd5c21f07a1e67fe8}{}\label{class_k_k_b_1_1_raster_a08a471ab2ba9036fd5c21f07a1e67fe8}


Definition at line 129 of file Raster.\+cpp.



Referenced by $\sim$\+Raster().


\begin{DoxyCode}
130 \{
131   \textcolor{comment}{/*}
132 \textcolor{comment}{  if  (!rasterInitialized)}
133 \textcolor{comment}{    Initialize ();}
134 \textcolor{comment}{}
135 \textcolor{comment}{  goalKeeper->StartBlock ();}
136 \textcolor{comment}{}
137 \textcolor{comment}{  map<RasterPtr, RasterPtr>::iterator  idx;}
138 \textcolor{comment}{  idx = allocatedRasterInstances.find (r);}
139 \textcolor{comment}{  if  (idx == allocatedRasterInstances.end ())}
140 \textcolor{comment}{  \{}
141 \textcolor{comment}{    cerr << std::endl << "Raster::RemoveRasterInstance   ***ERROR***   Raster Instance[" << r << "] Not
       Found." << std::endl << std::endl;}
142 \textcolor{comment}{  \}}
143 \textcolor{comment}{  else}
144 \textcolor{comment}{  \{}
145 \textcolor{comment}{    allocatedRasterInstances.erase (idx);}
146 \textcolor{comment}{  \}}
147 \textcolor{comment}{  goalKeeper->EndBlock ();}
148 \textcolor{comment}{  */}
149 \}  \textcolor{comment}{/* RemoveRasterInstance */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Re\+Size@{Re\+Size}}
\index{Re\+Size@{Re\+Size}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Re\+Size(kkint32 \+\_\+height, kkint32 \+\_\+width, bool \+\_\+color)}{ReSize(kkint32 _height, kkint32 _width, bool _color)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Re\+Size (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{\+\_\+height, }
\item[{{\bf kkint32}}]{\+\_\+width, }
\item[{bool}]{\+\_\+color}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}{}\label{class_k_k_b_1_1_raster_ad0a4daf2ba175cedf00ce975bb746417}


Lets you resize the raster dimensions; old image data will be lost. 



Definition at line 898 of file Raster.\+cpp.



References color, height, and width.



Referenced by Dilation(), Edge(), Erosion(), Fill\+Hole(), and K\+K\+B\+::\+Convex\+Hull\+::\+Filter().


\begin{DoxyCode}
902 \{
903   CleanUpMemory ();
904   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} = \_height;
905   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  = \_width;
906   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}  = \_color;
907   AllocateImageArea ();
908 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Reversed\+Image@{Reversed\+Image}}
\index{Reversed\+Image@{Reversed\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Reversed\+Image()}{ReversedImage()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Reversed\+Image (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a7e08c23ca46019cf0d71fbd58816ee50}{}\label{class_k_k_b_1_1_raster_a7e08c23ca46019cf0d71fbd58816ee50}


Definition at line 1177 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), and Reverse\+Image().


\begin{DoxyCode}
1178 \{
1179   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
1180   result->\hyperlink{class_k_k_b_1_1_raster_a6bd18a014fd3867714e04c037f021497}{ReverseImage} ();
1181   \textcolor{keywordflow}{return}  result;
1182 \}  \textcolor{comment}{/* ReversedImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Reverse\+Image@{Reverse\+Image}}
\index{Reverse\+Image@{Reverse\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Reverse\+Image()}{ReverseImage()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Reverse\+Image (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a6bd18a014fd3867714e04c037f021497}{}\label{class_k_k_b_1_1_raster_a6bd18a014fd3867714e04c037f021497}


Definition at line 1198 of file Raster.\+cpp.



References background\+Pixel\+TH, background\+Pixel\+Value, blue\+Area, color, foreground\+Pixel\+Value, green\+Area, red\+Area, and tot\+Pixels.



Referenced by K\+K\+B\+::\+Histogram\+::\+Create\+Graph(), K\+K\+B\+::\+Read\+Image(), and Reversed\+Image().


\begin{DoxyCode}
1199 \{
1200   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;
1201 
1202   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++)
1203   \{
1204     \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x] = 255 - \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x];
1205     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1206     \{
1207       \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}[x]  = 255 - \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}[x];
1208       \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}[x] = 255 - \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}[x];
1209     \}
1210   \}
1211 
1212   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  temp = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
1213   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue} = \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue};
1214   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue} = temp;
1215   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH} = 255 - \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH};
1216 \}  \textcolor{comment}{/* ReversedImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Rotate@{Rotate}}
\index{Rotate@{Rotate}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Rotate(float turn\+Angle)}{Rotate(float turnAngle)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Rotate (
\begin{DoxyParamCaption}
\item[{float}]{turn\+Angle}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a7b77d6efde4a3d52b70489180b9afc93}{}\label{class_k_k_b_1_1_raster_a7b77d6efde4a3d52b70489180b9afc93}


Definition at line 5732 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Get\+Pixel\+Value(), Height(), height, Set\+Pixel\+Value(), Width(), and width.



Referenced by Derive\+Image\+Length().


\begin{DoxyCode}
5733 \{
5734 
5735   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  diag = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})sqrt ((\textcolor{keywordtype}{float})(\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () * \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () + 
      \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () * \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} ())) + 10;
5736   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  halfDiag = (diag + 1) / 2;
5737 
5738   \textcolor{comment}{//  J( x+width(J)/2, y+height(J)/2 )= I( A11x+A12y+b1, A21x+A22y+b2 ),}
5739   \textcolor{comment}{//  C:\(\backslash\)Program Files\(\backslash\)OpenCV\(\backslash\)docs\(\backslash\)ref\(\backslash\)OpenCVRef\_ImageProcessing.htm}
5740   \textcolor{comment}{//      Example. Using cvGetQuadrangeSubPix for image rotation}
5741 
5742 
5743   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  rotatedImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (diag, diag, \textcolor{keyword}{false});
5744 
5745   \textcolor{keywordtype}{float}  a11 = (float)(cos (-turnAngle));
5746   \textcolor{keywordtype}{float}  a12 = (float)(sin (-turnAngle));
5747   \textcolor{keywordtype}{float}  b1  = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  * 0.5f;
5748 
5749   \textcolor{keywordtype}{float}  a21 = -a12;
5750   \textcolor{keywordtype}{float}  a22 = a11;
5751   \textcolor{keywordtype}{float}  b2  = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * 0.5f;
5752 
5753   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  centDestCol = 0;
5754   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  centDestRow = 0;
5755 
5756   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  srcCol;
5757   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  srcRow;
5758 
5759   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  destX;
5760   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  destY;
5761 
5762 
5763   \textcolor{keywordflow}{for}  (centDestRow = -halfDiag; centDestRow <  halfDiag; centDestRow++)
5764   \{
5765     \textcolor{keywordflow}{for}  (centDestCol = -halfDiag; centDestCol <  halfDiag; centDestCol++)
5766     \{
5767       srcRow = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})(a21 * centDestCol) + (\textcolor{keywordtype}{float})(a22 * centDestRow) + b2 + 0.5);
5768       \textcolor{keywordflow}{if}  ((srcRow >= 0)  &&  (srcRow < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}))
5769       \{
5770         srcCol = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})(a11 * centDestCol) + (\textcolor{keywordtype}{float})(a12 * centDestRow) + b1 + 0.5);
5771    
5772         \textcolor{keywordflow}{if}  ((srcCol >= 0)  &&  (srcCol < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
5773         \{
5774           \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pixVal = \hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (srcRow, srcCol);
5775           \textcolor{keywordflow}{if}  (pixVal > 0)
5776           \{
5777             destY = centDestRow + halfDiag;
5778             destX = centDestCol + halfDiag;
5779             rotatedImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (destY, destX, pixVal);
5780           \}
5781         \}
5782       \}
5783     \}
5784   \}
5785 
5786   \textcolor{keywordflow}{return}  rotatedImage;
5787 \}  \textcolor{comment}{/* Rotate */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Rotate\+Derive\+Pre\+Rotated\+Point@{Rotate\+Derive\+Pre\+Rotated\+Point}}
\index{Rotate\+Derive\+Pre\+Rotated\+Point@{Rotate\+Derive\+Pre\+Rotated\+Point}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Rotate\+Derive\+Pre\+Rotated\+Point(kkint32 height, kkint32 width, Point \&rotated\+Point, float turn\+Angle) const }{RotateDerivePreRotatedPoint(kkint32 height, kkint32 width, Point &rotatedPoint, float turnAngle) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Point} Raster\+::\+Rotate\+Derive\+Pre\+Rotated\+Point (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{height, }
\item[{{\bf kkint32}}]{width, }
\item[{{\bf Point} \&}]{rotated\+Point, }
\item[{float}]{turn\+Angle}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a10227c8d743941ea2e8a961fbad3d471}{}\label{class_k_k_b_1_1_raster_a10227c8d743941ea2e8a961fbad3d471}


Definition at line 5792 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), K\+K\+B\+::\+Point\+::\+Point(), and K\+K\+B\+::\+Point\+::\+Row().



Referenced by Derive\+Image\+Length().


\begin{DoxyCode}
5798 \{
5799   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  diag = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})sqrt ((\textcolor{keywordtype}{float})(\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} + 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})) + 10;
5800 
5801   \textcolor{keywordtype}{float}  a11 = (float)(cos (-turnAngle));
5802   \textcolor{keywordtype}{float}  a12 = (float)(sin (-turnAngle));
5803   \textcolor{keywordtype}{float}  b1  = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  * 0.5f;
5804 
5805   \textcolor{keywordtype}{float}  a21 = -a12;
5806   \textcolor{keywordtype}{float}  a22 = a11;
5807   \textcolor{keywordtype}{float}  b2  = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * 0.5f;
5808 
5809   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  halfDiag = (diag + 1) / 2;
5810 
5811   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  centDestRow = rotatedPoint.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} () - halfDiag;
5812   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  centDestCol = rotatedPoint.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} () - halfDiag;
5813 
5814   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  srcY = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})(a21 * centDestCol) + (\textcolor{keywordtype}{float})(a22 * centDestRow) + b2 + 0.
      5);
5815   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  srcX = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})(a11 * centDestCol) + (\textcolor{keywordtype}{float})(a12 * centDestRow) + b1 + 0.
      5);
5816 
5817   \textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_point}{Point} (srcY, srcX);
5818 \}  \textcolor{comment}{/* RotateDerivePreRotatedPoint */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Rows@{Rows}}
\index{Rows@{Rows}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Rows() const }{Rows() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::\+Rows (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a2460989f656e5222d6074cd0ba85ed72}{}\label{class_k_k_b_1_1_raster_a2460989f656e5222d6074cd0ba85ed72}
returns a pointer to a 2D array that allows the caller to access the raster data by row and column. 

Definition at line 321 of file Raster.\+h.



References green.



Referenced by K\+K\+B\+::\+Bmp\+Image\+::\+Bmp\+Image(), K\+K\+B\+::\+Contour\+Follower\+::\+Contour\+Follower(), Histogram\+Equalized\+Image(), Segment\+Image(), and K\+K\+B\+::\+Convex\+Hull\+::\+Store().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Segment\+Image@{Segment\+Image}}
\index{Segment\+Image@{Segment\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Segment\+Image(bool save=false)}{SegmentImage(bool save=false)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Segment\+Image (
\begin{DoxyParamCaption}
\item[{bool}]{save = {\ttfamily false}}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5e55331b6ea8e6517a3c17819db74c25}{}\label{class_k_k_b_1_1_raster_a5e55331b6ea8e6517a3c17819db74c25}


Definition at line 7824 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), K\+K\+B\+::\+Histogram\+::\+Average\+Of\+Max\+Bucket\+In\+Range(), Background\+Pixel\+Value(), K\+K\+B\+::\+Blue, Color(), K\+K\+B\+::\+K\+K\+Str\+::\+Concat(), Create\+Gray\+Scale(), Create\+Smooth\+Image(), Extract\+Channel(), file\+Name, Foreground\+Pixel\+Value(), Get\+Pixel\+Value(), K\+K\+B\+::\+Green, Height(), Histogram\+Grayscale(), K\+K\+B\+::\+K\+K\+Str\+::operator+(), K\+K\+B\+::operator+(), K\+K\+B\+::os\+Add\+Last\+Slash(), K\+K\+B\+::os\+Create\+Directory\+Path(), K\+K\+B\+::os\+Get\+Root\+Name(), K\+K\+B\+::\+Red, Rows(), K\+K\+B\+::\+Histogram\+::\+Save(), K\+K\+B\+::\+Histogram\+::\+Save\+Graph\+Image(), K\+K\+B\+::\+Save\+Image(), Set\+Pixel\+Value(), K\+K\+B\+::\+Histogram\+::\+Smooth(), K\+K\+B\+::\+Str\+Format\+Int(), and Width().


\begin{DoxyCode}
7825 \{
7826   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  rootName  = \hyperlink{namespace_k_k_b_af5b668ed9902d7f93b62529664a739f0}{osGetRootName} (\hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName});
7827   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  dirName = \textcolor{stringliteral}{"c:\(\backslash\)\(\backslash\)Temp\(\backslash\)\(\backslash\)PolutionImages\(\backslash\)\(\backslash\)"} + rootName;
7828   \textcolor{keywordflow}{if}  (save)
7829     \hyperlink{namespace_k_k_b_a61e3d69fe8599d1057ace0d00c38a6f9}{osCreateDirectoryPath} (dirName);
7830   \hyperlink{namespace_k_k_b_a60e413a66cd7d3a5679d2844dd5e3d97}{osAddLastSlash} (dirName);
7831 
7832   \hyperlink{class_k_k_b_1_1_k_k_str}{KKStr}  baseName = dirName + rootName;
7833 
7834   \textcolor{keywordflow}{if}  (save)
7835     \hyperlink{namespace_k_k_b_a79418a91c1f41864f9b0047aa01b52bc}{SaveImage} (*\textcolor{keyword}{this}, baseName + \textcolor{stringliteral}{"\_Orig.bmp"});
7836 
7837   \textcolor{keywordtype}{bool}  imageIsWhiteOnBlack = \textcolor{keyword}{false};
7838 
7839   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r, c;
7840 
7841   \textcolor{keywordtype}{float}  threshold;
7842 
7843   \textcolor{keywordtype}{float}  backgroundValue;
7844   \textcolor{keywordtype}{float}  forgroundValue;
7845 
7846   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  gsImage = NULL;
7847 
7848   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{Color} ())
7849   \{
7850     gsImage = \hyperlink{class_k_k_b_1_1_raster_ab2a2f8d11f4d51cbc5418069a7b58299}{CreateGrayScale} ();
7851 
7852     \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  redPart    = \hyperlink{class_k_k_b_1_1_raster_afe394fc6faac00f67a5cde4c1f3b70cb}{ExtractChannel} (
      \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718aee38e4d5dd68c4e440825018d549cb47}{ColorChannels::Red});
7853     \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  greenPart  = \hyperlink{class_k_k_b_1_1_raster_afe394fc6faac00f67a5cde4c1f3b70cb}{ExtractChannel} (
      \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718ad382816a3cbeed082c9e216e7392eed1}{ColorChannels::Green});
7854     \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  bluePart   = \hyperlink{class_k_k_b_1_1_raster_afe394fc6faac00f67a5cde4c1f3b70cb}{ExtractChannel} (
      \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718a9594eec95be70e7b1710f730fdda33d9}{ColorChannels::Blue});
7855 
7856     \textcolor{keyword}{delete}  redPart;
7857     \textcolor{keyword}{delete}  greenPart;
7858     \textcolor{keyword}{delete}  bluePart;
7859   \}
7860   \textcolor{keywordflow}{else}
7861   \{
7862     gsImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
7863   \}
7864 
7865   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  mask = NULL;
7866 
7867   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  smoothedImage = gsImage->\hyperlink{class_k_k_b_1_1_raster_a7cc2985980e4679bd1ce1283da0bd9a3}{CreateSmoothImage} ();
7868   \{
7869     \textcolor{comment}{// Now lets determine if white or black background}
7870  
7871     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  g = smoothedImage->\hyperlink{class_k_k_b_1_1_raster_a2460989f656e5222d6074cd0ba85ed72}{Rows} ();
7872 
7873     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totalOfPixelVals = 0;
7874     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  count = 0;
7875  
7876     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastRow = \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} () - 1;
7877     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  lastCol = \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} () - 1;
7878 
7879     \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} ();  c++)
7880     \{
7881       totalOfPixelVals += g[0][c];
7882       totalOfPixelVals += g[lastRow][c];
7883       count += 2;
7884     \}
7885 
7886     \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ();  r++)
7887     \{
7888       totalOfPixelVals += g[r][0];
7889       totalOfPixelVals += g[r][lastCol];
7890       count += 2;
7891     \}
7892 
7893     threshold = (float)totalOfPixelVals / (\textcolor{keywordtype}{float})count;
7894 
7895     imageIsWhiteOnBlack = (threshold < (float)175.0);
7896   \}
7897 
7898   imageIsWhiteOnBlack = \textcolor{keyword}{false};
7899 
7900   \textcolor{keywordflow}{if}  (imageIsWhiteOnBlack)
7901   \{
7902     gsImage->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} (0);
7903     gsImage->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} (255);
7904   \}
7905   \textcolor{keywordflow}{else}
7906   \{
7907     gsImage->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} (255);
7908     gsImage->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} (0);
7909   \}
7910 
7911   \textcolor{keywordflow}{if}  (save)
7912   \{
7913     \hyperlink{namespace_k_k_b_a79418a91c1f41864f9b0047aa01b52bc}{SaveImage} (*gsImage, baseName + \textcolor{stringliteral}{"\_GrayScale.bmp"});
7914     \hyperlink{namespace_k_k_b_a79418a91c1f41864f9b0047aa01b52bc}{SaveImage} (*smoothedImage, baseName + \textcolor{stringliteral}{"\_Smoothed.bmp"});
7915   \}
7916 
7917 
7918   \{
7919     \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr}  grayScaleHistogram = smoothedImage->
      \hyperlink{class_k_k_b_1_1_raster_a58cbc4c1368e65cd9d3ce7ee2a919179}{HistogramGrayscale} ();
7920 
7921     \textcolor{keywordflow}{if}  (save)
7922     \{
7923       grayScaleHistogram->\hyperlink{class_k_k_b_1_1_histogram_ad875d4652f38d49d9c2fd170afee0071}{Save}           (baseName + \textcolor{stringliteral}{"\_Histogram.txt"});
7924       grayScaleHistogram->\hyperlink{class_k_k_b_1_1_histogram_a0638645f1b64aa0128b3af42360360e7}{SaveGraphImage} (baseName + \textcolor{stringliteral}{"\_Histogram.bmp"});
7925     \}
7926 
7927     \hyperlink{class_k_k_b_1_1_histogram}{HistogramPtr}  grayScaleHistogramSmoothed = grayScaleHistogram->
      \hyperlink{class_k_k_b_1_1_histogram_a3377c8afecd84c378025ef38e4a1d4ad}{Smooth} (4);
7928 
7929     \textcolor{keywordflow}{if}  (save)
7930     \{
7931       grayScaleHistogramSmoothed->\hyperlink{class_k_k_b_1_1_histogram_ad875d4652f38d49d9c2fd170afee0071}{Save}           (baseName + \textcolor{stringliteral}{"\_HistogramSmoothed.txt"});
7932       grayScaleHistogramSmoothed->\hyperlink{class_k_k_b_1_1_histogram_a0638645f1b64aa0128b3af42360360e7}{SaveGraphImage} (baseName + \textcolor{stringliteral}{"\_HistogramSmoothed.bmp"});
7933     \}
7934 
7935     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  g = smoothedImage->\hyperlink{class_k_k_b_1_1_raster_a2460989f656e5222d6074cd0ba85ed72}{Rows} ();
7936 
7937     \textcolor{keywordflow}{if}  (imageIsWhiteOnBlack)
7938     \{
7939       backgroundValue = grayScaleHistogramSmoothed->\hyperlink{class_k_k_b_1_1_histogram_ac0d1890f4e8826a2f7a217ecfbf76c59}{AverageOfMaxBucketInRange} (0, 
      120);
7940       forgroundValue  = grayScaleHistogramSmoothed->\hyperlink{class_k_k_b_1_1_histogram_ac0d1890f4e8826a2f7a217ecfbf76c59}{AverageOfMaxBucketInRange} (130
      , 255);
7941       \textcolor{comment}{//threshold = grayScaleHistogramSmoothed->AverageOfMinBucketInRange (backgroundValue,
       forgroundValue);}
7942       \textcolor{comment}{//threshold = backgroundValue + 10;}
7943       threshold = (float)(backgroundValue + forgroundValue) / 2.0f;
7944     \}
7945     \textcolor{keywordflow}{else}
7946     \{
7947       backgroundValue = grayScaleHistogramSmoothed->\hyperlink{class_k_k_b_1_1_histogram_ac0d1890f4e8826a2f7a217ecfbf76c59}{AverageOfMaxBucketInRange} (130
      , 255);
7948       forgroundValue  = grayScaleHistogramSmoothed->\hyperlink{class_k_k_b_1_1_histogram_ac0d1890f4e8826a2f7a217ecfbf76c59}{AverageOfMaxBucketInRange} (0, 
      120);
7949       \textcolor{comment}{//threshold = grayScaleHistogramSmoothed->AverageOfMinBucketInRange (forgroundValue,
       backgroundValue);}
7950       \textcolor{comment}{//threshold = backgroundValue - 10; }
7951       threshold = (float)(backgroundValue + forgroundValue) / 2.0f;
7952     \}
7953 
7954     \textcolor{comment}{//threshold = (backgroundValue + forgroundValue) / (float)2.0;}
7955 
7956     mask = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} (), 
      \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} (), \textcolor{keyword}{false});
7957     mask->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} (0);
7958     mask->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} (255);
7959 
7960     \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ();  r++)
7961     \{
7962       \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} ();  c++)
7963       \{
7964         \textcolor{keywordflow}{if}  (imageIsWhiteOnBlack)
7965         \{
7966           \textcolor{keywordflow}{if}  (g[r][c] > threshold)
7967             mask->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, 255);
7968           \textcolor{keywordflow}{else}
7969             mask->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, 0);
7970         \}
7971         \textcolor{keywordflow}{else}
7972         \{
7973           \textcolor{comment}{// Image is Black on White}
7974           \textcolor{keywordflow}{if}  (g[r][c] < threshold)
7975             mask->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, 255);
7976           \textcolor{keywordflow}{else}
7977             mask->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, 0);
7978         \}  
7979       \}
7980     \}
7981 
7982     \textcolor{keyword}{delete}  grayScaleHistogramSmoothed;
7983     \textcolor{keyword}{delete}  grayScaleHistogram;
7984   \}
7985 
7986   \textcolor{keywordflow}{if}  (save)
7987     \hyperlink{namespace_k_k_b_a79418a91c1f41864f9b0047aa01b52bc}{SaveImage} (*mask, baseName + \textcolor{stringliteral}{"\_Mask\_"} + \hyperlink{namespace_k_k_b_ae3bde258fa036604fac8bdb0277ab46e}{StrFormatInt} ((
      \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})threshold, \textcolor{stringliteral}{"zz0"}) + \textcolor{stringliteral}{".bmp"});
7988 
7989   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  destRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (
      \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} (), \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} (), \textcolor{keyword}{false});
7990   destRaster->\hyperlink{class_k_k_b_1_1_raster_a823cb64d8d4c82620d16564e13855e75}{BackgroundPixelValue} (255);
7991   destRaster->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} (0);
7992 
7993   \textcolor{keywordflow}{for}  (r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} ();  r++)
7994   \{
7995     \textcolor{keywordflow}{for}  (c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} ();  c++)
7996     \{
7997       \textcolor{keywordflow}{if}  (mask->\hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (r, c) >= 150)
7998       \{
7999         \textcolor{keywordflow}{if}  (imageIsWhiteOnBlack)
8000           destRaster->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, gsImage->\hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (r, c));
8001         \textcolor{keywordflow}{else}
8002           destRaster->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, 255 - gsImage->
      \hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (r, c));
8003       \}
8004       \textcolor{keywordflow}{else}
8005       \{
8006         destRaster->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (r, c, 255);
8007       \}
8008     \}
8009   \}
8010 
8011 
8012   \textcolor{keyword}{delete}  gsImage;
8013   \textcolor{keyword}{delete}  mask;
8014 
8015   
8016   \textcolor{keywordflow}{if}  (save)
8017     \hyperlink{namespace_k_k_b_a79418a91c1f41864f9b0047aa01b52bc}{SaveImage} (*destRaster, baseName + \textcolor{stringliteral}{"\_Segmented.bmp"});
8018 
8019   \textcolor{keywordflow}{return}  destRaster;
8020 \}  \textcolor{comment}{/* SegmentImage */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Set\+Pixel\+Value@{Set\+Pixel\+Value}}
\index{Set\+Pixel\+Value@{Set\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Value(const Point \&point, const Pixel\+Value \&pix\+Val)}{SetPixelValue(const Point &point, const PixelValue &pixVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Set\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{const {\bf Point} \&}]{point, }
\item[{const {\bf Pixel\+Value} \&}]{pix\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{}\label{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}


Definition at line 1440 of file Raster.\+cpp.



References K\+K\+B\+::\+Point\+::\+Col(), K\+K\+B\+::\+Point\+::\+Row(), and Set\+Pixel\+Value().



Referenced by Draw\+Dot().


\begin{DoxyCode}
1443 \{
1444   \hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (point.\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (), point.\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), pixVal);
1445 \} \textcolor{comment}{/* SetPixelValue */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Set\+Pixel\+Value@{Set\+Pixel\+Value}}
\index{Set\+Pixel\+Value@{Set\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Value(kkint32 row, kkint32 col, uchar pix\+Val)}{SetPixelValue(kkint32 row, kkint32 col, uchar pixVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Set\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{{\bf uchar}}]{pix\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a5f7e27c9a966bec844c7ecf33964f679}{}\label{class_k_k_b_1_1_raster_a5f7e27c9a966bec844c7ecf33964f679}


Definition at line 1390 of file Raster.\+cpp.



References green, height, and width.



Referenced by K\+K\+B\+::\+Histogram\+::\+Create\+Graph(), K\+K\+B\+::\+Convex\+Hull\+::\+Draw(), Half\+Size(), Padded(), K\+K\+B\+::\+Read\+Image\+P\+G\+M(), Rotate(), and Segment\+Image().


\begin{DoxyCode}
1394 \{
1395   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1396        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1397        (col <  0)      ||
1398        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1399   \{
1400     cerr << \textcolor{stringliteral}{"***ERROR*** Raster::SetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1401     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1402     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1403     \textcolor{keywordflow}{return};
1404   \}
1405 
1406   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = pixVal;
1407 \}  \textcolor{comment}{/* SetPixelValue */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Set\+Pixel\+Value@{Set\+Pixel\+Value}}
\index{Set\+Pixel\+Value@{Set\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Value(kkint32 row, kkint32 col, const Pixel\+Value \&pix\+Val)}{SetPixelValue(kkint32 row, kkint32 col, const PixelValue &pixVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Set\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{const {\bf Pixel\+Value} \&}]{pix\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ae13673a78281e24097ede5a825f76dac}{}\label{class_k_k_b_1_1_raster_ae13673a78281e24097ede5a825f76dac}


Definition at line 1413 of file Raster.\+cpp.



References K\+K\+B\+::\+Pixel\+Value\+::b, blue, color, K\+K\+B\+::\+Pixel\+Value\+::g, green, height, K\+K\+B\+::\+Pixel\+Value\+::r, red, and width.



Referenced by Create\+Color(), Create\+Color\+With\+Blobs\+Labeld\+By\+Color(), Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(), Draw\+Circle(), Draw\+Dot(), Fill\+Blob(), Set\+Pixel\+Value(), and Threshold\+In\+H\+S\+I().


\begin{DoxyCode}
1417 \{
1418   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1419        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1420        (col <  0)      ||
1421        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1422   \{
1423     cerr << \textcolor{stringliteral}{"***ERROR*** Raster::SetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1424     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1425     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1426     \textcolor{keywordflow}{return};
1427   \}
1428 
1429   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = pixVal.\hyperlink{class_k_k_b_1_1_pixel_value_ab9b7056f3cf6f67a5987a8119ceaab67}{g};
1430   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1431   \{
1432     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}  [row][col] = pixVal.\hyperlink{class_k_k_b_1_1_pixel_value_a734e16b4afd9a270df67aa1ce726e2d0}{r};
1433     \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue} [row][col] = pixVal.\hyperlink{class_k_k_b_1_1_pixel_value_ac43e49760f71b756dba6c40e80e7917a}{b};
1434   \}
1435 \}  \textcolor{comment}{/* SetPixelValue  */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Set\+Pixel\+Value@{Set\+Pixel\+Value}}
\index{Set\+Pixel\+Value@{Set\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Value(kkint32 row, kkint32 col, uchar r, uchar g, uchar b)}{SetPixelValue(kkint32 row, kkint32 col, uchar r, uchar g, uchar b)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Set\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{{\bf uchar}}]{r, }
\item[{{\bf uchar}}]{g, }
\item[{{\bf uchar}}]{b}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ad30a7874abb478048c8de65b6b9e17f2}{}\label{class_k_k_b_1_1_raster_ad30a7874abb478048c8de65b6b9e17f2}


Definition at line 1450 of file Raster.\+cpp.



References blue, color, green, height, red, and width.


\begin{DoxyCode}
1456 \{
1457   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1458        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1459        (col <  0)      ||
1460        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1461   \{
1462     cerr << \textcolor{stringliteral}{"***ERROR*** Raster::SetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1463     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1464     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1465     \textcolor{keywordflow}{return};
1466   \}
1467 
1468   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = g;
1469   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1470   \{
1471     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}  [row][col] = r;
1472     \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue} [row][col] = b;
1473   \}
1474 \}  \textcolor{comment}{/* SetPixelValue  */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Set\+Pixel\+Value@{Set\+Pixel\+Value}}
\index{Set\+Pixel\+Value@{Set\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Set\+Pixel\+Value(\+Color\+Channels channel, kkint32 row, kkint32 col, uchar pix\+Val)}{SetPixelValue(ColorChannels channel, kkint32 row, kkint32 col, uchar pixVal)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Set\+Pixel\+Value (
\begin{DoxyParamCaption}
\item[{{\bf Color\+Channels}}]{channel, }
\item[{{\bf kkint32}}]{row, }
\item[{{\bf kkint32}}]{col, }
\item[{{\bf uchar}}]{pix\+Val}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_afa75e86849bd89d5e5b27bc09cf64576}{}\label{class_k_k_b_1_1_raster_afa75e86849bd89d5e5b27bc09cf64576}


Definition at line 1479 of file Raster.\+cpp.



References blue, color, K\+K\+B\+::\+Green, green, height, K\+K\+B\+::\+Red, red, and width.



Referenced by Half\+Size().


\begin{DoxyCode}
1484 \{
1485   \textcolor{keywordflow}{if}  ((row <  0)      ||  
1486        (row >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}) ||
1487        (col <  0)      ||
1488        (col >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
1489   \{
1490     cerr << \textcolor{stringliteral}{"***ERROR*** Raster::SetPixelValue   *** ERROR ***,  Raster Dimensions Exceeded."}       << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1491     cerr << \textcolor{stringliteral}{"                        Height["} << \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} << \textcolor{stringliteral}{"]  Width["} << 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} << \textcolor{stringliteral}{"]."} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1492     cerr << \textcolor{stringliteral}{"                        Row["}    << row    << \textcolor{stringliteral}{"]  Col["}   << col   << \textcolor{stringliteral}{"]."} << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1493     \textcolor{keywordflow}{return};
1494   \}
1495 
1496   \textcolor{keywordflow}{if}  (channel == \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718ad382816a3cbeed082c9e216e7392eed1}{ColorChannels::Green})
1497   \{
1498     \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col] = pixVal;
1499     \textcolor{keywordflow}{return};
1500   \}
1501 
1502   \textcolor{keywordflow}{if}  (!\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
1503   \{
1504     cerr << \textcolor{stringliteral}{"***ERROR*** Raster::SetPixelValue   *** ERROR ***,  Not a Color Raster."}  << 
      \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
1505   \}
1506 
1507   \textcolor{keywordflow}{if}  (channel == \hyperlink{namespace_k_k_b_a91743d17eafa05c7ff4e08017ac2b718aee38e4d5dd68c4e440825018d549cb47}{ColorChannels::Red})
1508     \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}  [row][col]  = pixVal;
1509   \textcolor{keywordflow}{else}
1510     \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue} [row][col] = pixVal;
1511 
1512 \}  \textcolor{comment}{/* SetPixelValue  */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Simple\+Compression@{Simple\+Compression}}
\index{Simple\+Compression@{Simple\+Compression}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Simple\+Compression(kkuint32 \&buff\+Len) const }{SimpleCompression(kkuint32 &buffLen) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} $\ast$ Raster\+::\+Simple\+Compression (
\begin{DoxyParamCaption}
\item[{{\bf kkuint32} \&}]{buff\+Len}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a426bf1a664b189e3e8a24d7955d97b4e}{}\label{class_k_k_b_1_1_raster_a426bf1a664b189e3e8a24d7955d97b4e}


Compresses the image in \hyperlink{class_k_k_b_1_1_raster}{Raster} using a simple Run length algorithm and returns a pointer to compressed data. 

Using a simple run length compression algorithm compress the data in \hyperlink{class_k_k_b_1_1_raster}{Raster} and return a pointer to the resultant buffer. The caller will take ownership of the compressed data and be responsible for deleting it. The function \textquotesingle{}From\+Compressor\textquotesingle{} can take the compressed data with its length and recreate the original \hyperlink{class_k_k_b_1_1_raster}{Raster} object. 


\begin{DoxyParams}{Parameters}
{\em buff\+Len} & \mbox{[}in,out\mbox{]} Length of the compressed buffer returned. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
pointer to compressed data; null if it fails, else an uchar$\ast$. 
\end{DoxyReturn}


Definition at line 9016 of file Raster.\+cpp.



References K\+K\+B\+::\+Simple\+Compressor\+::\+Add16\+Bit\+Int(), K\+K\+B\+::\+Simple\+Compressor\+::\+Add\+Byte(), K\+K\+B\+::\+Simple\+Compressor\+::\+Create\+Compressed\+Buffer(), green\+Area, height, K\+K\+B\+::\+Simple\+Compressor\+::\+Simple\+Compressor(), and width.


\begin{DoxyCode}
9017 \{
9018   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totalPixs = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} * \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
9019 
9020   \hyperlink{class_k_k_b_1_1_simple_compressor}{SimpleCompressor}  compressor (totalPixs);
9021 
9022   compressor.Add16BitInt (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height});
9023   compressor.Add16BitInt (width);
9024 
9025   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x;
9026   \textcolor{keywordflow}{for}  (x = 0;  x < totalPixs;  x++)
9027     compressor.AddByte (\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x]);
9028 
9029   \textcolor{keywordflow}{return}  compressor.CreateCompressedBuffer (buffLen);
9030 \}  \textcolor{comment}{/* SimpleCompression */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Sobel\+Edge\+Detector@{Sobel\+Edge\+Detector}}
\index{Sobel\+Edge\+Detector@{Sobel\+Edge\+Detector}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Sobel\+Edge\+Detector() const }{SobelEdgeDetector() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Sobel\+Edge\+Detector (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a41eed40d88fc32beb26b51df5490a30f}{}\label{class_k_k_b_1_1_raster_a41eed40d88fc32beb26b51df5490a30f}


Definition at line 7696 of file Raster.\+cpp.



References K\+K\+B\+::\+Morph\+Op\+Sobel\+::\+Perform\+Operation().


\begin{DoxyCode}
7697 \{
7698   \hyperlink{class_k_k_b_1_1_morph_op_sobel}{MorphOpSobel}  sobel;
7699   \textcolor{keywordflow}{return} sobel.\hyperlink{class_k_k_b_1_1_morph_op_sobel_a0e58b3ecae29af573c719b8d79c8dbd4}{PerformOperation} (\textcolor{keyword}{this});
7700 \}  \textcolor{comment}{/* SobelEdgeDetector */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Split\+Image\+Into\+Equal\+Parts@{Split\+Image\+Into\+Equal\+Parts}}
\index{Split\+Image\+Into\+Equal\+Parts@{Split\+Image\+Into\+Equal\+Parts}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Split\+Image\+Into\+Equal\+Parts(kkint32 num\+Col\+Splits, kkint32 num\+Row\+Splits) const }{SplitImageIntoEqualParts(kkint32 numColSplits, kkint32 numRowSplits) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+List\+Ptr} Raster\+::\+Split\+Image\+Into\+Equal\+Parts (
\begin{DoxyParamCaption}
\item[{{\bf kkint32}}]{num\+Col\+Splits, }
\item[{{\bf kkint32}}]{num\+Row\+Splits}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_aa0294d021fa2182494130ab7482d6245}{}\label{class_k_k_b_1_1_raster_aa0294d021fa2182494130ab7482d6245}


Definition at line 8025 of file Raster.\+cpp.



References height, Raster(), K\+K\+B\+::\+Raster\+List\+::\+Raster\+List(), and width.


\begin{DoxyCode}
8028 \{
8029   \textcolor{keywordflow}{if}  ((numColSplits < 1)  ||  (numColSplits >= \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}))
8030     \textcolor{keywordflow}{return} NULL;
8031 
8032   \textcolor{keywordflow}{if}  ((numRowSplits < 1)  ||  (numRowSplits >= \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}))  
8033     \textcolor{keywordflow}{return} NULL;
8034 
8035   \hyperlink{class_k_k_b_1_1_raster_list}{RasterListPtr}  parts = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_list}{RasterList} (\textcolor{keyword}{true});
8036 
8037   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partStartingCol = 0;
8038   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partStartingRow = 0;
8039  
8040   \textcolor{comment}{// because the image might not divide evenly we may have to do some}
8041   \textcolor{comment}{// adjusting,  possibly loosing some rows and columns off the edges.}
8042   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partWidth  = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})(\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  / numColSplits) + 0.5);
8043   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  colsNeeded = numColSplits * partWidth;
8044   \textcolor{keywordflow}{if}  (colsNeeded > \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width})
8045   \{
8046     partWidth--;
8047     partStartingCol = (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width} - (partWidth * numColSplits)) / 2;
8048   \}
8049 
8050   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partHeight = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})((\textcolor{keywordtype}{float})(\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}  / numRowSplits) + 0.5);
8051   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  rowsNeeded = numRowSplits * partHeight;
8052   \textcolor{keywordflow}{if}  (rowsNeeded > \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height})
8053   \{
8054     partWidth--;
8055     rowsNeeded = numRowSplits * partHeight;
8056     partStartingRow = (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} -rowsNeeded) / 2;
8057   \}
8058 
8059   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  splitRow;
8060   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  splitCol;
8061 
8062   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partStartRow = partStartingRow;
8063 
8064   \textcolor{keywordflow}{for}  (splitRow = 0;  splitRow < numRowSplits;  splitRow++)
8065   \{
8066     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partEndRow = partStartRow + partHeight - 1;
8067 
8068     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partStartCol = partStartingCol;
8069 
8070     \textcolor{keywordflow}{for}  (splitCol = 0;  splitCol < numColSplits;  splitCol++)
8071     \{
8072       \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  partEndCol = partStartCol + partWidth - 1;
8073 
8074       \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  part = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (*\textcolor{keyword}{this}, partStartRow, partStartCol, partHeight, partWidth
      );
8075 
8076       parts->\hyperlink{class_k_k_b_1_1_k_k_queue_aa9fba4632b54268bf71ecb42dee0b575}{PushOnBack} (part);
8077 
8078       partStartCol = partEndCol + 1;
8079     \}
8080 
8081     partStartRow = partEndRow + 1;
8082   \}
8083 
8084   \textcolor{keywordflow}{return}  parts;
8085 \}  \textcolor{comment}{/* SplitImageIntoEqualParts */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Streatch\+Image@{Streatch\+Image}}
\index{Streatch\+Image@{Streatch\+Image}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Streatch\+Image(float row\+Factor, float col\+Factor) const }{StreatchImage(float rowFactor, float colFactor) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Streatch\+Image (
\begin{DoxyParamCaption}
\item[{float}]{row\+Factor, }
\item[{float}]{col\+Factor}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a4f7b265b19d74bc95270060a0d573057}{}\label{class_k_k_b_1_1_raster_a4f7b265b19d74bc95270060a0d573057}


Definition at line 1187 of file Raster.\+cpp.



References K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Morph\+Op\+Stretcher(), and K\+K\+B\+::\+Morph\+Op\+Stretcher\+::\+Perform\+Operation().


\begin{DoxyCode}
1190 \{
1191   \hyperlink{class_k_k_b_1_1_morph_op_stretcher}{MorphOpStretcher}  streatcher (rowFactor, colFactor);
1192   \textcolor{keywordflow}{return}  streatcher.PerformOperation (\textcolor{keyword}{this});
1193 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Swap\+Quadrants@{Swap\+Quadrants}}
\index{Swap\+Quadrants@{Swap\+Quadrants}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Swap\+Quadrants() const }{SwapQuadrants() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Swap\+Quadrants (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_abe4c971aa421088b32edbbc993209c45}{}\label{class_k_k_b_1_1_raster_abe4c971aa421088b32edbbc993209c45}
summary$>$ Thresholds image in H\+SI space.

remarks$>$ Returns an image with only the pixels that are within a specified distance in H\+SI space to the supplied H\+SI parameters. All pixels that are not within the specified distance will be set to {\itshape flag\+Value} . /remarks$>$ param name=\textquotesingle{}thresholdH\textquotesingle{}$>$ Hue in radians(0.\+0 thru 2\+Pie).

param name=\textquotesingle{}thresholdS\textquotesingle{}$>$ Saturation (0.\+0 thru 1.\+0).

param name=\textquotesingle{}thresholdI\textquotesingle{}$>$ Intensity (0.\+0 thru 1.\+0).

param name=\textquotesingle{}distance\textquotesingle{}$>$ Euclidean Distance (0.\+0 thru 1.\+0) that a pixel must be within in H\+SI space to be included.

param name=\textquotesingle{}flag\+Value\textquotesingle{}$>$ \hyperlink{class_k_k_b_1_1_pixel_value}{Pixel\+Value} to set for pixels that are N\+OT within \textquotesingle{}distance\textquotesingle{} of threshold.

returns$>$ A image where pixels that are within the threshold will retain their original pixel values and the ones that are not will be set to \textquotesingle{}flag\+Value\textquotesingle{}.

Definition at line 5165 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), blue, fourier\+Mag, green, height, red, and width.


\begin{DoxyCode}
5166 \{
5167   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
5168 
5169   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  leftStart   = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}  / 2);
5170   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  bottomStart = (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32})(\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height} / 2);
5171 
5172   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r1, c1;
5173   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  r2, c2;
5174 
5175   \textcolor{keywordflow}{for}  (r1 = 0, r2 = bottomStart;  (r1 < bottomStart)  &&  (r2 < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height});  r1++, r2++)
5176   \{
5177     \textcolor{keywordflow}{for}  (c1 = 0,  c2 = leftStart;  (c1 < leftStart)   &&  (c2 < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width});   c1++, c2++)
5178     \{
5179       result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r1][c1] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r2][c2];
5180       result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r2][c2] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r1][c1];
5181       result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r1][c2] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r2][c1];
5182       result->\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r2][c1] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r1][c2];
5183 
5184       \textcolor{keywordflow}{if}  (result->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red})
5185       \{
5186         result->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r1][c1] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r2][c2];
5187         result->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r2][c2] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r1][c1];
5188         result->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r1][c2] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r2][c1];
5189         result->\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r2][c1] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r1][c2];
5190       \}
5191 
5192       \textcolor{keywordflow}{if}  (result->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue})
5193       \{
5194         result->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r1][c1] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r2][c2];
5195         result->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r2][c2] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r1][c1];
5196         result->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r1][c2] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r2][c1];
5197         result->\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r2][c1] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r1][c2];
5198       \}
5199 
5200       \textcolor{keywordflow}{if}  (result->\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag})
5201       \{
5202         result->\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r1][c1] = \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r2][c2];
5203         result->\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r2][c2] = \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r1][c1];
5204         result->\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r1][c2] = \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r2][c1];
5205         result->\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r2][c1] = \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}[r1][c2];
5206       \}
5207     \}
5208   \}
5209 
5210   \textcolor{keywordflow}{return}  result;
5211 \}  \textcolor{comment}{/* SwapQuadrants  */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Take\+Ownership\+Of\+Another\+Rasters\+Data@{Take\+Ownership\+Of\+Another\+Rasters\+Data}}
\index{Take\+Ownership\+Of\+Another\+Rasters\+Data@{Take\+Ownership\+Of\+Another\+Rasters\+Data}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Take\+Ownership\+Of\+Another\+Rasters\+Data(\+Raster \&other\+Raster)}{TakeOwnershipOfAnotherRastersData(Raster &otherRaster)}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+Take\+Ownership\+Of\+Another\+Rasters\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Raster} \&}]{other\+Raster}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_a657ea947ce97d0f9d967e6688ef8db20}{}\label{class_k_k_b_1_1_raster_a657ea947ce97d0f9d967e6688ef8db20}


Will take ownership of \textquotesingle{}other\+Raster\textquotesingle{} raster dynamically allocated data and copy its non dynamically allocated data. 

Dynamic structures for Fourier Transform and Blob\+Id\textquotesingle{}s will be set to N\+U\+LL on the \textquotesingle{}other\+Raster\textquotesingle{} instance. 

Definition at line 978 of file Raster.\+cpp.



References background\+Pixel\+TH, background\+Pixel\+Value, blob\+Ids, blue, blue\+Area, centroid\+Col, centroid\+Row, color, divisor, file\+Name, foreground\+Pixel\+Count, foreground\+Pixel\+Value, fourier\+Mag, fourier\+Mag\+Area, green, green\+Area, height, max\+Pix\+Val, K\+K\+B\+::\+K\+K\+Str\+::operator=(), red, red\+Area, title, tot\+Pixels, we\+Own\+Raster\+Data, and width.


\begin{DoxyCode}
979 \{
980   CleanUpMemory ();
981   \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue}    = otherRaster.\hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
982   \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH}       = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH};
983   \hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}                 = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds};
984   \hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol}             = otherRaster.\hyperlink{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{centroidCol};
985   \hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow}             = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{centroidRow};
986   \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}                   = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color};
987   \hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor}                 = otherRaster.\hyperlink{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{divisor};
988   \hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName}                = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{fileName};
989   \hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount}    = otherRaster.\hyperlink{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{foregroundPixelCount};
990   \hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue}    = otherRaster.\hyperlink{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{foregroundPixelValue};
991   \hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}              = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag};
992   \hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea}          = otherRaster.\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea};
993   \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}                  = otherRaster.\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
994   \hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal}               = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{maxPixVal};
995   \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                   = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title};
996   \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}               = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};
997   \hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}         = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData};
998   \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}                   = otherRaster.\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
999   \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}                 = otherRaster.\hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea};
1000   \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}               = otherRaster.\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
1001   \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}                = otherRaster.\hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea};
1002   \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}                     = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red};
1003   \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}                   = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green};
1004   \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}                    = otherRaster.\hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue};
1005   otherRaster.\hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData} = \textcolor{keyword}{false};
1006   otherRaster.\hyperlink{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{fourierMagArea} = NULL;
1007   otherRaster.\hyperlink{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{fourierMag}     = NULL;
1008   otherRaster.\hyperlink{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{blobIds}        = NULL;
1009 \}  \textcolor{comment}{/* TakeOwnershipOfAnotherRastersData */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Thin\+Contour@{Thin\+Contour}}
\index{Thin\+Contour@{Thin\+Contour}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Thin\+Contour() const }{ThinContour() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Thin\+Contour (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a213e2625810c526dae791ff6aadad2a5}{}\label{class_k_k_b_1_1_raster_a213e2625810c526dae791ff6aadad2a5}


Definition at line 8187 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), background\+Pixel\+Value, K\+K\+B\+::\+Point\+::\+Col(), Connected\+Component(), Erode\+Spurs(), Find\+Bounding\+Box(), Green(), k\+\_\+\+Thinning\+Check\+Transitions(), k\+\_\+\+Thinning\+Step1cd\+Tests(), k\+\_\+\+Thinning\+Step2cd\+Tests(), K\+K\+B\+::\+Point\+::\+Point(), K\+K\+B\+::\+Point\+List\+::\+Point\+List(), K\+K\+B\+::\+Point\+::\+Row(), and width.



Referenced by K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector().


\begin{DoxyCode}
8188 \{
8189 \textcolor{preprocessor}{  #if  defined(DEBUG\_ThinContour)}
8190   cout << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl} 
8191        << \textcolor{stringliteral}{"Raster::ThinContour"} << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl}
8192        << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
8193 
8194     rasterGlobalHeight = \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
8195     rasterGlobalWidth  = \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
8196 \textcolor{preprocessor}{  #endif}
8197 
8198 
8199   \textcolor{keywordtype}{bool}   PointsRemoved = \textcolor{keyword}{false};
8200   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  m\_Matrix22[3][3];
8201 
8202   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  Iter = 0;
8203   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  prem1;
8204   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  prem2;
8205   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  iCountX, iCountY;
8206   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  pntinpic=0;
8207 
8208   
8209   \hyperlink{class_k_k_b_1_1_point_list}{PointList}  pointList  (\textcolor{keyword}{true});
8210   \hyperlink{class_k_k_b_1_1_point_list}{PointList}  removeList (\textcolor{keyword}{true});
8211 
8212   \textcolor{comment}{//ContourFollower contourFollwer (*this);}
8213   \textcolor{comment}{//PointListPtr  borderPixs = contourFollower.GenerateContourList (blob);}
8214 
8215   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr} workRaster = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
8216   workRaster->\hyperlink{class_k_k_b_1_1_raster_a3062e4d08b104319c1da0561017eb6f7}{ConnectedComponent} (3);
8217 
8218   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**   workGreen  = workRaster->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
8219   workRaster->\hyperlink{class_k_k_b_1_1_raster_a282cb542ba0069ee5da5c82913390f46}{ErodeSpurs} ();
8220   \textcolor{comment}{// workRaster->Dilation ();}
8221 
8222   \textcolor{comment}{//   k\_SetBorder(1,1,pImg);}
8223   PointsRemoved = \textcolor{keyword}{false};
8224   Iter++;
8225 
8226 
8227   \textcolor{comment}{/* step 1 Collecting the Black point in a list */}
8228   prem1 = prem2 = 0;
8229 
8230 
8231   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  minCol, maxCol, minRow, maxRow;
8232 
8233   workRaster->\hyperlink{class_k_k_b_1_1_raster_aee22b87a6feeb8a3e4a388400a23f616}{FindBoundingBox} (minRow,
8234                                minCol,
8235                                maxRow,
8236                                maxCol
8237                               );
8238 
8239   \textcolor{keywordflow}{if}  ((minRow > maxRow)  ||  (minRow < 0)  ||  (minCol < 0))
8240   \{
8241 \textcolor{preprocessor}{    #if  defined(DEBUG\_ThinContour)}
8242       cout << std::endl << std::endl 
8243            << \textcolor{stringliteral}{"Raster::ThinContour    'FindBoundingBox'"} << std::endl
8244            << \textcolor{stringliteral}{"                        minRow["} << minRow << \textcolor{stringliteral}{"]  maxRow["} << maxRow << \textcolor{stringliteral}{"]"} << std::endl
8245            << \hyperlink{namespace_k_k_b_ad1f50f65af6adc8fa9e6f62d007818a8}{std::endl};
8246       cout.flush ();
8247 \textcolor{preprocessor}{    #endif}
8248     \textcolor{comment}{// We must have a empty raster.  In this case there is nothing else we can do.}
8249     \textcolor{keywordflow}{return}  workRaster;
8250   \}
8251 
8252   \textcolor{keywordflow}{for}  (iCountY = minRow;  iCountY <= maxRow;  iCountY++)
8253   \{
8254     minCol = 999999;
8255     maxCol = -1;
8256 
8257     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0; x < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}; x++)
8258     \{
8259       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (workGreen[iCountY][x]))
8260       \{
8261         maxCol = \hyperlink{namespace_k_k_b_a25e187e24c091586293725f27f007ad7}{Max} (maxCol, x);
8262         minCol = \hyperlink{namespace_k_k_b_ad030d1ca8bd5038824c4a923a4d23fb5}{Min} (minCol, x);
8263       \}
8264     \}
8265 
8266     \textcolor{keywordflow}{for}  (iCountX = minCol;  iCountX <= maxCol;  iCountX++)
8267     \{
8268       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_aa1e1363589e719eb64f0957281b84b6a}{ForegroundPixel} (workGreen[iCountY][iCountX]))
8269       \{
8270         \hyperlink{class_k_k_b_1_1_point}{PointPtr} tempPoint = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_point}{Point} (iCountY, iCountX);
8271         pntinpic++;
8272 
8273         \textcolor{keywordflow}{if} (ThinningSearchNeighbors  (iCountX, iCountY, workGreen, &m\_Matrix22[0])  &&
8274             \hyperlink{_raster_8cpp_a26369c862acddcbd9e8b1eb2913adb20}{k\_ThinningCheckTransitions} (&m\_Matrix22[0])                          
         &&
8275             \hyperlink{_raster_8cpp_a18dbacc13d461016bbced3e8c9973757}{k\_ThinningStep1cdTests}     (&m\_Matrix22[0])
8276            )
8277         \{
8278           prem1++;
8279           PointsRemoved = \textcolor{keyword}{true};
8280           removeList.PushOnBack (tempPoint);
8281         \}
8282         \textcolor{keywordflow}{else}
8283         \{
8284           pointList.PushOnBack (tempPoint);
8285         \}
8286       \}
8287     \}
8288   \}
8289 
8290 \textcolor{preprocessor}{  #if  defined(DEBUG\_ThinContour)}
8291     cout << \textcolor{stringliteral}{"Total black points:"} << pntinpic << \textcolor{stringliteral}{"\(\backslash\)n"};
8292     cout.flush ();
8293 \textcolor{preprocessor}{  #endif}
8294 
8295 
8296   \textcolor{comment}{/* Set all pixels positions in RemoveList in image to white */}
8297   \{
8298     \hyperlink{class_k_k_b_1_1_point}{PointPtr}  pixel = removeList.PopFromFront ();
8299     \textcolor{keywordflow}{while}  (pixel)
8300     \{
8301       workGreen[pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ()][pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ()] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8302       \textcolor{keyword}{delete} pixel;
8303       pixel = removeList.PopFromFront ();
8304     \}
8305   \}
8306   
8307   removeList.DeleteContents ();
8308 
8309 
8310   \textcolor{comment}{/* step 2 after step 1 which inserted points in list */}
8311   \textcolor{keywordflow}{if}  (PointsRemoved)
8312   \{
8313 \textcolor{preprocessor}{    #if  defined(DEBUG\_ThinContour)}
8314       cout << \textcolor{stringliteral}{"PointsRemoved = true"} << pntinpic << \textcolor{stringliteral}{"\(\backslash\)n"};
8315       cout.flush ();
8316 \textcolor{preprocessor}{    #endif}
8317 
8318     \hyperlink{class_k_k_b_1_1_point}{PointPtr}  tempPoint = NULL;
8319 
8320     \textcolor{keywordflow}{for}  (iCountX = 0; iCountX < pointList.QueueSize ();  iCountX++)
8321     \{
8322       tempPoint = pointList.IdxToPtr (iCountX);
8323       \textcolor{keywordflow}{if}  (tempPoint == NULL)
8324         \textcolor{keywordflow}{continue};
8325 
8326       \textcolor{keywordflow}{if}  (ThinningSearchNeighbors  (tempPoint->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), tempPoint->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (),  workGreen, &m\_Matrix22[0]
      )  &&
8327            \hyperlink{_raster_8cpp_a26369c862acddcbd9e8b1eb2913adb20}{k\_ThinningCheckTransitions} (&m\_Matrix22[0])                           
                               &&
8328            \hyperlink{_raster_8cpp_ad105800cd4251636e5f095579574a73b}{k\_ThinningStep2cdTests}     (&m\_Matrix22[0])
8329           )
8330       \{
8331         prem2++;
8332         PointsRemoved = \textcolor{keyword}{true};
8333        
8334         \textcolor{comment}{//pointList.DeleteEntry (iCountX);}
8335         pointList.SetIdxToPtr (iCountX, NULL); 
8336         removeList.PushOnBack (tempPoint);
8337         \textcolor{comment}{//iCountX--; /* Must decrease iCountX when a point has been removed */}
8338       \}
8339     \}
8340   \}
8341 
8342   \textcolor{comment}{/* Set all pixels positions in RemoveList in image to white */}
8343   \{
8344     \hyperlink{class_k_k_b_1_1_point}{PointPtr}  pixel = removeList.PopFromFront ();
8345     \textcolor{keywordflow}{while}  (pixel)
8346     \{
8347       workGreen[pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ()][pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ()] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8348       \textcolor{keyword}{delete} pixel;
8349       pixel = removeList.PopFromFront ();
8350     \}
8351   \}
8352 
8353   removeList.DeleteContents ();
8354 \textcolor{preprocessor}{  #if  defined(DEBUG\_ThinContour)}
8355     cout  << \textcolor{stringliteral}{"Iteration "} << Iter << \textcolor{stringliteral}{": Points removed: "} << prem1 << \textcolor{stringliteral}{" + "} << prem2 << \textcolor{stringliteral}{" = "} << prem1+
      prem2 << \textcolor{stringliteral}{"\(\backslash\)n"};
8356     cout.flush ();
8357 \textcolor{preprocessor}{  #endif}
8358 
8359 \textcolor{preprocessor}{  #if  defined(DEBUG\_ThinContour)}
8360     cout << std::endl << \textcolor{stringliteral}{"ThinContour  Starting Step 1    PointsRemoved["} << (PointsRemoved?\textcolor{stringliteral}{"True"}:\textcolor{stringliteral}{"False"})
       << \textcolor{stringliteral}{"]"} << \textcolor{stringliteral}{"\(\backslash\)n"};
8361     cout.flush ();
8362 \textcolor{preprocessor}{  #endif}
8363   \textcolor{comment}{/* step 1 */}
8364   \textcolor{keywordflow}{while}  (PointsRemoved)
8365   \{
8366     \hyperlink{class_k_k_b_1_1_point}{PointPtr}  tempPoint = NULL;
8367 
8368     prem1 = prem2 = 0;
8369 
8370     Iter++;
8371     PointsRemoved = \textcolor{keyword}{false};
8372 
8373     \textcolor{keywordflow}{for}  (iCountX = 0; iCountX < pointList.QueueSize (); iCountX++)
8374     \{
8375       tempPoint = pointList.IdxToPtr (iCountX);
8376       \textcolor{keywordflow}{if}  (tempPoint == NULL)
8377         \textcolor{keywordflow}{continue};
8378       
8379       \textcolor{keywordflow}{if}  ((ThinningSearchNeighbors  (tempPoint->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), tempPoint->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (),  workGreen, &m\_Matrix22[0
      ]))  &&
8380            (\hyperlink{_raster_8cpp_a26369c862acddcbd9e8b1eb2913adb20}{k\_ThinningCheckTransitions} (&m\_Matrix22[0]))                         
                                 &&
8381            (\hyperlink{_raster_8cpp_a18dbacc13d461016bbced3e8c9973757}{k\_ThinningStep1cdTests}     (&m\_Matrix22[0]))
8382           )
8383       \{
8384         prem1++;
8385         PointsRemoved = \textcolor{keyword}{true};
8386         
8387         \textcolor{comment}{/*k\_RemovePosFromGroupSlow(iCountX,&PointList);*/}
8388 
8389         \textcolor{comment}{//pointList.DeleteEntry (iCountX);}
8390         pointList.SetIdxToPtr (iCountX, NULL);
8391         removeList.PushOnBack (tempPoint);
8392         \textcolor{comment}{//iCountX--;  /* Must decrease iCountX when a point has been removed */}
8393       \}
8394     \}
8395     
8396     \textcolor{comment}{/* Set all pixels positions in Remove List in image to white */}
8397 \textcolor{preprocessor}{    #if  defined(DEBUG\_ThinContour)}
8398       cout << \textcolor{stringliteral}{"Set all pixels positions in Remove List in image to white.   removeList.size()=["} << 
      removeList.size () << \textcolor{stringliteral}{"]"} << \textcolor{stringliteral}{"\(\backslash\)n"};
8399       cout.flush ();
8400 \textcolor{preprocessor}{    #endif}
8401 
8402     \{
8403       \hyperlink{class_k_k_b_1_1_point}{PointPtr}  pixel = removeList.PopFromFront ();
8404       \textcolor{keywordflow}{while}  (pixel)
8405       \{
8406         workGreen[pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ()][pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ()] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8407         \textcolor{keyword}{delete} pixel;
8408         pixel = removeList.PopFromFront ();
8409       \}
8410 
8411       removeList.DeleteContents ();
8412     \}
8413 
8414 
8415 \textcolor{preprocessor}{    #if  defined(DEBUG\_ThinContour)}
8416       cout << \textcolor{stringliteral}{"ThinContour  Starting Step 2"} << \textcolor{stringliteral}{"\(\backslash\)n"};
8417       cout.flush ();
8418 \textcolor{preprocessor}{    #endif}
8419     \textcolor{comment}{/* step 2 */}
8420     \textcolor{keywordflow}{for}  (iCountX = 0; iCountX < pointList.QueueSize (); iCountX++)
8421     \{
8422        tempPoint = pointList.IdxToPtr (iCountX);
8423        \textcolor{keywordflow}{if}  (tempPoint == NULL)
8424          \textcolor{keywordflow}{continue};
8425 
8426        \textcolor{keywordflow}{if}  (ThinningSearchNeighbors  (tempPoint->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} (), tempPoint->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} (), workGreen, &m\_Matrix22[0]
      )   &&
8427             \hyperlink{_raster_8cpp_a26369c862acddcbd9e8b1eb2913adb20}{k\_ThinningCheckTransitions} (&m\_Matrix22[0]) &&
8428             \hyperlink{_raster_8cpp_ad105800cd4251636e5f095579574a73b}{k\_ThinningStep2cdTests}     (&m\_Matrix22[0])
8429            )
8430        \{
8431          prem2++;
8432          PointsRemoved = \textcolor{keyword}{true};
8433 
8434          \textcolor{comment}{/*k\_RemovePosFromGroupSlow(iCountX,&PointList);*/}
8435          \textcolor{comment}{//pointList.DeleteEntry (iCountX);}
8436          pointList.SetIdxToPtr (iCountX, NULL);
8437          removeList.PushOnBack (tempPoint);
8438          \textcolor{comment}{//iCountX--; /* Must decrease iCountX when a point has been removed */}
8439        \}
8440     \}
8441 
8442 
8443 \textcolor{preprocessor}{    #if  defined(DEBUG\_ThinContour)}
8444       cout << \textcolor{stringliteral}{"ThinContour  LastStep in loop"} << \textcolor{stringliteral}{"\(\backslash\)n"};
8445       cout.flush ();
8446 \textcolor{preprocessor}{    #endif}
8447 
8448     \textcolor{comment}{/* Set all pixels positions in RemoveList in image to white */}
8449     \{
8450       \hyperlink{class_k_k_b_1_1_point}{PointPtr}  pixel = removeList.PopFromFront ();
8451       \textcolor{keywordflow}{while}  (pixel)
8452       \{
8453         workGreen[pixel->\hyperlink{class_k_k_b_1_1_point_abfc34bcf809fc9fb95baf5c745b07549}{Row} ()][pixel->\hyperlink{class_k_k_b_1_1_point_afb196b03757fc697f6ade0129a1c7fcf}{Col} ()] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
8454         \textcolor{keyword}{delete} pixel;
8455         pixel = removeList.PopFromFront ();
8456       \}
8457 
8458       removeList.DeleteContents ();
8459     \}
8460 
8461 \textcolor{preprocessor}{    #if  defined(DEBUG\_ThinContour)}
8462       cout << \textcolor{stringliteral}{"Iteration "} << Iter << \textcolor{stringliteral}{": Points removed: "} << prem1 << \textcolor{stringliteral}{" + "} << prem2 << \textcolor{stringliteral}{" = "} << prem1 + 
      prem2 << \textcolor{stringliteral}{"\(\backslash\)n"};
8463       cout.flush ();
8464 \textcolor{preprocessor}{    #endif}
8465 
8466   \}
8467 
8468 \textcolor{preprocessor}{  #if  defined(DEBUG\_ThinContour)}
8469     cout << \textcolor{stringliteral}{"ThinContour   Ready to Exit;  going to DeleteContents of 'pointList' and 'removeList'."} << \textcolor{stringliteral}{"\(\backslash\)n
      "};
8470     cout.flush ();
8471 \textcolor{preprocessor}{  #endif}
8472 
8473 
8474   pointList.DeleteContents ();
8475   removeList.DeleteContents ();
8476 
8477 \textcolor{preprocessor}{  #if  defined(DEBUG\_ThinContour)}
8478     cout << \textcolor{stringliteral}{"ThinContour   Exiting'."} << \textcolor{stringliteral}{"\(\backslash\)n"};
8479     cout.flush ();
8480 \textcolor{preprocessor}{  #endif}
8481 
8482     \textcolor{keywordflow}{return}  workRaster;
8483 \}  \textcolor{comment}{/* ThinContour */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Threshold\+In\+H\+SI@{Threshold\+In\+H\+SI}}
\index{Threshold\+In\+H\+SI@{Threshold\+In\+H\+SI}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Threshold\+In\+H\+S\+I(float threshold\+H, float threshold\+S, float threshold\+I, float distance, const Pixel\+Value \&flag\+Value)}{ThresholdInHSI(float thresholdH, float thresholdS, float thresholdI, float distance, const PixelValue &flagValue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Threshold\+In\+H\+SI (
\begin{DoxyParamCaption}
\item[{float}]{thresholdH, }
\item[{float}]{thresholdS, }
\item[{float}]{thresholdI, }
\item[{float}]{distance, }
\item[{const {\bf Pixel\+Value} \&}]{flag\+Value}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_afabacb96b4da8518f62606be99ed6258}{}\label{class_k_k_b_1_1_raster_afabacb96b4da8518f62606be99ed6258}


Definition at line 9455 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Get\+Pixel\+Value(), height, K\+K\+B\+::\+Pixel\+Value\+::\+Pixel\+Value(), Set\+Pixel\+Value(), K\+K\+B\+::\+Pixel\+Value\+::\+To\+H\+S\+I(), and width.


\begin{DoxyCode}
9461 \{
9462   \hyperlink{class_k_k_b_1_1_pixel_value}{PixelValue} \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} (0, 0, 0);
9463   \textcolor{comment}{//Vec<float,3> white(255,255,255);}
9464   \textcolor{keywordtype}{float} tempH, tempS, tempI;
9465   \textcolor{keywordtype}{float} y, x, r, xOriginalPoint, yOriginalPoint;
9466 
9467   \textcolor{comment}{// converts from polar coordinates to Cartesian coordinates. Hue is an angle and Saturation is a distance
       from an origin.}
9468   \textcolor{comment}{// xOriginalPoint and yOriginalPoint are the threshold point coordinates (origin)}
9469   xOriginalPoint = thresholdS * cos (thresholdH);
9470   yOriginalPoint = thresholdS * sin (thresholdH);
9471 
9472   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  resultingImage = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
9473 
9474   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} m = 0;  m < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  m++)
9475   \{
9476     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} n = 0;  n < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  n++)
9477     \{
9478       \hyperlink{class_k_k_b_1_1_raster_aa472a98997466422f24cb5b534cff974}{GetPixelValue} (m, n, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
9479       \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color}.ToHSI (tempH, tempS, tempI);
9480 
9481       \textcolor{comment}{// Convert from Cartesian polar coordinates to Cartesian coordinates. These are the Cartesian
       coordinates of the}
9482       \textcolor{comment}{// current pixel}
9483       x = tempS * cos (tempH);
9484       y = tempS * sin (tempH);
9485 
9486       \textcolor{comment}{// Calculate the distance from the threshold initial point to the current pixel color using }
9487       \textcolor{comment}{// the euclidean distance}
9488       r = (float)(sqrt (pow (xOriginalPoint - x, 2) + pow (yOriginalPoint - y, 2) + pow (thresholdI - tempI
      , 2)));
9489 
9490       \textcolor{keywordflow}{if}  (r <= distance)
9491          resultingImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (m, n, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
9492       \textcolor{keywordflow}{else}
9493         resultingImage->\hyperlink{class_k_k_b_1_1_raster_a5ddb8bd069dc64241941b0b011af8667}{SetPixelValue} (m, n, flagValue);
9494     \}
9495   \}
9496 
9497   \textcolor{keywordflow}{return}  resultingImage;
9498 \}  \textcolor{comment}{/* ThresholdingHSI */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Tightly\+Bounded@{Tightly\+Bounded}}
\index{Tightly\+Bounded@{Tightly\+Bounded}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Tightly\+Bounded(kkuint32 border\+Pixels) const }{TightlyBounded(kkuint32 borderPixels) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Tightly\+Bounded (
\begin{DoxyParamCaption}
\item[{{\bf kkuint32}}]{border\+Pixels}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_abbc38b282b908ac9f3c4f3c23a55cc89}{}\label{class_k_k_b_1_1_raster_abbc38b282b908ac9f3c4f3c23a55cc89}
Returns the smallest image that contains all the foreground pixels plus column and row padding specified by \textquotesingle{}border\+Pixels\textquotesingle{}. 

Definition at line 8619 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Blue(), blue, color, Find\+Bounding\+Box(), Green(), green, Red(), and red.


\begin{DoxyCode}
8620 \{
8621   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  tlRow = 0;
8622   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  tlCol = 0;
8623   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  brRow = 0;
8624   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  brCol = 0;
8625 
8626   \hyperlink{class_k_k_b_1_1_raster_aee22b87a6feeb8a3e4a388400a23f616}{FindBoundingBox} (tlRow, tlCol, brRow, brCol);
8627   \textcolor{keywordflow}{if}  ((tlRow > brRow)  ||  (tlCol > brCol))
8628   \{
8629     \textcolor{keywordflow}{if}  (borderPixels < 1)
8630       borderPixels = 1;
8631     \textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (borderPixels * 2, borderPixels * 2, 
      \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
8632   \}
8633 
8634   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newHeight = (brRow - tlRow) + borderPixels * 2 +  + 1;
8635   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newWidth  = (brCol - tlCol) + borderPixels * 2 +  + 1;
8636 
8637   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (newHeight, newWidth, 
      \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
8638 
8639   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newRed   = result->\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}   ();
8640   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newGreen = result->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
8641   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  newBlue  = result->\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue}  ();
8642 
8643   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  oldR, oldC;
8644 
8645   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newR = borderPixels;
8646   \textcolor{keywordflow}{for}  (oldR = tlRow;  oldR <= brRow;  oldR++)
8647   \{
8648     \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  newC = borderPixels;
8649     \textcolor{keywordflow}{for}  (oldC = tlCol;  oldC < brCol;  oldC++)
8650     \{
8651       newGreen[newR][newC] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[oldR][oldC];
8652       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
8653       \{
8654         newRed [newR][newC] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [oldR][oldC];
8655         newBlue[newR][newC] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[oldR][oldC];
8656       \}
8657       
8658       newC++;
8659     \}
8660     newR++;
8661   \}
8662 
8663   \textcolor{keywordflow}{return}  result;
8664 \}  \textcolor{comment}{/* TightlyBounded */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Title@{Title}}
\index{Title@{Title}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Title() const }{Title() const }}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf K\+K\+Str}\& K\+K\+B\+::\+Raster\+::\+Title (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a9e7ba13e99d1ecf0e0beb971612521bb}{}\label{class_k_k_b_1_1_raster_a9e7ba13e99d1ecf0e0beb971612521bb}


Definition at line 322 of file Raster.\+h.



References title.


\begin{DoxyCode}
322 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title};\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Title@{Title}}
\index{Title@{Title}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Title(const K\+K\+Str \&\+\_\+title)}{Title(const KKStr &_title)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+Title (
\begin{DoxyParamCaption}
\item[{const {\bf K\+K\+Str} \&}]{\+\_\+title}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a0e7fc9d6359e98e183ac889ee408baee}{}\label{class_k_k_b_1_1_raster_a0e7fc9d6359e98e183ac889ee408baee}


Definition at line 348 of file Raster.\+h.



References K\+K\+B\+::\+K\+K\+Str\+::operator=(), and title.


\begin{DoxyCode}
348 \{\hyperlink{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{title}                = \_title;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!To\+Color@{To\+Color}}
\index{To\+Color@{To\+Color}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{To\+Color() const }{ToColor() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+To\+Color (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a1576f8a937b051757f52f863b8c75a6a}{}\label{class_k_k_b_1_1_raster_a1576f8a937b051757f52f863b8c75a6a}


Definition at line 8696 of file Raster.\+cpp.



References Allocate\+A\+Raster\+Instance(), Blue\+Area(), color, Foreground\+Pixel\+Value(), Green\+Area(), green\+Area, height, Red\+Area(), tot\+Pixels, and width.


\begin{DoxyCode}
8697 \{
8698   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
8699     \textcolor{keywordflow}{return} \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (*\textcolor{keyword}{this});
8700 
8701   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  r = \hyperlink{class_k_k_b_1_1_raster_aa879980d112c01cb7ad9a3cfc7cd6f64}{AllocateARasterInstance} (\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, 
      \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \textcolor{keyword}{true});
8702 
8703   \textcolor{keywordflow}{if}  (this->\hyperlink{class_k_k_b_1_1_raster_a11b142b955f79a1482606a32ce209373}{ForegroundPixelValue} () < 100)
8704   \{
8705     \textcolor{comment}{// }
8706     memcpy (r->\hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{RedArea}   (), \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
8707     memcpy (r->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} (), \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
8708     memcpy (r->\hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{BlueArea}  (), \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}, \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels});
8709   \}
8710   \textcolor{keywordflow}{else}
8711   \{
8712     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* srcGreen    = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea};
8713     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* targetRed   = r->\hyperlink{class_k_k_b_1_1_raster_aa3d0f9b4ce0fdd8ac97f996058d09b22}{RedArea}   ();
8714     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* targetGreen = r->\hyperlink{class_k_k_b_1_1_raster_af6ceacfa7835a295d239d141627dbec7}{GreenArea} ();
8715     \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}* targetBlue  = r->\hyperlink{class_k_k_b_1_1_raster_ade7c77867e6b3833e96f5f86aefcffec}{BlueArea}  ();
8716     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < this->\hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x)
8717     \{
8718       \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}  pc = (255 - *srcGreen);
8719       *targetRed   = pc;
8720       *targetGreen = pc;
8721       *targetBlue  = pc;
8722 
8723       ++srcGreen;
8724       ++targetRed;
8725       ++targetGreen;
8726       ++targetBlue;
8727     \}
8728   \}
8729 
8730   \textcolor{keywordflow}{return} r;
8731 \}  \textcolor{comment}{/* ToColor */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!To\+Compressor@{To\+Compressor}}
\index{To\+Compressor@{To\+Compressor}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{To\+Compressor(kkuint32 \&compressed\+Buff\+Len) const }{ToCompressor(kkuint32 &compressedBuffLen) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} $\ast$ Raster\+::\+To\+Compressor (
\begin{DoxyParamCaption}
\item[{{\bf kkuint32} \&}]{compressed\+Buff\+Len}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a936cd7ef055191a8dec317e9d44ad902}{}\label{class_k_k_b_1_1_raster_a936cd7ef055191a8dec317e9d44ad902}


Compresses the image in \hyperlink{class_k_k_b_1_1_raster}{Raster} using zlib library and returns a pointer to compressed data. 

Will first write Rater data to a buffer that will be compressed by the \hyperlink{class_k_k_b_1_1_compressor}{Compressor} class using the zlib library. 
\begin{DoxyCode}
Buffer Contents:
   0 - 3: \hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height}:  high order to low order
   4 - 7:    \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width}:   high order to low order
   8 - 8:    \hyperlink{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{Color}    0 = ,  1 = \hyperlink{class_k_k_b_1_1_raster_a644248f99009d64ac4b8fef4a22aff25}{Color}
   9 -  :   \hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} Channel  (\hyperlink{class_k_k_b_1_1_raster_af8d10d15697d5b92fb9595c48b529feb}{Height} * \hyperlink{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{Width} bytes)
   xxxxx:   \hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}  Channel, \textcolor{keywordflow}{if} \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} image.
   xxxxx:   \hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue} Channel, \textcolor{keywordflow}{if} \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} image.
\end{DoxyCode}
 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em compressed\+Buff\+Len} & Length of the compressed buffer returned. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to compressed data. 
\end{DoxyReturn}


Definition at line 9172 of file Raster.\+cpp.



References blue\+Area, color, K\+K\+B\+::\+Compressor\+::\+Create\+Compressed\+Buffer(), green\+Area, height, red\+Area, tot\+Pixels, and width.


\begin{DoxyCode}
9173 \{
9174   \textcolor{comment}{// Will first write Rater data to a buffer that will be compressed by zlib by the Compressor class.}
9175   \textcolor{comment}{// 0 - 3:    Height:  high order to low order}
9176   \textcolor{comment}{// 4 - 7:    Width:   high order to low order}
9177   \textcolor{comment}{// 8 - 8:    Color    0 = Gray-scale,  1 = Color}
9178   \textcolor{comment}{// 9 - 8 + (Height * Width) Green Channel}
9179   \textcolor{comment}{// xxxxx                    Red  Channel}
9180   \textcolor{comment}{// xxxxx                    Blue Channel}
9181   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  totalDataNeeded = \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels} + (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} ? (2 * 
      \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels}) : 0) + 9;
9182   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  buff = \textcolor{keyword}{new} \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}[totalDataNeeded];
9183   \textcolor{keywordflow}{if}  (!buff)
9184     \textcolor{keywordflow}{return}  NULL;
9185 
9186   memset (buff, 0, totalDataNeeded);
9187 
9188   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  h = (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})\hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};
9189   buff[0] = h % 256;  h = h / 256;
9190   buff[1] = h % 256;  h = h / 256;
9191   buff[2] = h % 256;  h = h / 256;
9192   buff[3] = h % 256;  h = h / 256;
9193 
9194 
9195   \hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32}  w = (\hyperlink{namespace_k_k_b_af8d832f05c54994a1cce25bd5743e19a}{kkuint32})\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};
9196   
9197   buff[4] = w % 256;  w = w / 256;
9198   buff[5] = w % 256;  w = w / 256;
9199   buff[6] = w % 256;  w = w / 256;
9200   buff[7] = w % 256;  w = w / 256;
9201 
9202   buff[8] = (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color} ? 1 : 0);
9203 
9204   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  buffIdx = 9;
9205   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  x = 0;
9206   \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++, buffIdx++)
9207     buff[buffIdx] = \hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x];
9208 
9209   \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
9210   \{
9211     \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++, buffIdx++)
9212       buff[buffIdx] = \hyperlink{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{redArea}[x];
9213 
9214     \textcolor{keywordflow}{for}  (x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  x++, buffIdx++)
9215       buff[buffIdx] = \hyperlink{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{blueArea}[x];
9216   \}
9217 
9218   compressedBuffLen = 0;
9219   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*  compressedBuff = (\hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}*)\hyperlink{class_k_k_b_1_1_compressor_a1f70b55127cc45c05f57d58595e9d2f1}{Compressor::CreateCompressedBuffer}
       (buff, totalDataNeeded, compressedBuffLen);
9220   \textcolor{keyword}{delete}[]  buff;  buff = NULL;
9221   \textcolor{keywordflow}{return}  compressedBuff;
9222 \}  \textcolor{comment}{/* ToCompressor */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Total\+Background\+Pixels@{Total\+Background\+Pixels}}
\index{Total\+Background\+Pixels@{Total\+Background\+Pixels}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Total\+Background\+Pixels() const }{TotalBackgroundPixels() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} Raster\+::\+Total\+Background\+Pixels (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_ac227e0f97820f74b2518b10852fd2d13}{}\label{class_k_k_b_1_1_raster_ac227e0f97820f74b2518b10852fd2d13}


Definition at line 1086 of file Raster.\+cpp.



References background\+Pixel\+TH, green\+Area, and tot\+Pixels.



Referenced by Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), and K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image().


\begin{DoxyCode}
1087 \{
1088   \hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  totalBackgroundPixels = 0;
1089   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} x = 0;  x < \hyperlink{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{totPixels};  ++x)
1090   \{
1091     \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{greenArea}[x] > \hyperlink{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{backgroundPixelTH})
1092       ++totalBackgroundPixels;
1093   \}
1094   \textcolor{keywordflow}{return}  totalBackgroundPixels;
1095 \}  \textcolor{comment}{/* TotalBackgroundPixels */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Tot\+Pixels@{Tot\+Pixels}}
\index{Tot\+Pixels@{Tot\+Pixels}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Tot\+Pixels() const }{TotPixels() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::\+Tot\+Pixels (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a174a392b71afc2295a0ccbfca3d984e9}{}\label{class_k_k_b_1_1_raster_a174a392b71afc2295a0ccbfca3d984e9}
The total number of pixels (Height $\ast$ Width). 

Definition at line 323 of file Raster.\+h.



References tot\+Pixels.



Referenced by K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Class\+Average\+R\+G\+B(), Erosion(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Get\+Class\+Closest\+To\+Target\+Color(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), and K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Transpose@{Transpose}}
\index{Transpose@{Transpose}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Transpose() const }{Transpose() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Raster\+Ptr} Raster\+::\+Transpose (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_k_k_b_1_1_raster_a16c996a65c972f27643d45daf111a579}{}\label{class_k_k_b_1_1_raster_a16c996a65c972f27643d45daf111a579}


Definition at line 8669 of file Raster.\+cpp.



References Blue(), blue, color, Green(), green, height, Raster(), Red(), red, and width.


\begin{DoxyCode}
8670 \{
8671   \hyperlink{class_k_k_b_1_1_raster}{RasterPtr}  result = \textcolor{keyword}{new} \hyperlink{class_k_k_b_1_1_raster_a19ec88efff547c1fcda863172fef620b}{Raster} (\hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width}, \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height}, \hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color});
8672 
8673   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  resultRed   = result->\hyperlink{class_k_k_b_1_1_raster_a337a5a064b27693eec6e380789680239}{Red}   ();
8674   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  resultGreen = result->\hyperlink{class_k_k_b_1_1_raster_a2dbd81f2cb60b3716bcf6467050dde93}{Green} ();
8675   \hyperlink{namespace_k_k_b_ace9969169bf514f9ee6185186949cdf7}{uchar}**  resultBlue  = result->\hyperlink{class_k_k_b_1_1_raster_ae289ec3ad3a27339cd30e9ac3b488004}{Blue}  ();
8676 
8677   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  row = 0;  row < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++row)
8678   \{
8679     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32}  col = 0;  col < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++col)
8680     \{
8681       resultGreen[col][row] = \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[row][col];
8682       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
8683       \{
8684         resultRed [col][row] = \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red} [row][col];
8685         resultBlue[col][row] = \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[row][col];
8686       \}
8687     \}
8688   \}
8689 
8690   \textcolor{keywordflow}{return}  result;
8691 \}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!We\+Own\+Raster\+Data@{We\+Own\+Raster\+Data}}
\index{We\+Own\+Raster\+Data@{We\+Own\+Raster\+Data}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{We\+Own\+Raster\+Data(bool \+\_\+we\+Own\+Raster\+Data)}{WeOwnRasterData(bool _weOwnRasterData)}}]{\setlength{\rightskip}{0pt plus 5cm}void K\+K\+B\+::\+Raster\+::\+We\+Own\+Raster\+Data (
\begin{DoxyParamCaption}
\item[{bool}]{\+\_\+we\+Own\+Raster\+Data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_a4347bd47b18ef660a3f62254635c6d12}{}\label{class_k_k_b_1_1_raster_a4347bd47b18ef660a3f62254635c6d12}


Definition at line 349 of file Raster.\+h.



References we\+Own\+Raster\+Data.


\begin{DoxyCode}
349 \{\hyperlink{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{weOwnRasterData}      = \_weOwnRasterData;\}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!White\+Out\+Background@{White\+Out\+Background}}
\index{White\+Out\+Background@{White\+Out\+Background}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{White\+Out\+Background()}{WhiteOutBackground()}}]{\setlength{\rightskip}{0pt plus 5cm}void Raster\+::\+White\+Out\+Background (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_k_k_b_1_1_raster_ab5a1cf29864ca9b4553d40e0a184c3e4}{}\label{class_k_k_b_1_1_raster_ab5a1cf29864ca9b4553d40e0a184c3e4}


Sets all pixels that are in the Background Range ov values to Background\+Pixel\+Value. 



Definition at line 9814 of file Raster.\+cpp.



References Background\+Pixel(), background\+Pixel\+Value, blue, color, green, height, red, and width.


\begin{DoxyCode}
9815 \{
9816   \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} r = 0;  r < \hyperlink{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{height};  ++r)
9817   \{
9818     \textcolor{keywordflow}{for}  (\hyperlink{namespace_k_k_b_a8fa4952cc84fda1de4bec1fbdd8d5b1b}{kkint32} c = 0;  c < \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};  ++c)
9819     \{
9820       \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a0756fb5530274d5e28858d3e1633d595}{BackgroundPixel} (r, c))
9821       \{
9822         \hyperlink{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{green}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
9823         \textcolor{keywordflow}{if}  (\hyperlink{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{color})
9824         \{
9825           \hyperlink{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{red}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
9826           \hyperlink{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{blue}[r][c] = \hyperlink{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{backgroundPixelValue};
9827         \}
9828       \}
9829     \}
9830   \}
9831 \}  \textcolor{comment}{/* WhiteOutBackground */}
\end{DoxyCode}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!Width@{Width}}
\index{Width@{Width}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{Width() const }{Width() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::\+Width (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}{}\label{class_k_k_b_1_1_raster_aa2780c0b7ae75b7b595f99329689c1f6}


Definition at line 324 of file Raster.\+h.



References width.



Referenced by K\+K\+B\+::\+Bmp\+Image\+::\+Bmp\+Image(), K\+K\+M\+L\+L\+::\+Gray\+Scale\+Images\+F\+V\+Producer\+::\+Compute\+Feature\+Vector(), K\+K\+B\+::\+Contour\+Follower\+::\+Contour\+Follower(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), K\+K\+B\+::\+Raster\+List\+::\+Create\+Smoothed\+Frame(), Dilation(), K\+K\+B\+::\+Display\+Image(), Edge(), Erosion(), Fill\+Blob(), Fill\+Hole(), K\+K\+B\+::\+Convex\+Hull\+::\+Filter(), K\+K\+B\+::\+Morph\+Op\+Binarize\+::\+Perform\+Operation(), Raster(), Rotate(), K\+K\+B\+::\+Save\+Image\+Inverted(), K\+K\+B\+::\+Save\+Image\+P\+G\+M(), K\+K\+B\+::\+Save\+Image\+P\+N\+G(), K\+K\+B\+::\+Save\+Image\+P\+P\+M(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Image(), Segment\+Image(), K\+K\+B\+::\+Segmentor\+O\+T\+S\+U\+::\+Segment\+Masked\+Image(), K\+K\+B\+::\+Morph\+Op\+::\+Set\+Src\+Raster(), and K\+K\+B\+::\+Convex\+Hull\+::\+Store().


\begin{DoxyCode}
324 \{\textcolor{keywordflow}{return}  \hyperlink{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{width};\}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!allocated\+Raster\+Instances@{allocated\+Raster\+Instances}}
\index{allocated\+Raster\+Instances@{allocated\+Raster\+Instances}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{allocated\+Raster\+Instances}{allocatedRasterInstances}}]{\setlength{\rightskip}{0pt plus 5cm}map$<$ {\bf Raster\+Ptr}, {\bf Raster\+Ptr} $>$ Raster\+::allocated\+Raster\+Instances\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a58c233ff55c2a1fa1b021776e7437c27}{}\label{class_k_k_b_1_1_raster_a58c233ff55c2a1fa1b021776e7437c27}


Supports the tracking down of memory leaks in \hyperlink{class_k_k_b_1_1_raster}{Raster}; it will be called every time a new instance of a \textquotesingle{}\hyperlink{class_k_k_b_1_1_raster}{Raster}\textquotesingle{} object is created. 



Definition at line 1358 of file Raster.\+h.

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!background\+Pixel\+TH@{background\+Pixel\+TH}}
\index{background\+Pixel\+TH@{background\+Pixel\+TH}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{background\+Pixel\+TH}{backgroundPixelTH}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::background\+Pixel\+TH\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}{}\label{class_k_k_b_1_1_raster_a3c4e96eaf48274f5d8912617f81f2a0b}
Threshold used to split Background and foreground pixel/ 

Definition at line 1325 of file Raster.\+h.



Referenced by Background\+Pixel(), Background\+Pixel\+T\+H(), Central\+Moments(), Central\+Moments\+Weighted(), Compute\+Central\+Moments(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Dilation(), Erosion(), Fill\+Hole(), Raster(), Reverse\+Image(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), and Total\+Background\+Pixels().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!background\+Pixel\+Value@{background\+Pixel\+Value}}
\index{background\+Pixel\+Value@{background\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{background\+Pixel\+Value}{backgroundPixelValue}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::background\+Pixel\+Value\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}{}\label{class_k_k_b_1_1_raster_ab7ed2191cce116a6a37029dc6e3713ef}


Definition at line 1324 of file Raster.\+h.



Referenced by Background\+Pixel(), Background\+Pixel\+Value(), Band\+Pass(), Create\+Eroded\+Image(), Edge(), Erode\+Spurs(), Erosion(), Erosion\+Boundary(), Erosion\+Changed(), Erosion\+Changed1(), Raster(), Reverse\+Image(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Thin\+Contour(), and White\+Out\+Background().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!blob\+Ids@{blob\+Ids}}
\index{blob\+Ids@{blob\+Ids}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{blob\+Ids}{blobIds}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::blob\+Ids\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}{}\label{class_k_k_b_1_1_raster_a0fc9a1588e809db0b701f0a886bfd18c}
Used when searching for connected components 

Definition at line 1326 of file Raster.\+h.



Referenced by Blob\+Id(), Connected\+Component(), Connected\+Component8\+Conected(), Create\+Color\+With\+Blobs\+Labeld\+By\+Color(), Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(), Extract\+A\+Blob(), Extract\+A\+Blob\+Tightly(), Extract\+Blobs(), Fill\+Blob(), Memory\+Consumed\+Estimated(), Raster(), Reduce\+To\+Most\+Complete\+Blob(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!blue@{blue}}
\index{blue@{blue}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{blue}{blue}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::blue\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}{}\label{class_k_k_b_1_1_raster_a0265be7ea30f5b1f9d6310a79bee868b}


Definition at line 1354 of file Raster.\+h.



Referenced by Blue(), Create\+Gaussian\+Smoothed\+Image(), Create\+Smooth\+Image(), Draw\+Connected\+Point\+List(), Draw\+Line(), Draw\+Point\+List(), Extract\+A\+Blob(), Extract\+A\+Blob\+Tightly(), Extract\+Using\+Mask(), Fill\+Rectangle(), Find\+Magnitude\+Differences(), Get\+Pixel\+Value(), Half\+Size(), Initialize(), Raster(), Reduce\+By\+Factor(), Set\+Pixel\+Value(), Swap\+Quadrants(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Tightly\+Bounded(), Transpose(), and White\+Out\+Background().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!blue\+Area@{blue\+Area}}
\index{blue\+Area@{blue\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{blue\+Area}{blueArea}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$ K\+K\+B\+::\+Raster\+::blue\+Area\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}{}\label{class_k_k_b_1_1_raster_af7996dfe61613e5ecf91454175bfe3f1}


Definition at line 1345 of file Raster.\+h.



Referenced by Blue\+Area(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Histogram(), Initialize(), Raster(), Reverse\+Image(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), and To\+Compressor().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!centroid\+Col@{centroid\+Col}}
\index{centroid\+Col@{centroid\+Col}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{centroid\+Col}{centroidCol}}]{\setlength{\rightskip}{0pt plus 5cm}float K\+K\+B\+::\+Raster\+::centroid\+Col\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}{}\label{class_k_k_b_1_1_raster_ac4cb3984d20f6eef6fd4f201681ea1d5}


Definition at line 1327 of file Raster.\+h.



Referenced by Calc\+Centroid(), Calc\+Orientation\+And\+Eiger\+Ratio(), Central\+Moments(), Centroid\+Col(), Centroid\+Row(), Compute\+Central\+Moments(), Raster(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!centroid\+Row@{centroid\+Row}}
\index{centroid\+Row@{centroid\+Row}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{centroid\+Row}{centroidRow}}]{\setlength{\rightskip}{0pt plus 5cm}float K\+K\+B\+::\+Raster\+::centroid\+Row\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}{}\label{class_k_k_b_1_1_raster_a3380e5734ec57a147e36c734cc83c5ff}


Definition at line 1328 of file Raster.\+h.



Referenced by Calc\+Centroid(), Calc\+Orientation\+And\+Eiger\+Ratio(), Central\+Moments(), Centroid\+Col(), Centroid\+Row(), Compute\+Central\+Moments(), Raster(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!color@{color}}
\index{color@{color}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{color}{color}}]{\setlength{\rightskip}{0pt plus 5cm}bool K\+K\+B\+::\+Raster\+::color\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}{}\label{class_k_k_b_1_1_raster_a482384d89cc53fa4f36276307c746854}


Definition at line 1329 of file Raster.\+h.



Referenced by Band\+Pass(), Color(), Create\+Color(), Create\+Gaussian\+Smoothed\+Image(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Create\+Smoothed\+Medium\+Image(), Dilation(), Draw\+Connected\+Point\+List(), Draw\+Line(), Draw\+Point\+List(), Extract\+A\+Blob(), Extract\+A\+Blob\+Tightly(), Extract\+Channel(), Extract\+Using\+Mask(), Fill\+Rectangle(), Find\+Magnitude\+Differences(), Get\+Pixel\+Value(), Half\+Size(), Histogram(), Histogram\+Grayscale\+Image(), Initialize(), Memory\+Consumed\+Estimated(), Paint\+Point(), Raster(), Reduce\+By\+Factor(), Re\+Size(), Reverse\+Image(), Set\+Pixel\+Value(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Tightly\+Bounded(), To\+Color(), To\+Compressor(), Transpose(), and White\+Out\+Background().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!divisor@{divisor}}
\index{divisor@{divisor}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{divisor}{divisor}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::divisor\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}{}\label{class_k_k_b_1_1_raster_afaaaf54fd824a4a47fba97f7fba9398f}


Definition at line 1330 of file Raster.\+h.



Referenced by Divisor(), Raster(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!file\+Name@{file\+Name}}
\index{file\+Name@{file\+Name}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{file\+Name}{fileName}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf K\+K\+Str} K\+K\+B\+::\+Raster\+::file\+Name\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}{}\label{class_k_k_b_1_1_raster_a742e1da027493443f2dda570a89fe2e9}


Definition at line 1331 of file Raster.\+h.



Referenced by File\+Name(), Memory\+Consumed\+Estimated(), Raster(), Segment\+Image(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!foreground\+Pixel\+Count@{foreground\+Pixel\+Count}}
\index{foreground\+Pixel\+Count@{foreground\+Pixel\+Count}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{foreground\+Pixel\+Count}{foregroundPixelCount}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::foreground\+Pixel\+Count\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}{}\label{class_k_k_b_1_1_raster_aa7e86253f4b9c347da718732e44b60e8}


Definition at line 1332 of file Raster.\+h.



Referenced by Calc\+Area(), Calc\+Area\+And\+Intensity\+Features(), Calc\+Area\+And\+Intensity\+Features16(), Calc\+Area\+And\+Intensity\+Histogram(), Central\+Moments(), Create\+Dilated\+Raster(), Create\+Eroded\+Image(), Create\+Padded\+Raster(), Dilation(), Edge(), Erosion(), Erosion\+Boundary(), Erosion\+Changed(), Erosion\+Changed1(), Fill\+Hole(), Foreground\+Pixel\+Count(), Raster(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!foreground\+Pixel\+Value@{foreground\+Pixel\+Value}}
\index{foreground\+Pixel\+Value@{foreground\+Pixel\+Value}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{foreground\+Pixel\+Value}{foregroundPixelValue}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::foreground\+Pixel\+Value\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}{}\label{class_k_k_b_1_1_raster_ac9a5cec097e9fed669fe3c44bcc1678c}


Definition at line 1333 of file Raster.\+h.



Referenced by Edge(), Fill\+Hole(), Foreground\+Pixel\+Value(), Raster(), Reverse\+Image(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!fourier\+Mag@{fourier\+Mag}}
\index{fourier\+Mag@{fourier\+Mag}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{fourier\+Mag}{fourierMag}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$$\ast$ K\+K\+B\+::\+Raster\+::fourier\+Mag\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}{}\label{class_k_k_b_1_1_raster_a16d18df2f29a49c7a8ee670e0ea0c3a9}
Only used if image is result of a Fourier Transform 

Definition at line 1334 of file Raster.\+h.



Referenced by Fourier\+Extract\+Features(), Raster(), Swap\+Quadrants(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!fourier\+Mag\+Area@{fourier\+Mag\+Area}}
\index{fourier\+Mag\+Area@{fourier\+Mag\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{fourier\+Mag\+Area}{fourierMagArea}}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$ K\+K\+B\+::\+Raster\+::fourier\+Mag\+Area\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}{}\label{class_k_k_b_1_1_raster_adc50969a106f5b57aca3a9ce512df0ce}
Only used if image is result of a Fourier Transform 

Definition at line 1335 of file Raster.\+h.



Referenced by Fast\+Fourier(), Fast\+Fourier\+K\+K(), Fourier\+Extract\+Features(), Fourier\+Mag\+Area(), Memory\+Consumed\+Estimated(), Raster(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!goal\+Keeper@{goal\+Keeper}}
\index{goal\+Keeper@{goal\+Keeper}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{goal\+Keeper}{goalKeeper}}]{\setlength{\rightskip}{0pt plus 5cm}volatile {\bf Goal\+Keeper\+Ptr} Raster\+::goal\+Keeper = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}{}\label{class_k_k_b_1_1_raster_a6ac10b7d375feef9d68f8af61107687d}


Definition at line 1359 of file Raster.\+h.



Referenced by Final\+Clean\+Up(), and Initialize().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!green@{green}}
\index{green@{green}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{green}{green}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::green\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}{}\label{class_k_k_b_1_1_raster_a2d2238911145488e226cd2e34fc8448c}


Definition at line 1353 of file Raster.\+h.



Referenced by Background\+Pixel(), Band\+Pass(), Calc\+Area(), Calc\+Area\+And\+Intensity\+Histogram(), Calc\+Area\+And\+Intensity\+Histogram\+White(), Calc\+Centroid(), Calc\+Orientation\+And\+Eiger\+Ratio(), Calc\+Weighted\+Area(), Central\+Moments(), Central\+Moments\+Weighted(), Compute\+Central\+Moments(), Connected\+Component(), Connected\+Component8\+Conected(), Create\+Color(), Create\+Dilated\+Raster(), Create\+Eroded\+Image(), Create\+Gaussian\+Smoothed\+Image(), Create\+Padded\+Raster(), Create\+Smoothed\+Medium\+Image(), Create\+Smooth\+Image(), Dilation(), Draw\+Connected\+Point\+List(), Draw\+Line(), Draw\+Point\+List(), Erode\+Spurs(), Erosion(), Erosion\+Boundary(), Erosion\+Changed(), Erosion\+Changed1(), Extract\+A\+Blob(), Extract\+A\+Blob\+Tightly(), Extract\+Blobs(), Extract\+Using\+Mask(), Fill\+Hole(), Fill\+Rectangle(), Find\+Bounding\+Box(), Find\+Magnitude\+Differences(), Follow\+Contour(), Foreground\+Pixel(), Get\+Pixel\+Value(), Green(), Half\+Size(), Histogram\+Equalized\+Image(), Histogram\+Grayscale(), Initialize(), Raster(), Reduce\+By\+Even\+Multiple(), Reduce\+By\+Factor(), Reduce\+To\+Most\+Complete\+Blob(), Rows(), Set\+Pixel\+Value(), Swap\+Quadrants(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Tightly\+Bounded(), Transpose(), and White\+Out\+Background().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!green\+Area@{green\+Area}}
\index{green\+Area@{green\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{green\+Area}{greenArea}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$ K\+K\+B\+::\+Raster\+::green\+Area\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}{}\label{class_k_k_b_1_1_raster_ad981258f1f7284a8bd0cd0466f328cdf}


Definition at line 1344 of file Raster.\+h.



Referenced by Band\+Pass(), Calc\+Area\+And\+Intensity\+Features(), Calc\+Area\+And\+Intensity\+Features16(), Connected\+Component(), Connected\+Component8\+Conected(), Create\+Color\+Image\+From\+Labels(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Dilation(), Erosion(), Fast\+Fourier(), Fast\+Fourier\+K\+K(), Green\+Area(), Histogram(), Initialize(), Raster(), Reduce\+To\+Most\+Complete\+Blob(), Reverse\+Image(), Simple\+Compression(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), To\+Color(), To\+Compressor(), and Total\+Background\+Pixels().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!height@{height}}
\index{height@{height}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{height}{height}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::height\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}{}\label{class_k_k_b_1_1_raster_af39ff189de4fbb6de98392e187efafb7}


Definition at line 1336 of file Raster.\+h.



Referenced by Are\+There\+Edge\+Pixels(), Band\+Pass(), Blob\+Id(), Calc\+Area(), Calc\+Area\+And\+Intensity\+Histogram(), Calc\+Area\+And\+Intensity\+Histogram\+White(), Calc\+Centroid(), Calc\+Orientation\+And\+Eiger\+Ratio(), Calc\+Weighted\+Area(), Central\+Moments(), Central\+Moments\+Weighted(), Compute\+Central\+Moments(), Connected\+Component(), Connected\+Component8\+Conected(), Create\+Color(), Create\+Color\+Image\+From\+Labels(), Create\+Color\+With\+Blobs\+Labeld\+By\+Color(), Create\+Dilated\+Raster(), Create\+Eroded\+Image(), Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Create\+Smoothed\+Medium\+Image(), Derive\+Image\+Length(), Dilation(), Draw\+Circle(), Draw\+Connected\+Point\+List(), Draw\+Fat\+Line(), Draw\+Grid(), Draw\+Line(), Draw\+Point\+List(), Edge(), Erode\+Spurs(), Erosion(), Erosion\+Boundary(), Extract\+A\+Blob(), Extract\+Blobs(), Extract\+Channel(), Extract\+Using\+Mask(), Fast\+Fourier(), Fast\+Fourier\+K\+K(), Fill\+Blob(), Fill\+Hole(), Find\+Bounding\+Box(), Follow\+Contour(), Fourier\+Extract\+Features(), Get\+Pixel\+Value(), Get\+Sub\+Set(), Half\+Size(), Height(), Histogram\+Equalized\+Image(), Histogram\+Grayscale(), Initialize(), Memory\+Consumed\+Estimated(), Padded(), Paint\+Point(), Raster(), Reduce\+By\+Even\+Multiple(), Reduce\+By\+Factor(), Reduce\+To\+Most\+Complete\+Blob(), Re\+Size(), Rotate(), Set\+Pixel\+Value(), Simple\+Compression(), Split\+Image\+Into\+Equal\+Parts(), Swap\+Quadrants(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Threshold\+In\+H\+S\+I(), To\+Color(), To\+Compressor(), Transpose(), and White\+Out\+Background().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!max\+Pix\+Val@{max\+Pix\+Val}}
\index{max\+Pix\+Val@{max\+Pix\+Val}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{max\+Pix\+Val}{maxPixVal}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar} K\+K\+B\+::\+Raster\+::max\+Pix\+Val\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}{}\label{class_k_k_b_1_1_raster_a4f37d3b83826f522f61af0918a1d5546}


Definition at line 1337 of file Raster.\+h.



Referenced by Calc\+Area(), Calc\+Area\+And\+Intensity\+Features(), Calc\+Area\+And\+Intensity\+Features16(), Calc\+Area\+And\+Intensity\+Histogram(), Calc\+Area\+And\+Intensity\+Histogram\+White(), Max\+Pix\+Val(), Raster(), and Take\+Ownership\+Of\+Another\+Rasters\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!raster\+Initialized@{raster\+Initialized}}
\index{raster\+Initialized@{raster\+Initialized}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{raster\+Initialized}{rasterInitialized}}]{\setlength{\rightskip}{0pt plus 5cm}volatile bool Raster\+::raster\+Initialized = false\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a2610974dbde577985214db37444f5560}{}\label{class_k_k_b_1_1_raster_a2610974dbde577985214db37444f5560}


Definition at line 1360 of file Raster.\+h.



Referenced by Initialize().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!red@{red}}
\index{red@{red}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{red}{red}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$$\ast$ K\+K\+B\+::\+Raster\+::red\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}{}\label{class_k_k_b_1_1_raster_a7fd39e0463c8477d0d0d26e11126d285}


Definition at line 1352 of file Raster.\+h.



Referenced by Create\+Gaussian\+Smoothed\+Image(), Create\+Smooth\+Image(), Draw\+Connected\+Point\+List(), Draw\+Line(), Draw\+Point\+List(), Extract\+A\+Blob(), Extract\+A\+Blob\+Tightly(), Extract\+Using\+Mask(), Fill\+Rectangle(), Find\+Magnitude\+Differences(), Get\+Pixel\+Value(), Half\+Size(), Initialize(), Raster(), Red(), Reduce\+By\+Factor(), Set\+Pixel\+Value(), Swap\+Quadrants(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Tightly\+Bounded(), Transpose(), and White\+Out\+Background().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!red\+Area@{red\+Area}}
\index{red\+Area@{red\+Area}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{red\+Area}{redArea}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uchar}$\ast$ K\+K\+B\+::\+Raster\+::red\+Area\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}{}\label{class_k_k_b_1_1_raster_aaef16f7d4dc7c8b99e84176d0babd731}


Definition at line 1343 of file Raster.\+h.



Referenced by Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Histogram(), Initialize(), Raster(), Red\+Area(), Reverse\+Image(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), and To\+Compressor().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!title@{title}}
\index{title@{title}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{title}{title}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf K\+K\+Str} K\+K\+B\+::\+Raster\+::title\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}{}\label{class_k_k_b_1_1_raster_a2dc74728363b538563b6626422651236}
Title such as \textquotesingle{}Class" that can be assigned to an image. 

Definition at line 1338 of file Raster.\+h.



Referenced by Raster(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), and Title().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!tot\+Pixels@{tot\+Pixels}}
\index{tot\+Pixels@{tot\+Pixels}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{tot\+Pixels}{totPixels}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::tot\+Pixels\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}{}\label{class_k_k_b_1_1_raster_a9b08c4a0ca0a35435a478599635f1dc0}


Definition at line 1339 of file Raster.\+h.



Referenced by Band\+Pass(), Calc\+Area\+And\+Intensity\+Features(), Calc\+Area\+And\+Intensity\+Features16(), Centroid\+Col(), Centroid\+Row(), Connected\+Component(), Connected\+Component8\+Conected(), Create\+Color\+Image\+From\+Labels(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Fast\+Fourier(), Fast\+Fourier\+K\+K(), Fill\+Hole(), Histogram(), Initialize(), Memory\+Consumed\+Estimated(), Raster(), Reduce\+To\+Most\+Complete\+Blob(), Reverse\+Image(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), To\+Color(), To\+Compressor(), Total\+Background\+Pixels(), and Tot\+Pixels().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!we\+Own\+Raster\+Data@{we\+Own\+Raster\+Data}}
\index{we\+Own\+Raster\+Data@{we\+Own\+Raster\+Data}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{we\+Own\+Raster\+Data}{weOwnRasterData}}]{\setlength{\rightskip}{0pt plus 5cm}bool K\+K\+B\+::\+Raster\+::we\+Own\+Raster\+Data\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}{}\label{class_k_k_b_1_1_raster_a3f960c2c781707efa7942d4fd2065e52}


Definition at line 1340 of file Raster.\+h.



Referenced by Initialize(), Raster(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), and We\+Own\+Raster\+Data().

\index{K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}!width@{width}}
\index{width@{width}!K\+K\+B\+::\+Raster@{K\+K\+B\+::\+Raster}}
\subsubsection[{\texorpdfstring{width}{width}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kkint32} K\+K\+B\+::\+Raster\+::width\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}{}\label{class_k_k_b_1_1_raster_ae0bcc103e191c3421d7692dc69ceb554}


Definition at line 1341 of file Raster.\+h.



Referenced by Are\+There\+Edge\+Pixels(), Band\+Pass(), Blob\+Id(), Calc\+Area(), Calc\+Area\+And\+Intensity\+Histogram(), Calc\+Area\+And\+Intensity\+Histogram\+White(), Calc\+Centroid(), Calc\+Orientation\+And\+Eiger\+Ratio(), Calc\+Weighted\+Area(), Central\+Moments(), Central\+Moments\+Weighted(), Compute\+Central\+Moments(), Connected\+Component(), Connected\+Component8\+Conected(), Create\+Color(), Create\+Color\+Image\+From\+Labels(), Create\+Color\+With\+Blobs\+Labeld\+By\+Color(), Create\+Dilated\+Raster(), Create\+Eroded\+Image(), Create\+From\+Orginal\+Image\+With\+Specifid\+Blobs\+Only(), Create\+Gray\+Scale(), Create\+Gray\+Scale\+K\+L\+T\+On\+Masked\+Area(), Create\+Smoothed\+Medium\+Image(), Derive\+Image\+Length(), Dilation(), Draw\+Circle(), Draw\+Connected\+Point\+List(), Draw\+Fat\+Line(), Draw\+Grid(), Draw\+Line(), Draw\+Point\+List(), Edge(), Erode\+Spurs(), Erosion(), Erosion\+Boundary(), Extract\+A\+Blob(), Extract\+Blobs(), Extract\+Channel(), Extract\+Using\+Mask(), Fast\+Fourier(), Fast\+Fourier\+K\+K(), Fill\+Blob(), Fill\+Hole(), Find\+Bounding\+Box(), Follow\+Contour(), Fourier\+Extract\+Features(), Get\+Pixel\+Value(), Get\+Sub\+Set(), Half\+Size(), Histogram\+Equalized\+Image(), Histogram\+Grayscale(), Initialize(), Padded(), Paint\+Point(), Raster(), Reduce\+By\+Even\+Multiple(), Reduce\+By\+Factor(), Reduce\+To\+Most\+Complete\+Blob(), Re\+Size(), Rotate(), Set\+Pixel\+Value(), Simple\+Compression(), Split\+Image\+Into\+Equal\+Parts(), Swap\+Quadrants(), Take\+Ownership\+Of\+Another\+Rasters\+Data(), Thin\+Contour(), Threshold\+In\+H\+S\+I(), To\+Color(), To\+Compressor(), Transpose(), White\+Out\+Background(), and Width().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Base/\hyperlink{_raster_8h}{Raster.\+h}\item 
C\+:/\+Users/\+Kurt/\+Git\+Hub/\+K\+Square\+Libraries/\+K\+K\+Base/\hyperlink{_raster_8cpp}{Raster.\+cpp}\end{DoxyCompactItemize}
